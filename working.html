<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Trading Tracker - Working Version</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/recharts@2.5.0/umd/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
          --background: #f5f7fa;
          --foreground: #1a2238;
          --card: #e3eaf2;
          --primary: #3a5ba0;
          --secondary: #f7c873;
          --accent: #6ea3c1;
          --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        body { 
            margin: 0; 
            padding: 0; 
            background: var(--background); 
            font-family: var(--font-sans);
            color: var(--foreground);
        }
        
        .metric-card { 
            background: var(--card); 
            border-radius: 8px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            cursor: pointer;
        }
        
        .sidebar-container {
            background: var(--card);
        }
        
        /* Enhanced metric cards for better consistency */
        /* Compact text-based statistics */
        .compact-stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(107, 114, 128, 0.1);
        }
        
        .compact-stat-item:last-child {
            border-bottom: none;
        }
        
        .stat-label-compact {
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            flex: 1;
        }
        
        .stat-value-compact {
            font-size: 16px;
            font-weight: 600;
            color: var(--foreground);
            text-align: right;
            margin-left: 12px;
        }
        
        .stat-detail-compact {
            font-size: 12px;
            color: #9ca3af;
            text-align: right;
            display: block;
            margin-top: 2px;
        }
        
        .stat-group {
            margin-bottom: 24px;
        }
        
        .stat-group-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--foreground);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--accent);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState, useEffect } = React;
        
        function CoinTradingApp() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [chartPeriod, setChartPeriod] = useState('weekly');
            const [showLoginModal, setShowLoginModal] = useState(false);
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [user, setUser] = useState(null);
            
            // 거래내역 관련 상태
            const [showTradeForm, setShowTradeForm] = useState(false);
            const [currentTrade, setCurrentTrade] = useState({
                date: new Date().toISOString().split('T')[0],
                entry: '', withdrawal: '', balance: '', memo: ''
            });
            const [editingTrade, setEditingTrade] = useState(null);
            
            // 매매일지 관련 상태
            const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
            const [journalEntry, setJournalEntry] = useState('');
            const [showJournalForm, setShowJournalForm] = useState(false);
            const [currentMonth, setCurrentMonth] = useState(new Date());
            const [viewMode, setViewMode] = useState('calendar'); // 'calendar' or 'list'
            
            // 매매전략 관련 상태
            const [showStrategyForm, setShowStrategyForm] = useState(false);
            const [currentStrategy, setCurrentStrategy] = useState({
                name: '', description: '', rules: '', riskLevel: 'medium'
            });
            const [editingStrategy, setEditingStrategy] = useState(null);
            
            // 목표설정 관련 상태
            const [showGoalForm, setShowGoalForm] = useState(false);
            const [currentGoal, setCurrentGoal] = useState({
                title: '', targetAmount: '', targetWinRate: '', deadline: '', description: ''
            });
            const [editingGoal, setEditingGoal] = useState(null);
            const [trades, setTrades] = useState([
                { id: 1, date: '2025-07-20', entry: 1000000, withdrawal: 0, balance: 1050000, profit: 50000, memo: '초기 투자' },
                { id: 2, date: '2025-07-21', entry: 0, withdrawal: 0, balance: 1080000, profit: 30000, memo: 'BTC 상승' },
                { id: 3, date: '2025-07-22', entry: 500000, withdrawal: 0, balance: 1620000, profit: 40000, memo: '추가 투자' },
                { id: 4, date: '2025-07-23', entry: 0, withdrawal: 200000, balance: 1350000, profit: -70000, memo: '일부 출금' },
                { id: 5, date: '2025-07-24', entry: 200000, withdrawal: 0, balance: 1580000, profit: 30000, memo: '추가 매수' },
                { id: 6, date: '2025-07-25', entry: 0, withdrawal: 0, balance: 1620000, profit: 40000, memo: '시장 회복' }
            ]);
            const [journals, setJournals] = useState([]);
            const [strategies, setStrategies] = useState([]);
            const [goals, setGoals] = useState([]);

            const formatCurrency = (amount) => `₩${Number(amount).toLocaleString()}`;
            
            const calculateStats = () => {
                const totalProfit = trades.reduce((sum, trade) => sum + (trade.profit || 0), 0);
                const totalTrades = trades.length;
                const profitTrades = trades.filter(t => t.profit > 0).length;
                const winRate = totalTrades > 0 ? (profitTrades / totalTrades * 100) : 0;
                const currentBalance = trades.length > 0 ? trades[trades.length - 1].balance : 0;
                
                return { totalProfit, totalTrades, winRate, currentBalance };
            };

            const stats = calculateStats();
            
            const handleLogin = (email, password) => {
                // 간단한 로그인 시뮬레이션
                if (email && password) {
                    setUser({
                        email: email,
                        name: email.split('@')[0],
                        avatar: '👤'
                    });
                    setIsLoggedIn(true);
                    setShowLoginModal(false);
                    return true;
                }
                return false;
            };
            
            const handleLogout = () => {
                setUser(null);
                setIsLoggedIn(false);
            };
            
            // 거래 추가/수정 핸들러
            const handleAddTrade = () => {
                if (!currentTrade.balance) {
                    alert('잔고를 입력해주세요');
                    return;
                }

                const prevBalance = trades.length > 0 ? trades[trades.length - 1].balance : 0;
                const entry = parseFloat(currentTrade.entry) || 0;
                const withdrawal = parseFloat(currentTrade.withdrawal) || 0;
                const balance = parseFloat(currentTrade.balance);
                const profit = balance - prevBalance - entry + withdrawal;

                const newTrade = {
                    ...currentTrade,
                    id: editingTrade?.id || Date.now(),
                    entry, withdrawal, balance,
                    profit: parseFloat(profit.toFixed(2))
                };

                if (editingTrade) {
                    setTrades(prev => prev.map(t => t.id === editingTrade.id ? newTrade : t));
                } else {
                    setTrades(prev => [...prev, newTrade].sort((a, b) => new Date(a.date) - new Date(b.date)));
                }

                setCurrentTrade({
                    date: new Date().toISOString().split('T')[0],
                    entry: '', withdrawal: '', balance: '', memo: ''
                });
                setEditingTrade(null);
                setShowTradeForm(false);
            };
            
            // 매매일지 핸들러
            const handleSaveJournalEntry = () => {
                if (!journalEntry.trim()) {
                    alert('일지 내용을 입력해주세요');
                    return;
                }

                const newEntry = {
                    id: Date.now(),
                    date: selectedDate,
                    content: journalEntry,
                    timestamp: new Date().toISOString()
                };

                setJournals(prev => {
                    const filtered = prev.filter(j => j.date !== selectedDate);
                    return [...filtered, newEntry].sort((a, b) => new Date(b.date) - new Date(a.date));
                });

                setJournalEntry('');
                setShowJournalForm(false);
            };
            
            // 캘린더 유틸리티 함수들
            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDayOfWeek = firstDay.getDay();
                
                const days = [];
                
                // 이전 달의 빈 칸들
                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(null);
                }
                
                // 현재 달의 날짜들
                for (let day = 1; day <= daysInMonth; day++) {
                    days.push(new Date(year, month, day));
                }
                
                return days;
            };
            
            const formatDateForJournal = (date) => {
                if (!date) return '';
                return date.toISOString().split('T')[0];
            };
            
            const hasJournalEntry = (date) => {
                if (!date) return false;
                const dateStr = formatDateForJournal(date);
                return journals.some(j => j.date === dateStr);
            };
            
            const isToday = (date) => {
                if (!date) return false;
                const today = new Date();
                return date.toDateString() === today.toDateString();
            };
            
            const isSelectedDate = (date) => {
                if (!date) return false;
                const dateStr = formatDateForJournal(date);
                return dateStr === selectedDate;
            };
            
            // 매매전략 핸들러
            const handleSaveStrategy = () => {
                if (!currentStrategy.name.trim()) {
                    alert('전략명을 입력해주세요');
                    return;
                }

                const newStrategy = {
                    ...currentStrategy,
                    id: editingStrategy?.id || Date.now(),
                    createdAt: editingStrategy?.createdAt || new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };

                if (editingStrategy) {
                    setStrategies(prev => prev.map(s => s.id === editingStrategy.id ? newStrategy : s));
                } else {
                    setStrategies(prev => [...prev, newStrategy]);
                }

                setCurrentStrategy({ name: '', description: '', rules: '', riskLevel: 'medium' });
                setEditingStrategy(null);
                setShowStrategyForm(false);
            };

            const handleEditStrategy = (strategy) => {
                setCurrentStrategy(strategy);
                setEditingStrategy(strategy);
                setShowStrategyForm(true);
            };

            const handleDeleteStrategy = (id) => {
                if (confirm('정말 삭제하시겠습니까?')) {
                    setStrategies(prev => prev.filter(s => s.id !== id));
                }
            };
            
            // 목표설정 핸들러
            const handleSaveGoal = () => {
                if (!currentGoal.title.trim() || !currentGoal.targetAmount) {
                    alert('목표명과 목표금액을 입력해주세요');
                    return;
                }

                const newGoal = {
                    ...currentGoal,
                    id: editingGoal?.id || Date.now(),
                    targetAmount: parseFloat(currentGoal.targetAmount),
                    targetWinRate: parseFloat(currentGoal.targetWinRate) || 0,
                    createdAt: editingGoal?.createdAt || new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };

                if (editingGoal) {
                    setGoals(prev => prev.map(g => g.id === editingGoal.id ? newGoal : g));
                } else {
                    setGoals(prev => [...prev, newGoal]);
                }

                setCurrentGoal({ title: '', targetAmount: '', targetWinRate: '', deadline: '', description: '' });
                setEditingGoal(null);
                setShowGoalForm(false);
            };

            const handleEditGoal = (goal) => {
                setCurrentGoal({...goal, targetAmount: goal.targetAmount.toString(), targetWinRate: goal.targetWinRate.toString()});
                setEditingGoal(goal);
                setShowGoalForm(true);
            };

            const handleDeleteGoal = (id) => {
                if (confirm('정말 삭제하시겠습니까?')) {
                    setGoals(prev => prev.filter(g => g.id !== id));
                }
            };

            // Generate chart data for different periods
            const generateChartData = () => {
                if (trades.length === 0) return [];
                
                const sortedTrades = [...trades].sort((a, b) => new Date(a.date) - new Date(b.date));
                const data = [];
                let cumulativeProfit = 0;
                let initialBalance = 1000000; // 초기 자본
                
                if (chartPeriod === 'daily') {
                    sortedTrades.forEach((trade, index) => {
                        cumulativeProfit += trade.profit || 0;
                        const profitRate = ((cumulativeProfit / initialBalance) * 100);
                        data.push({
                            date: new Date(trade.date).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                            profitRate: parseFloat(profitRate.toFixed(2)),
                            profit: cumulativeProfit
                        });
                    });
                } else if (chartPeriod === 'weekly') {
                    const weeklyData = {};
                    sortedTrades.forEach(trade => {
                        const date = new Date(trade.date);
                        const weekStart = new Date(date.setDate(date.getDate() - date.getDay()));
                        const weekKey = weekStart.toISOString().split('T')[0];
                        
                        if (!weeklyData[weekKey]) {
                            weeklyData[weekKey] = { profit: 0, date: weekStart };
                        }
                        weeklyData[weekKey].profit += trade.profit || 0;
                    });
                    
                    Object.values(weeklyData).forEach(week => {
                        cumulativeProfit += week.profit;
                        const profitRate = ((cumulativeProfit / initialBalance) * 100);
                        data.push({
                            date: week.date.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                            profitRate: parseFloat(profitRate.toFixed(2)),
                            profit: cumulativeProfit
                        });
                    });
                } else { // monthly
                    const monthlyData = {};
                    sortedTrades.forEach(trade => {
                        const date = new Date(trade.date);
                        const monthKey = `${date.getFullYear()}-${date.getMonth()}`;
                        
                        if (!monthlyData[monthKey]) {
                            monthlyData[monthKey] = { profit: 0, date: new Date(date.getFullYear(), date.getMonth(), 1) };
                        }
                        monthlyData[monthKey].profit += trade.profit || 0;
                    });
                    
                    Object.values(monthlyData).forEach(month => {
                        cumulativeProfit += month.profit;
                        const profitRate = ((cumulativeProfit / initialBalance) * 100);
                        data.push({
                            date: month.date.toLocaleDateString('ko-KR', { year: 'numeric', month: 'short' }),
                            profitRate: parseFloat(profitRate.toFixed(2)),
                            profit: cumulativeProfit
                        });
                    });
                }
                
                return data;
            };

            const chartData = generateChartData();

            const renderDashboard = () => React.createElement('div', { className: 'space-y-6' }, [
                React.createElement('div', { key: 'header' }, [
                    React.createElement('h1', { 
                        className: 'text-3xl font-bold mb-2',
                        style: { color: 'var(--foreground)' }
                    }, '대시보드'),
                    React.createElement('p', { 
                        className: 'text-gray-600'
                    }, '투자 현황을 한눈에 확인하세요')
                ]),
                
                // Metric Cards
                React.createElement('div', {
                    key: 'metrics',
                    className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6'
                }, [
                    React.createElement('div', { 
                        key: 'profit',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '총 수익'),
                        React.createElement('p', { 
                            className: 'text-2xl font-bold',
                            style: { color: stats.totalProfit >= 0 ? 'var(--accent)' : '#ef4444' }
                        }, formatCurrency(stats.totalProfit))
                    ]),
                    React.createElement('div', { 
                        key: 'balance',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '현재 잔고'),
                        React.createElement('p', { 
                            className: 'text-2xl font-bold',
                            style: { color: 'var(--foreground)' }
                        }, formatCurrency(stats.currentBalance))
                    ]),
                    React.createElement('div', { 
                        key: 'trades',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '총 거래'),
                        React.createElement('p', { 
                            className: 'text-2xl font-bold',
                            style: { color: 'var(--foreground)' }
                        }, `${stats.totalTrades}건`)
                    ]),
                    React.createElement('div', { 
                        key: 'winrate',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '승률'),
                        React.createElement('p', { 
                            className: 'text-2xl font-bold',
                            style: { color: 'var(--accent)' }
                        }, `${stats.winRate.toFixed(1)}%`)
                    ])
                ]),

                // Enhanced Profit Chart
                window.Recharts ? React.createElement('div', {
                    key: 'profit-chart',
                    className: 'metric-card p-8'
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: 'flex items-center justify-between mb-6'
                    }, [
                        React.createElement('div', { key: 'info' }, [
                            React.createElement('h3', {
                                className: 'text-xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '수익률 변화 추이'),
                            React.createElement('p', {
                                className: 'text-sm text-gray-600'
                            }, '기간별 누적 수익률 변화를 한눈에 확인하세요')
                        ]),
                        React.createElement('div', {
                            key: 'period-buttons',
                            className: 'flex rounded-lg p-1',
                            style: { backgroundColor: 'var(--card)' }
                        }, [
                            React.createElement('button', {
                                key: 'daily',
                                onClick: () => setChartPeriod('daily'),
                                className: `px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${
                                    chartPeriod === 'daily' 
                                        ? 'text-white'
                                        : 'text-gray-600 hover:text-gray-900'
                                }`,
                                style: chartPeriod === 'daily' ? { backgroundColor: 'var(--primary)' } : {}
                            }, '일간'),
                            React.createElement('button', {
                                key: 'weekly',
                                onClick: () => setChartPeriod('weekly'),
                                className: `px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${
                                    chartPeriod === 'weekly' 
                                        ? 'text-white'
                                        : 'text-gray-600 hover:text-gray-900'
                                }`,
                                style: chartPeriod === 'weekly' ? { backgroundColor: 'var(--primary)' } : {}
                            }, '주간'),
                            React.createElement('button', {
                                key: 'monthly',
                                onClick: () => setChartPeriod('monthly'),
                                className: `px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${
                                    chartPeriod === 'monthly' 
                                        ? 'text-white'
                                        : 'text-gray-600 hover:text-gray-900'
                                }`,
                                style: chartPeriod === 'monthly' ? { backgroundColor: 'var(--primary)' } : {}
                            }, '월간')
                        ])
                    ]),
                    React.createElement('div', {
                        key: 'chart-container',
                        className: 'h-96'
                    }, chartData.length > 0 ? React.createElement(window.Recharts.ResponsiveContainer, { width: '100%', height: '100%' },
                        React.createElement(window.Recharts.LineChart, { data: chartData }, [
                            React.createElement(window.Recharts.CartesianGrid, {
                                key: 'grid',
                                strokeDasharray: '2 2',
                                stroke: '#f3f4f6',
                                strokeOpacity: 0.7
                            }),
                            React.createElement(window.Recharts.XAxis, {
                                key: 'x',
                                dataKey: 'date',
                                stroke: '#9ca3af',
                                fontSize: 11,
                                axisLine: false,
                                tickLine: false
                            }),
                            React.createElement(window.Recharts.YAxis, {
                                key: 'y',
                                stroke: '#9ca3af',
                                fontSize: 11,
                                axisLine: false,
                                tickLine: false,
                                tickFormatter: (value) => `${value.toFixed(1)}%`
                            }),
                            React.createElement(window.Recharts.Tooltip, {
                                key: 'tooltip',
                                contentStyle: {
                                    backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                    border: 'none',
                                    borderRadius: '12px',
                                    boxShadow: '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                                    fontSize: '13px'
                                },
                                formatter: (value) => [`${value}%`, '수익률'],
                                labelStyle: { color: '#374151', fontWeight: '500' }
                            }),
                            React.createElement(window.Recharts.Line, {
                                key: 'line',
                                type: 'monotone',
                                dataKey: 'profitRate',
                                stroke: '#3b82f6',
                                strokeWidth: 2.5,
                                dot: false,
                                activeDot: { 
                                    r: 5, 
                                    fill: '#3b82f6', 
                                    stroke: '#ffffff', 
                                    strokeWidth: 2,
                                    style: { filter: 'drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))' }
                                }
                            })
                        ])
                    )) : React.createElement('div', {
                        className: 'h-96 flex items-center justify-center text-gray-500'
                    }, [
                        React.createElement('div', { key: 'empty', className: 'text-center' }, [
                            React.createElement('p', { key: 'msg', className: 'text-lg mb-2' }, '거래 데이터가 없습니다'),
                            React.createElement('p', { key: 'desc', className: 'text-sm' }, '거래내역을 추가하면 수익률 차트가 표시됩니다')
                        ])
                    ])
                ])
            ]);

            const renderAnalytics = () => {
                const totalTrades = trades.length;
                const profitTrades = trades.filter(t => (t.profit || 0) > 0);
                const lossTrades = trades.filter(t => (t.profit || 0) < 0);
                const breakEvenTrades = trades.filter(t => (t.profit || 0) === 0);
                const winRate = totalTrades > 0 ? (profitTrades.length / totalTrades * 100) : 0;
                const totalProfit = trades.reduce((sum, t) => sum + (t.profit || 0), 0);
                const avgProfit = totalTrades > 0 ? totalProfit / totalTrades : 0;
                const avgProfitTrade = profitTrades.length > 0 ? profitTrades.reduce((sum, t) => sum + t.profit, 0) / profitTrades.length : 0;
                const avgLossTrade = lossTrades.length > 0 ? lossTrades.reduce((sum, t) => sum + t.profit, 0) / lossTrades.length : 0;
                
                // 목표 달성률 계산 (첫 번째 목표 기준)
                const firstGoal = goals.length > 0 ? goals[0] : null;
                const goalAchievementRate = firstGoal ? Math.min((stats.currentBalance / firstGoal.targetAmount) * 100, 100) : 0;
                
                // 파이차트 데이터 준비
                const winLossData = [
                    { name: '수익', value: profitTrades.length, color: '#10b981' },
                    { name: '손실', value: lossTrades.length, color: '#ef4444' },
                    { name: '무승부', value: breakEvenTrades.length, color: '#6b7280' }
                ];
                
                const goalProgressData = [
                    { name: '달성', value: goalAchievementRate, color: '#3b82f6' },
                    { name: '미달성', value: 100 - goalAchievementRate, color: '#e5e7eb' }
                ];
                
                // 월별 수익 분석 데이터
                const monthlyProfits = {};
                trades.forEach(trade => {
                    const month = trade.date.substring(0, 7); // YYYY-MM
                    if (!monthlyProfits[month]) {
                        monthlyProfits[month] = 0;
                    }
                    monthlyProfits[month] += trade.profit || 0;
                });
                
                const monthlyData = Object.entries(monthlyProfits).map(([month, profit]) => ({
                    month: month,
                    profit: profit,
                    profitRate: profit > 0 ? '+' + (profit / 1000000 * 100).toFixed(1) + '%' : (profit / 1000000 * 100).toFixed(1) + '%'
                })).sort((a, b) => a.month.localeCompare(b.month));

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, '분석'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, '상세한 트레이딩 분석과 통계')
                    ]),

                    // Key Metrics Cards
                    React.createElement('div', {
                        key: 'key-metrics',
                        className: 'grid grid-cols-2 lg:grid-cols-5 gap-4'
                    }, [
                        React.createElement('div', {
                            key: 'total-trades',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '총 거래'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${totalTrades}건`)
                        ]),
                        React.createElement('div', {
                            key: 'win-rate',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '승률'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: winRate >= 50 ? 'var(--accent)' : '#ef4444' }
                            }, `${winRate.toFixed(1)}%`)
                        ]),
                        React.createElement('div', {
                            key: 'avg-profit',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '평균 수익'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: avgProfit >= 0 ? 'var(--accent)' : '#ef4444' }
                            }, formatCurrency(avgProfit))
                        ]),
                        React.createElement('div', {
                            key: 'profit-factor',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '손익비'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, avgLossTrade !== 0 ? `${Math.abs(avgProfitTrade / avgLossTrade).toFixed(2)}` : '-')
                        ]),
                        React.createElement('div', {
                            key: 'goal-progress',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '목표 달성률'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: goalAchievementRate >= 100 ? '#10b981' : 'var(--accent)' }
                            }, `${goalAchievementRate.toFixed(1)}%`)
                        ])
                    ]),
                    
                    // 차트 섹션
                    window.Recharts && React.createElement('div', {
                        key: 'charts-section',
                        className: 'grid grid-cols-1 lg:grid-cols-2 gap-6'
                    }, [
                        // 승률 파이차트
                        React.createElement('div', {
                            key: 'winrate-chart',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '거래 결과 분석'),
                            React.createElement('div', {
                                key: 'chart-container',
                                className: 'h-64 flex items-center justify-center'
                            }, React.createElement(window.Recharts.ResponsiveContainer, { width: '100%', height: '100%' },
                                winLossData.filter(d => d.value > 0).length > 0 ? React.createElement(window.Recharts.PieChart, {}, [
                                    React.createElement(window.Recharts.Pie, {
                                        key: 'pie',
                                        data: winLossData.filter(d => d.value > 0),
                                        cx: '50%',
                                        cy: '50%',
                                        outerRadius: 80,
                                        dataKey: 'value',
                                        label: ({ name, value, percent }) => `${name} ${value}건 (${(percent * 100).toFixed(1)}%)`
                                    }, winLossData.filter(d => d.value > 0).map((entry, index) =>
                                        React.createElement(window.Recharts.Cell, {
                                            key: `cell-${index}`,
                                            fill: entry.color
                                        })
                                    )),
                                    React.createElement(window.Recharts.Tooltip, {
                                        key: 'tooltip',
                                        formatter: (value) => [`${value}건`, '거래 수']
                                    })
                                ]) : React.createElement('p', { className: 'text-gray-500' }, '데이터가 없습니다')
                            ))
                        ]),
                        
                        // 목표 달성률 파이차트
                        React.createElement('div', {
                            key: 'goal-chart',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '목표 달성률'),
                            React.createElement('div', {
                                key: 'chart-container',
                                className: 'h-64 flex items-center justify-center'
                            }, firstGoal ? React.createElement(window.Recharts.ResponsiveContainer, { width: '100%', height: '100%' },
                                React.createElement(window.Recharts.PieChart, {}, [
                                    React.createElement(window.Recharts.Pie, {
                                        key: 'pie',
                                        data: goalProgressData,
                                        cx: '50%',
                                        cy: '50%',
                                        innerRadius: 60,
                                        outerRadius: 80,
                                        startAngle: 90,
                                        endAngle: -270,
                                        dataKey: 'value'
                                    }, goalProgressData.map((entry, index) =>
                                        React.createElement(window.Recharts.Cell, {
                                            key: `cell-${index}`,
                                            fill: entry.color
                                        })
                                    )),
                                    React.createElement('text', {
                                        key: 'center-text',
                                        x: '50%',
                                        y: '50%',
                                        textAnchor: 'middle',
                                        dominantBaseline: 'middle',
                                        fontSize: '24',
                                        fontWeight: 'bold',
                                        fill: 'var(--foreground)'
                                    }, `${goalAchievementRate.toFixed(1)}%`)
                                ])
                            ) : React.createElement('p', { className: 'text-gray-500' }, '목표를 설정해주세요'))
                        ])
                    ]),
                    
                    // 월별 수익 분석 차트
                    monthlyData.length > 0 && window.Recharts && React.createElement('div', {
                        key: 'monthly-chart',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, '월별 수익 분석'),
                        React.createElement('div', {
                            key: 'chart-container',
                            className: 'h-64'
                        }, React.createElement(window.Recharts.ResponsiveContainer, { width: '100%', height: '100%' },
                            React.createElement(window.Recharts.BarChart, {
                                data: monthlyData,
                                margin: { top: 20, right: 30, left: 20, bottom: 5 }
                            }, [
                                React.createElement(window.Recharts.CartesianGrid, {
                                    key: 'grid',
                                    strokeDasharray: '3 3'
                                }),
                                React.createElement(window.Recharts.XAxis, {
                                    key: 'x',
                                    dataKey: 'month',
                                    tick: { fontSize: 12 }
                                }),
                                React.createElement(window.Recharts.YAxis, {
                                    key: 'y',
                                    tick: { fontSize: 12 },
                                    tickFormatter: (value) => `${(value / 10000).toFixed(0)}만`
                                }),
                                React.createElement(window.Recharts.Tooltip, {
                                    key: 'tooltip',
                                    formatter: (value) => [formatCurrency(value), '수익'],
                                    labelFormatter: (label) => `${label} 수익`
                                }),
                                React.createElement(window.Recharts.Bar, {
                                    key: 'bar',
                                    dataKey: 'profit',
                                    fill: 'var(--accent)',
                                    radius: [4, 4, 0, 0]
                                })
                            ])
                        ))
                    ]),

                    // Compact Statistics - Text focused design
                    React.createElement('div', {
                        key: 'detailed-stats',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-6',
                            style: { color: 'var(--foreground)' }
                        }, '상세 통계'),
                        
                        React.createElement('div', {
                            key: 'stats-content',
                            className: 'grid grid-cols-1 md:grid-cols-2 gap-8'
                        }, [
                            // 거래 통계 그룹
                            React.createElement('div', {
                                key: 'trade-stats',
                                className: 'stat-group'
                            }, [
                                React.createElement('h4', {
                                    key: 'group-title',
                                    className: 'stat-group-title'
                                }, '거래 분석'),
                                
                                React.createElement('div', {
                                    key: 'profit-trades',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '수익 거래'),
                                    React.createElement('div', {
                                        key: 'value-container'
                                    }, [
                                        React.createElement('div', {
                                            key: 'value',
                                            className: 'stat-value-compact',
                                            style: { color: 'var(--accent)' }
                                        }, `${profitTrades.length}건`),
                                        React.createElement('div', {
                                            key: 'detail',
                                            className: 'stat-detail-compact'
                                        }, `평균 ${formatCurrency(avgProfitTrade)}`)
                                    ])
                                ]),
                                
                                React.createElement('div', {
                                    key: 'loss-trades',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '손실 거래'),
                                    React.createElement('div', {
                                        key: 'value-container'
                                    }, [
                                        React.createElement('div', {
                                            key: 'value',
                                            className: 'stat-value-compact',
                                            style: { color: '#ef4444' }
                                        }, `${lossTrades.length}건`),
                                        React.createElement('div', {
                                            key: 'detail',
                                            className: 'stat-detail-compact'
                                        }, `평균 ${formatCurrency(avgLossTrade)}`)
                                    ])
                                ]),
                                
                                React.createElement('div', {
                                    key: 'win-rate',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '승률'),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: 'stat-value-compact',
                                        style: { color: winRate >= 50 ? 'var(--accent)' : '#ef4444' }
                                    }, `${winRate.toFixed(1)}%`)
                                ])
                            ]),
                            
                            // 성과 통계 그룹
                            React.createElement('div', {
                                key: 'performance-stats',
                                className: 'stat-group'
                            }, [
                                React.createElement('h4', {
                                    key: 'group-title',
                                    className: 'stat-group-title'
                                }, '성과 분석'),
                                
                                React.createElement('div', {
                                    key: 'max-profit',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '최대 수익'),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: 'stat-value-compact',
                                        style: { color: 'var(--accent)' }
                                    }, formatCurrency(Math.max(...trades.map(t => t.profit || 0), 0)))
                                ]),
                                
                                React.createElement('div', {
                                    key: 'max-loss',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '최대 손실'),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: 'stat-value-compact',
                                        style: { color: '#ef4444' }
                                    }, formatCurrency(Math.abs(Math.min(...trades.map(t => t.profit || 0), 0))))
                                ]),
                                
                                React.createElement('div', {
                                    key: 'streak',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '최대 연승'),
                                    React.createElement('div', {
                                        key: 'value',
                                        className: 'stat-value-compact',
                                        style: { color: 'var(--accent)' }
                                    }, (() => {
                                        let maxWin = 0, currentWin = 0;
                                        trades.forEach(trade => {
                                            if ((trade.profit || 0) > 0) {
                                                currentWin++;
                                                maxWin = Math.max(maxWin, currentWin);
                                            } else {
                                                currentWin = 0;
                                            }
                                        });
                                        return `${maxWin}연승`;
                                    })())
                                ]),
                                
                                React.createElement('div', {
                                    key: 'volatility',
                                    className: 'compact-stat-item'
                                }, [
                                    React.createElement('span', {
                                        key: 'label',
                                        className: 'stat-label-compact'
                                    }, '수익 변동성'),
                                    React.createElement('div', {
                                        key: 'value-container'
                                    }, [
                                        React.createElement('div', {
                                            key: 'value',
                                            className: 'stat-value-compact'
                                        }, totalTrades > 1 ? `${(Math.sqrt(trades.reduce((sum, t) => sum + Math.pow((t.profit || 0) - avgProfit, 2), 0) / (totalTrades - 1)) / 10000).toFixed(1)}만원` : '-'),
                                        React.createElement('div', {
                                            key: 'detail',
                                            className: 'stat-detail-compact'
                                        }, '표준편차')
                                    ])
                                ])
                            ])
                        ])
                    ])
                ]);
            };


            const renderTrades = () => {

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '거래내역'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '모든 거래 기록을 관리하세요')
                        ]),
                        React.createElement('button', {
                            key: 'add',
                            onClick: () => setShowTradeForm(true),
                            className: 'btn-primary'
                        }, '+ 새 거래')
                    ]),

                    React.createElement('div', {
                        key: 'table',
                        className: 'metric-card overflow-hidden'
                    }, [
                        React.createElement('div', {
                            key: 'table-header',
                            className: 'px-6 py-4 border-b border-gray-200',
                            style: { backgroundColor: 'var(--card)' }
                        }, React.createElement('h3', {
                            className: 'text-lg font-semibold'
                        }, `총 ${trades.length}건의 거래`)),
                        
                        trades.length === 0 
                            ? React.createElement('div', {
                                key: 'empty',
                                className: 'p-8 text-center text-gray-500'
                            }, '거래 내역이 없습니다. 새 거래를 추가해보세요!')
                            : React.createElement('div', {
                                key: 'table-body',
                                className: 'overflow-x-auto'
                            }, React.createElement('table', {
                                className: 'w-full'
                            }, [
                                React.createElement('thead', {
                                    key: 'thead',
                                    style: { backgroundColor: 'var(--muted)' }
                                }, React.createElement('tr', {}, [
                                    React.createElement('th', { key: 'date', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '날짜'),
                                    React.createElement('th', { key: 'entry', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '입금'),
                                    React.createElement('th', { key: 'withdrawal', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '출금'),
                                    React.createElement('th', { key: 'balance', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '잔고'),
                                    React.createElement('th', { key: 'profit', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '수익'),
                                    React.createElement('th', { key: 'memo', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '메모')
                                ])),
                                React.createElement('tbody', {
                                    key: 'tbody',
                                    className: 'divide-y divide-gray-200'
                                }, trades.map(trade =>
                                    React.createElement('tr', {
                                        key: trade.id,
                                        className: 'hover:bg-gray-50'
                                    }, [
                                        React.createElement('td', { key: 'date', className: 'px-6 py-4 text-sm font-mono' }, trade.date),
                                        React.createElement('td', { key: 'entry', className: 'px-6 py-4 text-sm font-mono' }, trade.entry ? formatCurrency(trade.entry) : '-'),
                                        React.createElement('td', { key: 'withdrawal', className: 'px-6 py-4 text-sm font-mono' }, trade.withdrawal ? formatCurrency(trade.withdrawal) : '-'),
                                        React.createElement('td', { key: 'balance', className: 'px-6 py-4 text-sm font-mono font-semibold' }, formatCurrency(trade.balance)),
                                        React.createElement('td', { 
                                            key: 'profit', 
                                            className: `px-6 py-4 text-sm font-mono font-semibold ${trade.profit >= 0 ? 'text-green-600' : 'text-red-600'}`
                                        }, `${trade.profit >= 0 ? '+' : ''}${formatCurrency(trade.profit)}`),
                                        React.createElement('td', { key: 'memo', className: 'px-6 py-4 text-sm text-gray-500' }, trade.memo || '-')
                                    ])
                                ))
                            ]))
                    ]),

                    // Trade Form Modal
                    showTradeForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-md'
                    }, [
                        React.createElement('h2', { key: 'title', className: 'text-xl font-bold mb-4' }, '새 거래'),
                        React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'date' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '날짜'),
                                React.createElement('input', {
                                    type: 'date',
                                    value: currentTrade.date,
                                    onChange: (e) => setCurrentTrade({...currentTrade, date: e.target.value}),
                                    className: 'w-full p-2 border rounded'
                                })
                            ]),
                            React.createElement('div', { key: 'entry' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '입금'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: currentTrade.entry,
                                    onChange: (e) => setCurrentTrade({...currentTrade, entry: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '0'
                                })
                            ]),
                            React.createElement('div', { key: 'withdrawal' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '출금'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: currentTrade.withdrawal,
                                    onChange: (e) => setCurrentTrade({...currentTrade, withdrawal: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '0'
                                })
                            ]),
                            React.createElement('div', { key: 'balance' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '잔고'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: currentTrade.balance,
                                    onChange: (e) => setCurrentTrade({...currentTrade, balance: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '현재 잔고'
                                })
                            ]),
                            React.createElement('div', { key: 'memo' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '메모'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: currentTrade.memo,
                                    onChange: (e) => setCurrentTrade({...currentTrade, memo: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '거래 내용'
                                })
                            ])
                        ]),
                        React.createElement('div', { key: 'actions', className: 'flex justify-end gap-3 mt-6' }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => setShowTradeForm(false),
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleAddTrade,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            const renderJournal = () => {
                const currentEntry = journals.find(j => j.date === selectedDate);
                const days = getDaysInMonth(currentMonth);
                const monthNames = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
                const dayNames = ['일', '월', '화', '수', '목', '금', '토'];

                const handleDateClick = (date) => {
                    if (!date) return;
                    const dateStr = formatDateForJournal(date);
                    setSelectedDate(dateStr);
                    const existingEntry = journals.find(j => j.date === dateStr);
                    if (existingEntry) {
                        setJournalEntry(existingEntry.content);
                        setShowJournalForm(true);
                    }
                };

                const handlePrevMonth = () => {
                    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1));
                };

                const handleNextMonth = () => {
                    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1));
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '매매일지'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '일별 매매 기록과 감정을 기록하세요')
                        ]),
                        React.createElement('div', { key: 'actions', className: 'flex gap-3' }, [
                            React.createElement('button', {
                                key: 'view-toggle',
                                onClick: () => setViewMode(viewMode === 'calendar' ? 'list' : 'calendar'),
                                className: 'px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors'
                            }, viewMode === 'calendar' ? '📋 목록보기' : '📅 캘린더보기'),
                            React.createElement('button', {
                                key: 'new-entry',
                                onClick: () => {
                                    setJournalEntry(currentEntry?.content || '');
                                    setShowJournalForm(true);
                                },
                                className: 'btn-primary'
                            }, currentEntry ? '일지 수정' : '+ 새 일지')
                        ])
                    ]),

                    // 캘린더 뷰
                    viewMode === 'calendar' && React.createElement('div', {
                        key: 'calendar-section',
                        className: 'metric-card p-6'
                    }, [
                        // 캘린더 헤더
                        React.createElement('div', {
                            key: 'calendar-header',
                            className: 'flex items-center justify-between mb-6'
                        }, [
                            React.createElement('button', {
                                key: 'prev',
                                onClick: handlePrevMonth,
                                className: 'p-2 hover:bg-gray-100 rounded-lg transition-colors'
                            }, '◀'),
                            React.createElement('h2', {
                                key: 'month-year',
                                className: 'text-xl font-semibold',
                                style: { color: 'var(--foreground)' }
                            }, `${currentMonth.getFullYear()}년 ${monthNames[currentMonth.getMonth()]}`),
                            React.createElement('button', {
                                key: 'next',
                                onClick: handleNextMonth,
                                className: 'p-2 hover:bg-gray-100 rounded-lg transition-colors'
                            }, '▶')
                        ]),
                        
                        // 요일 헤더
                        React.createElement('div', {
                            key: 'day-headers',
                            className: 'grid grid-cols-7 gap-1 mb-2'
                        }, dayNames.map(day =>
                            React.createElement('div', {
                                key: day,
                                className: 'p-2 text-center text-sm font-medium text-gray-500'
                            }, day)
                        )),
                        
                        // 캘린더 날짜들
                        React.createElement('div', {
                            key: 'calendar-grid',
                            className: 'grid grid-cols-7 gap-1'
                        }, days.map((date, index) =>
                            React.createElement('div', {
                                key: index,
                                onClick: () => handleDateClick(date),
                                className: `relative p-2 h-16 border rounded-lg cursor-pointer transition-all hover:bg-gray-50 ${
                                    date ? (isSelectedDate(date) ? 'bg-blue-100 border-blue-300' : 
                                           isToday(date) ? 'bg-green-50 border-green-300' : 
                                           'border-gray-200') : 'cursor-default'
                                }`
                            }, [
                                date && React.createElement('div', {
                                    key: 'date-number',
                                    className: `text-sm font-medium ${
                                        isSelectedDate(date) ? 'text-blue-700' :
                                        isToday(date) ? 'text-green-700' :
                                        'text-gray-900'
                                    }`
                                }, date.getDate()),
                                date && hasJournalEntry(date) && React.createElement('div', {
                                    key: 'journal-indicator',
                                    className: 'absolute bottom-1 right-1 w-2 h-2 bg-blue-500 rounded-full'
                                })
                            ])
                        ))
                    ]),

                    // 선택된 날짜의 일지 표시
                    selectedDate && React.createElement('div', {
                        key: 'selected-entry',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'date-title',
                            className: 'text-lg font-semibold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, `${selectedDate} 매매일지`),
                        
                        currentEntry ? React.createElement('div', {
                            key: 'entry-display',
                            className: 'bg-gray-50 p-4 rounded-lg'
                        }, [
                            React.createElement('div', {
                                key: 'entry-header',
                                className: 'flex justify-between items-center mb-3'
                            }, [
                                React.createElement('h3', {
                                    className: 'font-semibold',
                                    style: { color: 'var(--foreground)' }
                                }, `${selectedDate} 일지`),
                                React.createElement('span', {
                                    className: 'text-sm text-gray-500'
                                }, new Date(currentEntry.timestamp).toLocaleString('ko-KR'))
                            ]),
                            React.createElement('div', {
                                key: 'entry-content',
                                className: 'whitespace-pre-wrap text-gray-700'
                            }, currentEntry.content)
                        ]) : React.createElement('div', {
                            key: 'no-entry',
                            className: 'text-center py-8 text-gray-500'
                        }, '선택한 날짜에 작성된 일지가 없습니다.')
                    ]),

                    // 목록 뷰
                    viewMode === 'list' && React.createElement('div', {
                        key: 'list-view',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, '전체 매매일지'),
                        journals.length === 0 
                            ? React.createElement('p', {
                                key: 'empty',
                                className: 'text-gray-500 text-center py-8'
                            }, '작성된 일지가 없습니다.')
                            : React.createElement('div', {
                                key: 'entries-grid',
                                className: 'grid gap-4 md:grid-cols-2 lg:grid-cols-3'
                            }, journals.map(entry =>
                                React.createElement('div', {
                                    key: entry.id,
                                    className: 'border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer',
                                    onClick: () => {
                                        setSelectedDate(entry.date);
                                        setViewMode('calendar');
                                    }
                                }, [
                                    React.createElement('div', {
                                        key: 'header',
                                        className: 'flex justify-between items-center mb-2'
                                    }, [
                                        React.createElement('h4', {
                                            key: 'date',
                                            className: 'font-medium',
                                            style: { color: 'var(--foreground)' }
                                        }, entry.date),
                                        React.createElement('span', {
                                            key: 'time',
                                            className: 'text-xs text-gray-400'
                                        }, new Date(entry.timestamp).toLocaleDateString('ko-KR'))
                                    ]),
                                    React.createElement('p', {
                                        key: 'preview',
                                        className: 'text-sm text-gray-600 line-clamp-3'
                                    }, entry.content.substring(0, 100) + (entry.content.length > 100 ? '...' : ''))
                                ])
                            ))
                    ]),

                    // 최근 일지 (캘린더 뷰일 때만 표시)
                    viewMode === 'calendar' && React.createElement('div', {
                        key: 'recent-entries',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, '최근 일지'),
                        journals.length === 0 
                            ? React.createElement('p', {
                                key: 'empty',
                                className: 'text-gray-500 text-center py-4'
                            }, '작성된 일지가 없습니다.')
                            : React.createElement('div', {
                                key: 'entries-list',
                                className: 'space-y-3'
                            }, journals.slice(0, 5).map(entry =>
                                React.createElement('div', {
                                    key: entry.id,
                                    className: 'border-l-4 pl-4 py-2 cursor-pointer hover:bg-gray-50',
                                    style: { borderColor: 'var(--accent)' },
                                    onClick: () => setSelectedDate(entry.date)
                                }, [
                                    React.createElement('div', {
                                        key: 'date',
                                        className: 'font-medium',
                                        style: { color: 'var(--foreground)' }
                                    }, entry.date),
                                    React.createElement('div', {
                                        key: 'preview',
                                        className: 'text-sm text-gray-600 mt-1'
                                    }, entry.content.substring(0, 100) + (entry.content.length > 100 ? '...' : ''))
                                ])
                            ))
                    ]),

                    // Journal Form Modal
                    showJournalForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto'
                    }, [
                        React.createElement('h2', { 
                            key: 'title', 
                            className: 'text-xl font-bold mb-4' 
                        }, `${selectedDate} 매매일지`),
                        React.createElement('textarea', {
                            key: 'content',
                            value: journalEntry,
                            onChange: (e) => setJournalEntry(e.target.value),
                            className: 'w-full h-64 p-4 border rounded-lg resize-none',
                            placeholder: '오늘의 매매 결과, 감정, 배운 점 등을 자유롭게 기록하세요...\n\n예시:\n- 오늘 BTC 3% 상승으로 50만원 수익\n- 너무 성급하게 매도했음, 다음엔 더 기다려보자\n- 시장 심리가 긍정적으로 변하는 것 같음'
                        }),
                        React.createElement('div', { 
                            key: 'actions', 
                            className: 'flex justify-end gap-3 mt-6' 
                        }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => setShowJournalForm(false),
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSaveJournalEntry,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            const renderStrategy = () => {

                const getRiskColor = (level) => {
                    switch (level) {
                        case 'low': return '#10b981';
                        case 'medium': return '#f59e0b';
                        case 'high': return '#ef4444';
                        default: return '#6b7280';
                    }
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '매매전략'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '체계적인 투자 전략을 관리하세요')
                        ]),
                        React.createElement('button', {
                            key: 'add',
                            onClick: () => setShowStrategyForm(true),
                            className: 'btn-primary'
                        }, '+ 새 전략')
                    ]),

                    strategies.length === 0 
                        ? React.createElement('div', {
                            key: 'empty',
                            className: 'metric-card p-8 text-center'
                        }, [
                            React.createElement('div', { key: 'icon', className: 'text-6xl mb-4' }, '🎯'),
                            React.createElement('h3', { 
                                key: 'title',
                                className: 'text-xl font-semibold mb-2' 
                            }, '매매전략이 없습니다'),
                            React.createElement('p', { 
                                key: 'desc',
                                className: 'text-gray-600' 
                            }, '첫 번째 매매전략을 추가해보세요!')
                        ])
                        : React.createElement('div', {
                            key: 'strategies-grid',
                            className: 'grid gap-6 md:grid-cols-2'
                        }, strategies.map(strategy =>
                            React.createElement('div', {
                                key: strategy.id,
                                className: 'metric-card p-6'
                            }, [
                                React.createElement('div', {
                                    key: 'header',
                                    className: 'flex items-start justify-between mb-4'
                                }, [
                                    React.createElement('div', { key: 'info' }, [
                                        React.createElement('h3', {
                                            className: 'text-lg font-semibold mb-2',
                                            style: { color: 'var(--foreground)' }
                                        }, strategy.name),
                                        React.createElement('span', {
                                            className: 'px-2 py-1 text-xs font-medium rounded-full',
                                            style: { 
                                                backgroundColor: getRiskColor(strategy.riskLevel) + '20',
                                                color: getRiskColor(strategy.riskLevel)
                                            }
                                        }, `${strategy.riskLevel} 위험`)
                                    ]),
                                    React.createElement('div', {
                                        key: 'actions',
                                        className: 'flex gap-2'
                                    }, [
                                        React.createElement('button', {
                                            key: 'edit',
                                            onClick: () => handleEditStrategy(strategy),
                                            className: 'text-blue-600 hover:text-blue-800 text-sm'
                                        }, '수정'),
                                        React.createElement('button', {
                                            key: 'delete',
                                            onClick: () => handleDeleteStrategy(strategy.id),
                                            className: 'text-red-600 hover:text-red-800 text-sm'
                                        }, '삭제')
                                    ])
                                ]),
                                React.createElement('div', {
                                    key: 'content',
                                    className: 'space-y-3'
                                }, [
                                    React.createElement('div', { key: 'description' }, [
                                        React.createElement('h4', {
                                            className: 'text-sm font-medium text-gray-500 mb-1'
                                        }, '설명'),
                                        React.createElement('p', {
                                            className: 'text-sm text-gray-700'
                                        }, strategy.description || '설명 없음')
                                    ]),
                                    React.createElement('div', { key: 'rules' }, [
                                        React.createElement('h4', {
                                            className: 'text-sm font-medium text-gray-500 mb-1'
                                        }, '매매 규칙'),
                                        React.createElement('p', {
                                            className: 'text-sm text-gray-700 whitespace-pre-wrap'
                                        }, strategy.rules || '규칙 없음')
                                    ]),
                                    React.createElement('div', {
                                        key: 'date',
                                        className: 'text-xs text-gray-400 pt-2 border-t'
                                    }, `생성: ${new Date(strategy.createdAt).toLocaleDateString('ko-KR')}`)
                                ])
                            ])
                        )),

                    // Strategy Form Modal
                    showStrategyForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto'
                    }, [
                        React.createElement('h2', { 
                            key: 'title', 
                            className: 'text-xl font-bold mb-4' 
                        }, editingStrategy ? '전략 수정' : '새 전략'),
                        React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'name' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '전략명'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: currentStrategy.name,
                                    onChange: (e) => setCurrentStrategy({...currentStrategy, name: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '전략명을 입력하세요'
                                })
                            ]),
                            React.createElement('div', { key: 'risk' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '위험도'),
                                React.createElement('select', {
                                    value: currentStrategy.riskLevel,
                                    onChange: (e) => setCurrentStrategy({...currentStrategy, riskLevel: e.target.value}),
                                    className: 'w-full p-2 border rounded'
                                }, [
                                    React.createElement('option', { key: 'low', value: 'low' }, '낮음'),
                                    React.createElement('option', { key: 'medium', value: 'medium' }, '보통'),
                                    React.createElement('option', { key: 'high', value: 'high' }, '높음')
                                ])
                            ]),
                            React.createElement('div', { key: 'description' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '설명'),
                                React.createElement('textarea', {
                                    value: currentStrategy.description,
                                    onChange: (e) => setCurrentStrategy({...currentStrategy, description: e.target.value}),
                                    className: 'w-full p-2 border rounded h-20 resize-none',
                                    placeholder: '전략에 대한 간단한 설명'
                                })
                            ]),
                            React.createElement('div', { key: 'rules' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '매매 규칙'),
                                React.createElement('textarea', {
                                    value: currentStrategy.rules,
                                    onChange: (e) => setCurrentStrategy({...currentStrategy, rules: e.target.value}),
                                    className: 'w-full p-2 border rounded h-32 resize-none',
                                    placeholder: '구체적인 매매 규칙을 작성하세요...\n\n예시:\n- 진입: RSI 30 이하에서 매수\n- 익절: +10% 수익에서 50% 매도\n- 손절: -5% 손실에서 전량 매도'
                                })
                            ])
                        ]),
                        React.createElement('div', { 
                            key: 'actions', 
                            className: 'flex justify-end gap-3 mt-6' 
                        }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => {
                                    setShowStrategyForm(false);
                                    setEditingStrategy(null);
                                    setCurrentStrategy({ name: '', description: '', rules: '', riskLevel: 'medium' });
                                },
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSaveStrategy,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            const renderGoals = () => {

                const calculateProgress = (goal) => {
                    const currentBalance = stats.currentBalance;
                    const currentWinRate = stats.winRate;
                    
                    const amountProgress = Math.min((currentBalance / goal.targetAmount) * 100, 100);
                    const winRateProgress = goal.targetWinRate > 0 ? Math.min((currentWinRate / goal.targetWinRate) * 100, 100) : 100;
                    
                    return { amountProgress, winRateProgress };
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '목표설정'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '투자 목표를 설정하고 진행상황을 추적하세요')
                        ]),
                        React.createElement('button', {
                            key: 'add',
                            onClick: () => setShowGoalForm(true),
                            className: 'btn-primary'
                        }, '+ 새 목표')
                    ]),

                    // Current Status Summary
                    React.createElement('div', {
                        key: 'status-summary',
                        className: 'grid grid-cols-1 md:grid-cols-3 gap-4'
                    }, [
                        React.createElement('div', {
                            key: 'current-balance',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '현재 잔고'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, formatCurrency(stats.currentBalance))
                        ]),
                        React.createElement('div', {
                            key: 'current-winrate',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '현재 승률'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--accent)' }
                            }, `${stats.winRate.toFixed(1)}%`)
                        ]),
                        React.createElement('div', {
                            key: 'active-goals',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '활성 목표'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${goals.length}개`)
                        ])
                    ]),

                    goals.length === 0 
                        ? React.createElement('div', {
                            key: 'empty',
                            className: 'metric-card p-8 text-center'
                        }, [
                            React.createElement('div', { key: 'icon', className: 'text-6xl mb-4' }, '🏆'),
                            React.createElement('h3', { 
                                key: 'title',
                                className: 'text-xl font-semibold mb-2' 
                            }, '목표가 없습니다'),
                            React.createElement('p', { 
                                key: 'desc',
                                className: 'text-gray-600' 
                            }, '첫 번째 투자 목표를 설정해보세요!')
                        ])
                        : React.createElement('div', {
                            key: 'goals-list',
                            className: 'space-y-4'
                        }, goals.map(goal => {
                            const { amountProgress, winRateProgress } = calculateProgress(goal);
                            const isExpired = goal.deadline && new Date(goal.deadline) < new Date();
                            
                            return React.createElement('div', {
                                key: goal.id,
                                className: `metric-card p-6 ${isExpired ? 'border-red-200' : ''}`
                            }, [
                                React.createElement('div', {
                                    key: 'header',
                                    className: 'flex items-start justify-between mb-4'
                                }, [
                                    React.createElement('div', { key: 'info' }, [
                                        React.createElement('h3', {
                                            className: 'text-lg font-semibold mb-1',
                                            style: { color: 'var(--foreground)' }
                                        }, goal.title),
                                        goal.deadline && React.createElement('p', {
                                            key: 'deadline',
                                            className: `text-sm ${isExpired ? 'text-red-600' : 'text-gray-500'}`
                                        }, `목표일: ${goal.deadline} ${isExpired ? '(만료됨)' : ''}`)
                                    ]),
                                    React.createElement('div', {
                                        key: 'actions',
                                        className: 'flex gap-2'
                                    }, [
                                        React.createElement('button', {
                                            key: 'edit',
                                            onClick: () => handleEditGoal(goal),
                                            className: 'text-blue-600 hover:text-blue-800 text-sm'
                                        }, '수정'),
                                        React.createElement('button', {
                                            key: 'delete',
                                            onClick: () => handleDeleteGoal(goal.id),
                                            className: 'text-red-600 hover:text-red-800 text-sm'
                                        }, '삭제')
                                    ])
                                ]),
                                
                                React.createElement('div', {
                                    key: 'progress',
                                    className: 'space-y-4'
                                }, [
                                    // Amount Progress
                                    React.createElement('div', { key: 'amount' }, [
                                        React.createElement('div', {
                                            className: 'flex justify-between items-center mb-2'
                                        }, [
                                            React.createElement('span', { className: 'text-sm font-medium' }, '목표 금액'),
                                            React.createElement('span', { className: 'text-sm' }, 
                                                `${formatCurrency(stats.currentBalance)} / ${formatCurrency(goal.targetAmount)}`
                                            )
                                        ]),
                                        React.createElement('div', {
                                            className: 'w-full bg-gray-200 rounded-full h-3'
                                        }, React.createElement('div', {
                                            className: 'h-3 rounded-full transition-all duration-300',
                                            style: { 
                                                width: `${amountProgress}%`,
                                                backgroundColor: amountProgress >= 100 ? '#10b981' : 'var(--accent)'
                                            }
                                        })),
                                        React.createElement('div', {
                                            className: 'text-right text-sm mt-1',
                                            style: { color: amountProgress >= 100 ? '#10b981' : 'var(--accent)' }
                                        }, `${amountProgress.toFixed(1)}%`)
                                    ]),
                                    
                                    // Win Rate Progress (if target set)
                                    goal.targetWinRate > 0 && React.createElement('div', { key: 'winrate' }, [
                                        React.createElement('div', {
                                            className: 'flex justify-between items-center mb-2'
                                        }, [
                                            React.createElement('span', { className: 'text-sm font-medium' }, '목표 승률'),
                                            React.createElement('span', { className: 'text-sm' }, 
                                                `${stats.winRate.toFixed(1)}% / ${goal.targetWinRate}%`
                                            )
                                        ]),
                                        React.createElement('div', {
                                            className: 'w-full bg-gray-200 rounded-full h-3'
                                        }, React.createElement('div', {
                                            className: 'h-3 rounded-full transition-all duration-300',
                                            style: { 
                                                width: `${winRateProgress}%`,
                                                backgroundColor: winRateProgress >= 100 ? '#10b981' : 'var(--secondary)'
                                            }
                                        })),
                                        React.createElement('div', {
                                            className: 'text-right text-sm mt-1',
                                            style: { color: winRateProgress >= 100 ? '#10b981' : 'var(--secondary)' }
                                        }, `${winRateProgress.toFixed(1)}%`)
                                    ])
                                ]),
                                
                                goal.description && React.createElement('div', {
                                    key: 'description',
                                    className: 'mt-4 pt-4 border-t text-sm text-gray-600'
                                }, goal.description)
                            ]);
                        })),

                    // Goals Form Modal
                    showGoalForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-md'
                    }, [
                        React.createElement('h2', { 
                            key: 'title', 
                            className: 'text-xl font-bold mb-4' 
                        }, editingGoal ? '목표 수정' : '새 목표'),
                        React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'title' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표명'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: currentGoal.title,
                                    onChange: (e) => setCurrentGoal({...currentGoal, title: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '목표명을 입력하세요'
                                })
                            ]),
                            React.createElement('div', { key: 'amount' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표 금액'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: currentGoal.targetAmount,
                                    onChange: (e) => setCurrentGoal({...currentGoal, targetAmount: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '목표 금액'
                                })
                            ]),
                            React.createElement('div', { key: 'winrate' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표 승률 (%)'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: currentGoal.targetWinRate,
                                    onChange: (e) => setCurrentGoal({...currentGoal, targetWinRate: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '목표 승률 (선택사항)',
                                    min: '0',
                                    max: '100'
                                })
                            ]),
                            React.createElement('div', { key: 'deadline' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표일 (선택사항)'),
                                React.createElement('input', {
                                    type: 'date',
                                    value: currentGoal.deadline,
                                    onChange: (e) => setCurrentGoal({...currentGoal, deadline: e.target.value}),
                                    className: 'w-full p-2 border rounded'
                                })
                            ]),
                            React.createElement('div', { key: 'description' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '설명 (선택사항)'),
                                React.createElement('textarea', {
                                    value: currentGoal.description,
                                    onChange: (e) => setCurrentGoal({...currentGoal, description: e.target.value}),
                                    className: 'w-full p-2 border rounded h-20 resize-none',
                                    placeholder: '목표에 대한 설명'
                                })
                            ])
                        ]),
                        React.createElement('div', { 
                            key: 'actions', 
                            className: 'flex justify-end gap-3 mt-6' 
                        }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => {
                                    setShowGoalForm(false);
                                    setEditingGoal(null);
                                    setCurrentGoal({ title: '', targetAmount: '', targetWinRate: '', deadline: '', description: '' });
                                },
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSaveGoal,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };
            
            const renderLoginModal = () => {
                const [email, setEmail] = useState('');
                const [password, setPassword] = useState('');
                const [error, setError] = useState('');
                const [isSignUp, setIsSignUp] = useState(false);
                
                // 모달이 열릴 때 이메일 필드에 포커스
                useEffect(() => {
                    const emailInput = document.querySelector('input[type="email"]');
                    if (emailInput) {
                        emailInput.focus();
                    }
                }, []);
                
                // ESC 키로 모달 닫기
                useEffect(() => {
                    const handleKeyDown = (e) => {
                        if (e.key === 'Escape') {
                            setShowLoginModal(false);
                        }
                    };
                    document.addEventListener('keydown', handleKeyDown);
                    return () => document.removeEventListener('keydown', handleKeyDown);
                }, []);
                
                const handleSubmit = (e) => {
                    e.preventDefault();
                    setError('');
                    
                    if (!email || !password) {
                        setError('이메일과 비밀번호를 모두 입력해주세요.');
                        return;
                    }
                    
                    const success = handleLogin(email, password);
                    if (!success) {
                        setError('로그인에 실패했습니다.');
                    }
                };
                
                const handleBackgroundClick = (e) => {
                    if (e.target === e.currentTarget) {
                        setShowLoginModal(false);
                    }
                };
                
                return React.createElement('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4',
                    onClick: handleBackgroundClick
                }, React.createElement('div', {
                    className: 'metric-card p-8 w-full max-w-md relative'
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: 'text-center mb-6'
                    }, [
                        React.createElement('div', {
                            key: 'icon',
                            className: 'text-5xl mb-2'
                        }, '🔐'),
                        React.createElement('h2', {
                            key: 'title',
                            className: 'text-2xl font-bold',
                            style: { color: 'var(--foreground)' }
                        }, isSignUp ? '회원가입' : '로그인'),
                        React.createElement('p', {
                            key: 'subtitle',
                            className: 'text-gray-600 mt-2'
                        }, '계정에 로그인하여 데이터를 안전하게 관리하세요')
                    ]),
                    
                    React.createElement('form', {
                        key: 'form',
                        onSubmit: handleSubmit,
                        className: 'space-y-4'
                    }, [
                        React.createElement('div', {
                            key: 'email'
                        }, [
                            React.createElement('label', {
                                className: 'block text-sm font-medium mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '이메일'),
                            React.createElement('input', {
                                type: 'email',
                                value: email,
                                onChange: (e) => setEmail(e.target.value),
                                className: 'w-full p-3 border rounded-lg focus:outline-none focus:ring-2',
                                style: { borderColor: 'var(--accent)', '--tw-ring-color': 'var(--accent)' },
                                placeholder: 'your@email.com',
                                required: true
                            })
                        ]),
                        React.createElement('div', {
                            key: 'password'
                        }, [
                            React.createElement('label', {
                                className: 'block text-sm font-medium mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '비밀번호'),
                            React.createElement('input', {
                                type: 'password',
                                value: password,
                                onChange: (e) => setPassword(e.target.value),
                                className: 'w-full p-3 border rounded-lg focus:outline-none focus:ring-2',
                                style: { borderColor: 'var(--accent)', '--tw-ring-color': 'var(--accent)' },
                                placeholder: '비밀번호를 입력하세요',
                                required: true
                            })
                        ]),
                        error && React.createElement('div', {
                            key: 'error',
                            className: 'text-red-600 text-sm text-center bg-red-50 p-2 rounded'
                        }, error),
                        React.createElement('button', {
                            key: 'submit',
                            type: 'submit',
                            className: 'w-full btn-primary text-center py-3'
                        }, isSignUp ? '회원가입' : '로그인')
                    ]),
                    
                    React.createElement('div', {
                        key: 'demo-info',
                        className: 'mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800'
                    }, [
                        React.createElement('p', {
                            key: 'info',
                            className: 'font-medium mb-1'
                        }, '💡 데모 계정'),
                        React.createElement('p', {
                            key: 'details'
                        }, '아무 이메일과 비밀번호로 로그인할 수 있습니다.')
                    ]),
                    
                    React.createElement('div', {
                        key: 'toggle',
                        className: 'mt-4 text-center'
                    }, [
                        React.createElement('span', {
                            key: 'text',
                            className: 'text-sm text-gray-600'
                        }, isSignUp ? '이미 계정이 있으신가요? ' : '계정이 없으신가요? '),
                        React.createElement('button', {
                            key: 'link',
                            type: 'button',
                            onClick: () => {
                                setIsSignUp(!isSignUp);
                                setError('');
                            },
                            className: 'text-sm font-medium hover:underline',
                            style: { color: 'var(--primary)' }
                        }, isSignUp ? '로그인' : '회원가입')
                    ]),
                    
                    React.createElement('button', {
                        key: 'close',
                        onClick: () => setShowLoginModal(false),
                        className: 'absolute top-4 right-4 w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors',
                        'aria-label': '모달 닫기'
                    }, '✕')
                ]));
            };

            const renderContent = () => {
                switch (activeTab) {
                    case 'dashboard': return renderDashboard();
                    case 'analytics': return renderAnalytics();
                    case 'trades': return renderTrades();
                    case 'journal': return renderJournal();
                    case 'strategy': return renderStrategy();
                    case 'goals': return renderGoals();
                    default: return React.createElement('div', { className: 'p-8 text-center' }, [
                        React.createElement('h2', { key: 'title', className: 'text-2xl font-bold mb-4' }, '개발 중'),
                        React.createElement('p', { key: 'desc' }, '이 기능은 곧 추가될 예정입니다.')
                    ]);
                }
            };

            const sidebarItems = [
                { id: 'dashboard', label: '대시보드', icon: '📊' },
                { id: 'analytics', label: '분석', icon: '📈' },
                { id: 'trades', label: '거래내역', icon: '💰' },
                { id: 'journal', label: '매매일지', icon: '📝' },
                { id: 'strategy', label: '매매전략', icon: '🎯' },
                { id: 'goals', label: '목표설정', icon: '🏆' }
            ];

            return React.createElement('div', { className: 'flex h-screen' }, [
                React.createElement('div', {
                    key: 'sidebar',
                    className: 'w-56 sidebar-container flex flex-col'
                }, [
                    React.createElement('div', {
                        key: 'logo',
                        className: 'p-4 border-b'
                    }, [
                        React.createElement('h1', {
                            className: 'font-bold text-lg',
                            style: { color: 'var(--foreground)' }
                        }, 'Coin Tracker')
                    ]),
                    
                    React.createElement('nav', {
                        key: 'nav',
                        className: 'flex-1 p-4'
                    }, React.createElement('ul', { className: 'space-y-1' }, 
                        sidebarItems.map(item =>
                            React.createElement('li', { key: item.id },
                                React.createElement('button', {
                                    onClick: () => setActiveTab(item.id),
                                    className: `w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-left text-sm transition-colors ${
                                        activeTab === item.id 
                                            ? 'bg-blue-100 text-blue-700 font-medium' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`
                                }, [
                                    React.createElement('span', { 
                                        key: 'icon', 
                                        className: 'text-base flex-shrink-0'
                                    }, item.icon),
                                    React.createElement('span', { key: 'label' }, item.label)
                                ])
                            )
                        )
                    )),
                    
                    React.createElement('div', {
                        key: 'login-section',
                        className: 'p-4 border-t'
                    }, isLoggedIn ? 
                        React.createElement('div', {
                            className: 'space-y-3'
                        }, [
                            React.createElement('div', {
                                key: 'user-info',
                                className: 'p-3 bg-blue-50 rounded-lg'
                            }, [
                                React.createElement('p', { 
                                    key: 'name', 
                                    className: 'font-medium text-sm',
                                    style: { color: 'var(--foreground)' }
                                }, user?.name || '사용자'),
                                React.createElement('p', { 
                                    key: 'email', 
                                    className: 'text-xs text-gray-500' 
                                }, user?.email || '')
                            ]),
                            React.createElement('button', {
                                key: 'logout',
                                onClick: handleLogout,
                                className: 'w-full px-3 py-2 text-sm text-gray-600 hover:text-gray-800 border rounded-lg hover:bg-gray-50 transition-colors'
                            }, '로그아웃')
                        ]) :
                        React.createElement('button', {
                            onClick: () => setShowLoginModal(true),
                            className: 'w-full btn-primary'
                        }, '로그인')
                    )
                ]),
                
                React.createElement('div', {
                    key: 'main',
                    className: 'flex-1 overflow-auto p-6'
                }, renderContent()),
                
                // Login Modal
                showLoginModal && renderLoginModal()
            ]);
        }

        // Render App
        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(CoinTradingApp));
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('root').innerHTML = `
                <div style="padding: 40px; text-align: center; color: #374151;">
                    <h1>🚨 오류 발생</h1>
                    <p>애플리케이션 로딩 중 오류가 발생했습니다.</p>
                    <pre>${error.message}</pre>
                </div>
            `;
        }
    </script>
</body>
</html>