<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Trading Tracker - Complete</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
          --background: #f5f7fa;
          --foreground: #1a2238;
          --card: #ffffff;
          --primary: #3a5ba0;
          --secondary: #f7c873;
          --accent: #6ea3c1;
        }
        body { 
            margin: 0; 
            padding: 0; 
            background: var(--background); 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            color: var(--foreground);
        }
        .metric-card { 
            background: var(--card); 
            border-radius: 8px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .btn-primary {
            background: var(--primary);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            cursor: pointer;
        }
        .btn-primary:hover {
            background: #2d4a8a;
        }
        .sidebar-container {
            background: var(--card);
            border-right: 1px solid #e5e7eb;
        }
        
        /* CSS Chart Styles */
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }
        
        .chart-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 1px;
            transition: all 0.3s ease;
        }
        
        .chart-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--primary);
            border: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .chart-point:hover {
            width: 12px;
            height: 12px;
            background: var(--accent);
        }
        
        .chart-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.1;
        }
        
        .chart-grid-line {
            position: absolute;
            background: #ccc;
        }
        
        .chart-axis {
            position: absolute;
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState, useEffect } = React;
        
        function CoinTradingApp() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [chartPeriod, setChartPeriod] = useState('weekly');
            
            // Sample data
            const [trades, setTrades] = useState([
                { id: 1, date: '2025-07-20', entry: 1000000, withdrawal: 0, balance: 1050000, profit: 50000, memo: '초기 투자' },
                { id: 2, date: '2025-07-21', entry: 0, withdrawal: 0, balance: 1080000, profit: 30000, memo: 'BTC 상승' },
                { id: 3, date: '2025-07-22', entry: 500000, withdrawal: 0, balance: 1620000, profit: 40000, memo: '추가 투자' },
                { id: 4, date: '2025-07-23', entry: 0, withdrawal: 200000, balance: 1350000, profit: -70000, memo: '일부 출금' },
                { id: 5, date: '2025-07-24', entry: 200000, withdrawal: 0, balance: 1580000, profit: 30000, memo: '추가 매수' },
                { id: 6, date: '2025-07-25', entry: 0, withdrawal: 0, balance: 1620000, profit: 40000, memo: '시장 회복' }
            ]);
            
            const [journals, setJournals] = useState([]);
            const [strategies, setStrategies] = useState([]);
            const [goals, setGoals] = useState([]);

            const formatCurrency = (amount) => `₩${Number(amount).toLocaleString()}`;
            
            const calculateStats = () => {
                const totalProfit = trades.reduce((sum, trade) => sum + (trade.profit || 0), 0);
                const totalTrades = trades.length;
                const profitTrades = trades.filter(t => t.profit > 0).length;
                const winRate = totalTrades > 0 ? (profitTrades / totalTrades * 100) : 0;
                const currentBalance = trades.length > 0 ? trades[trades.length - 1].balance : 0;
                
                return { totalProfit, totalTrades, winRate, currentBalance };
            };

            const stats = calculateStats();

            // Generate chart data
            const generateChartData = () => {
                if (trades.length === 0) return [];
                
                const sortedTrades = [...trades].sort((a, b) => new Date(a.date) - new Date(b.date));
                const data = [];
                let cumulativeProfit = 0;
                let initialBalance = 1000000;
                
                sortedTrades.forEach((trade, index) => {
                    cumulativeProfit += trade.profit || 0;
                    const profitRate = ((cumulativeProfit / initialBalance) * 100);
                    data.push({
                        date: new Date(trade.date).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                        profitRate: parseFloat(profitRate.toFixed(2)),
                        profit: cumulativeProfit
                    });
                });
                
                return data;
            };

            const chartData = generateChartData();

            // Dashboard component
            const Dashboard = () => (
                React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, '대시보드'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, '투자 현황을 한눈에 확인하세요')
                    ]),
                    
                    // Metric Cards
                    React.createElement('div', {
                        key: 'metrics',
                        className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6'
                    }, [
                        React.createElement('div', { 
                            key: 'profit',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '총 수익'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: stats.totalProfit >= 0 ? 'var(--accent)' : '#ef4444' }
                            }, formatCurrency(stats.totalProfit))
                        ]),
                        React.createElement('div', { 
                            key: 'balance',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '현재 잔고'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, formatCurrency(stats.currentBalance))
                        ]),
                        React.createElement('div', { 
                            key: 'trades',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '총 거래'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${stats.totalTrades}건`)
                        ]),
                        React.createElement('div', { 
                            key: 'winrate',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '승률'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--accent)' }
                            }, `${stats.winRate.toFixed(1)}%`)
                        ])
                    ]),

                    // Chart - Enhanced with fallback
                    React.createElement('div', {
                        key: 'profit-chart',
                        className: 'metric-card p-8'
                    }, [
                        React.createElement('div', {
                            key: 'header',
                            className: 'flex items-center justify-between mb-6'
                        }, [
                            React.createElement('div', { key: 'info' }, [
                                React.createElement('h3', {
                                    className: 'text-xl font-bold mb-2',
                                    style: { color: 'var(--foreground)' }
                                }, '수익률 변화 추이'),
                                React.createElement('p', {
                                    className: 'text-sm text-gray-600'
                                }, '기간별 누적 수익률 변화를 확인하세요')
                            ]),
                            React.createElement('div', {
                                key: 'period-buttons',
                                className: 'flex rounded-lg p-1 bg-gray-100'
                            }, [
                                React.createElement('button', {
                                    key: 'daily',
                                    onClick: () => setChartPeriod('daily'),
                                    className: `px-4 py-2 text-sm font-medium rounded-md transition-all ${
                                        chartPeriod === 'daily' 
                                            ? 'bg-blue-500 text-white shadow-sm'
                                            : 'text-gray-600 hover:text-gray-900'
                                    }`
                                }, '일간'),
                                React.createElement('button', {
                                    key: 'weekly',
                                    onClick: () => setChartPeriod('weekly'),
                                    className: `px-4 py-2 text-sm font-medium rounded-md transition-all ${
                                        chartPeriod === 'weekly' 
                                            ? 'bg-blue-500 text-white shadow-sm'
                                            : 'text-gray-600 hover:text-gray-900'
                                    }`
                                }, '주간'),
                                React.createElement('button', {
                                    key: 'monthly',
                                    onClick: () => setChartPeriod('monthly'),
                                    className: `px-4 py-2 text-sm font-medium rounded-md transition-all ${
                                        chartPeriod === 'monthly' 
                                            ? 'bg-blue-500 text-white shadow-sm'
                                            : 'text-gray-600 hover:text-gray-900'
                                    }`
                                }, '월간')
                            ])
                        ]),
                        
                        // Smooth SVG Chart
                        chartData.length > 0 ? React.createElement('div', {
                            key: 'svg-chart',
                            className: 'relative'
                        }, [
                            // Chart area with SVG
                            React.createElement('div', {
                                key: 'chart-wrapper',
                                className: 'bg-gradient-to-b from-blue-50 to-white border rounded-lg p-6'
                            }, [
                                React.createElement('svg', {
                                    key: 'chart-svg',
                                    width: '100%',
                                    height: '300',
                                    viewBox: '0 0 800 300',
                                    className: 'overflow-visible'
                                }, [
                                    // Definitions for gradient and filters
                                    React.createElement('defs', { key: 'defs' }, [
                                        // Gradient for the area fill
                                        React.createElement('linearGradient', {
                                            key: 'area-gradient',
                                            id: 'areaGradient',
                                            x1: '0%',
                                            y1: '0%',
                                            x2: '0%',
                                            y2: '100%'
                                        }, [
                                            React.createElement('stop', {
                                                key: 'stop1',
                                                offset: '0%',
                                                stopColor: '#3a5ba0',
                                                stopOpacity: '0.3'
                                            }),
                                            React.createElement('stop', {
                                                key: 'stop2',
                                                offset: '100%',
                                                stopColor: '#3a5ba0',
                                                stopOpacity: '0'
                                            })
                                        ]),
                                        // Line gradient
                                        React.createElement('linearGradient', {
                                            key: 'line-gradient',
                                            id: 'lineGradient',
                                            x1: '0%',
                                            y1: '0%',
                                            x2: '100%',
                                            y2: '0%'
                                        }, [
                                            React.createElement('stop', {
                                                key: 'line-stop1',
                                                offset: '0%',
                                                stopColor: '#3a5ba0'
                                            }),
                                            React.createElement('stop', {
                                                key: 'line-stop2',
                                                offset: '100%',
                                                stopColor: '#6ea3c1'
                                            })
                                        ]),
                                        // Drop shadow filter
                                        React.createElement('filter', {
                                            key: 'shadow',
                                            id: 'dropshadow',
                                            x: '-20%',
                                            y: '-20%',
                                            width: '140%',
                                            height: '140%'
                                        }, [
                                            React.createElement('feDropShadow', {
                                                key: 'shadow-effect',
                                                dx: '0',
                                                dy: '2',
                                                stdDeviation: '3',
                                                floodColor: '#000000',
                                                floodOpacity: '0.1'
                                            })
                                        ])
                                    ]),
                                    
                                    // Grid lines
                                    React.createElement('g', { key: 'grid', stroke: '#e5e7eb', strokeWidth: '1', opacity: '0.5' }, [
                                        // Horizontal grid lines
                                        ...Array.from({ length: 6 }, (_, i) => 
                                            React.createElement('line', {
                                                key: `h-grid-${i}`,
                                                x1: '60',
                                                y1: `${50 + i * 40}`,
                                                x2: '740',
                                                y2: `${50 + i * 40}`,
                                                strokeDasharray: '2,2'
                                            })
                                        ),
                                        // Vertical grid lines  
                                        ...Array.from({ length: Math.min(chartData.length, 8) }, (_, i) => 
                                            React.createElement('line', {
                                                key: `v-grid-${i}`,
                                                x1: `${60 + (i / (Math.min(chartData.length, 8) - 1)) * 680}`,
                                                y1: '50',
                                                x2: `${60 + (i / (Math.min(chartData.length, 8) - 1)) * 680}`,
                                                y2: '250',
                                                strokeDasharray: '2,2'
                                            })
                                        )
                                    ]),
                                    
                                    // Calculate chart data points
                                    (() => {
                                        const maxRate = Math.max(...chartData.map(d => d.profitRate));
                                        const minRate = Math.min(...chartData.map(d => d.profitRate));
                                        const range = maxRate - minRate || 1;
                                        
                                        const points = chartData.map((point, index) => ({
                                            x: 60 + (index / (chartData.length - 1)) * 680,
                                            y: 250 - ((point.profitRate - minRate) / range) * 200,
                                            profitRate: point.profitRate,
                                            date: point.date
                                        }));
                                        
                                        // Create beautiful natural spline curve using Cardinal spline
                                        const createSmoothPath = (points) => {
                                            if (points.length < 2) return '';
                                            if (points.length === 2) {
                                                return `M ${points[0].x} ${points[0].y} L ${points[1].x} ${points[1].y}`;
                                            }
                                            
                                            let path = `M ${points[0].x} ${points[0].y}`;
                                            
                                            // Cardinal spline with tension for natural curves
                                            const tension = 0.4; // 0 = sharp corners, 1 = very smooth
                                            
                                            for (let i = 1; i < points.length; i++) {
                                                const p0 = points[Math.max(i - 2, 0)];
                                                const p1 = points[i - 1];
                                                const p2 = points[i];
                                                const p3 = points[Math.min(i + 1, points.length - 1)];
                                                
                                                // Calculate tangent vectors
                                                const t1x = tension * (p2.x - p0.x);
                                                const t1y = tension * (p2.y - p0.y);
                                                const t2x = tension * (p3.x - p1.x);
                                                const t2y = tension * (p3.y - p1.y);
                                                
                                                // Control points for cubic Bezier
                                                const cp1x = p1.x + t1x / 3;
                                                const cp1y = p1.y + t1y / 3;
                                                const cp2x = p2.x - t2x / 3;
                                                const cp2y = p2.y - t2y / 3;
                                                
                                                path += ` C ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}, ${p2.x} ${p2.y}`;
                                            }
                                            
                                            return path;
                                        };
                                        
                                        const smoothPath = createSmoothPath(points);
                                        const areaPath = smoothPath + ` L ${points[points.length - 1].x} 250 L ${points[0].x} 250 Z`;
                                        
                                        return [
                                            // Area fill
                                            React.createElement('path', {
                                                key: 'area',
                                                d: areaPath,
                                                fill: 'url(#areaGradient)',
                                                stroke: 'none'
                                            }),
                                            
                                            // Main line
                                            React.createElement('path', {
                                                key: 'line',
                                                d: smoothPath,
                                                fill: 'none',
                                                stroke: 'url(#lineGradient)',
                                                strokeWidth: '3',
                                                strokeLinecap: 'round',
                                                strokeLinejoin: 'round',
                                                filter: 'url(#dropshadow)'
                                            }),
                                            
                                            // Data points
                                            React.createElement('g', { key: 'points' }, 
                                                points.map((point, index) =>
                                                    React.createElement('g', { key: `point-group-${index}` }, [
                                                        // Point shadow
                                                        React.createElement('circle', {
                                                            key: `shadow-${index}`,
                                                            cx: point.x,
                                                            cy: point.y + 2,
                                                            r: '4',
                                                            fill: '#000000',
                                                            opacity: '0.1'
                                                        }),
                                                        // Main point
                                                        React.createElement('circle', {
                                                            key: `point-${index}`,
                                                            cx: point.x,
                                                            cy: point.y,
                                                            r: '5',
                                                            fill: '#ffffff',
                                                            stroke: '#3a5ba0',
                                                            strokeWidth: '3',
                                                            className: 'hover:r-7 transition-all cursor-pointer'
                                                        }, [
                                                            React.createElement('title', {
                                                                key: `tooltip-${index}`
                                                            }, `${point.date}: ${point.profitRate.toFixed(2)}%`)
                                                        ])
                                                    ])
                                                )
                                            ),
                                            
                                            // Y-axis labels
                                            React.createElement('g', { key: 'y-labels' }, 
                                                Array.from({ length: 6 }, (_, i) => {
                                                    const value = maxRate - (i / 5) * range;
                                                    return React.createElement('text', {
                                                        key: `y-label-${i}`,
                                                        x: '45',
                                                        y: `${55 + i * 40}`,
                                                        textAnchor: 'end',
                                                        fontSize: '12',
                                                        fill: '#6b7280'
                                                    }, `${value.toFixed(1)}%`);
                                                })
                                            ),
                                            
                                            // X-axis labels
                                            React.createElement('g', { key: 'x-labels' },
                                                points.map((point, index) => {
                                                    if (index % Math.ceil(points.length / 6) !== 0 && index !== points.length - 1) return null;
                                                    return React.createElement('text', {
                                                        key: `x-label-${index}`,
                                                        x: point.x,
                                                        y: '275',
                                                        textAnchor: 'middle',
                                                        fontSize: '12',
                                                        fill: '#6b7280'
                                                    }, point.date);
                                                })
                                            )
                                        ];
                                    })()
                                ])
                            ]),
                            
                            // Chart stats
                            React.createElement('div', {
                                key: 'chart-stats',
                                className: 'mt-4 grid grid-cols-3 gap-4 text-sm'
                            }, [
                                React.createElement('div', {
                                    key: 'latest',
                                    className: 'text-center p-3 bg-gray-50 rounded-lg'
                                }, [
                                    React.createElement('div', { className: 'text-gray-500 mb-1' }, '현재 수익률'),
                                    React.createElement('div', { 
                                        className: `font-bold text-lg ${chartData[chartData.length - 1]?.profitRate >= 0 ? 'text-green-600' : 'text-red-600'}`
                                    }, `${chartData[chartData.length - 1]?.profitRate?.toFixed(2) || 0}%`)
                                ]),
                                React.createElement('div', {
                                    key: 'change',
                                    className: 'text-center p-3 bg-gray-50 rounded-lg'
                                }, [
                                    React.createElement('div', { className: 'text-gray-500 mb-1' }, '전체 변화'),
                                    React.createElement('div', { 
                                        className: `font-bold text-lg ${
                                            chartData.length >= 2 && 
                                            chartData[chartData.length - 1]?.profitRate >= chartData[0]?.profitRate 
                                                ? 'text-green-600' : 'text-red-600'
                                        }`
                                    }, chartData.length >= 2 ? 
                                        `${(chartData[chartData.length - 1]?.profitRate - chartData[0]?.profitRate).toFixed(2)}%p` : '0%p')
                                ]),
                                React.createElement('div', {
                                    key: 'points',
                                    className: 'text-center p-3 bg-gray-50 rounded-lg'
                                }, [
                                    React.createElement('div', { className: 'text-gray-500 mb-1' }, '데이터 포인트'),
                                    React.createElement('div', { className: 'font-bold text-lg text-blue-600' }, `${chartData.length}개`)
                                ])
                            ])
                        ]) : React.createElement('div', {
                            key: 'no-data',
                            className: 'h-96 flex flex-col items-center justify-center text-gray-500 border-2 border-dashed border-gray-300 rounded-lg'
                        }, [
                            React.createElement('div', {
                                key: 'icon',
                                className: 'text-4xl mb-4'
                            }, '📊'),
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-2'
                            }, '데이터가 없습니다'),
                            React.createElement('p', {
                                key: 'desc',
                                className: 'text-sm text-center'
                            }, '거래 데이터를 추가하면 수익률 차트가 표시됩니다.')
                        ])
                    ])
                ])
            );

            // Analytics component with comprehensive analysis
            const Analytics = () => {
                const totalTrades = trades.length;
                const profitTrades = trades.filter(t => (t.profit || 0) > 0);
                const lossTrades = trades.filter(t => (t.profit || 0) < 0);
                const winRate = totalTrades > 0 ? (profitTrades.length / totalTrades * 100) : 0;
                const totalProfit = trades.reduce((sum, t) => sum + (t.profit || 0), 0);
                const avgProfit = totalTrades > 0 ? totalProfit / totalTrades : 0;
                const maxProfit = Math.max(...trades.map(t => t.profit || 0), 0);
                const maxLoss = Math.min(...trades.map(t => t.profit || 0), 0);
                const avgProfitTrade = profitTrades.length > 0 ? profitTrades.reduce((sum, t) => sum + t.profit, 0) / profitTrades.length : 0;
                const avgLossTrade = lossTrades.length > 0 ? lossTrades.reduce((sum, t) => sum + t.profit, 0) / lossTrades.length : 0;
                const profitFactor = avgLossTrade !== 0 ? Math.abs(avgProfitTrade / avgLossTrade) : 0;
                
                // Calculate goal progress
                const currentBalance = stats.currentBalance;
                const goalProgress = goals.length > 0 ? goals.map(goal => ({
                    name: goal.title,
                    progress: Math.min((currentBalance / goal.targetAmount) * 100, 100)
                })) : [];
                
                // Prepare daily and weekly data
                const dailyData = {};
                const weeklyData = {};
                trades.forEach(trade => {
                    const date = new Date(trade.date);
                    const dayKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                    
                    // Daily data
                    if (!dailyData[dayKey]) {
                        dailyData[dayKey] = { profit: 0, trades: 0 };
                    }
                    dailyData[dayKey].profit += trade.profit || 0;
                    dailyData[dayKey].trades += 1;
                    
                    // Weekly data (Monday start)
                    const monday = new Date(date);
                    monday.setDate(date.getDate() - date.getDay() + 1);
                    const weekKey = `${monday.getFullYear()}-${String(monday.getMonth() + 1).padStart(2, '0')}-${String(monday.getDate()).padStart(2, '0')}`;
                    if (!weeklyData[weekKey]) {
                        weeklyData[weekKey] = { profit: 0, trades: 0 };
                    }
                    weeklyData[weekKey].profit += trade.profit || 0;
                    weeklyData[weekKey].trades += 1;
                });
                
                const dailyTrendData = Object.entries(dailyData)
                    .sort(([a], [b]) => a.localeCompare(b))
                    .slice(-14) // Last 14 days
                    .map(([day, data]) => ({
                        label: new Date(day).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                        profit: data.profit,
                        trades: data.trades
                    }));
                    
                const weeklyTrendData = Object.entries(weeklyData)
                    .sort(([a], [b]) => a.localeCompare(b))
                    .slice(-8) // Last 8 weeks
                    .map(([week, data]) => ({
                        label: new Date(week).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                        profit: data.profit,
                        trades: data.trades
                    }));

                // Create SVG pie chart for win/loss ratio
                const createPieChart = (data, size = 120) => {
                    const total = data.reduce((sum, item) => sum + item.value, 0);
                    let currentAngle = -90; // Start from top
                    
                    return React.createElement('svg', {
                        width: size,
                        height: size,
                        viewBox: `0 0 ${size} ${size}`
                    }, [
                        React.createElement('g', { key: 'pie', transform: `translate(${size/2}, ${size/2})` },
                            data.map((item, index) => {
                                const percentage = (item.value / total) * 100;
                                const angle = (item.value / total) * 360;
                                const startAngle = currentAngle * (Math.PI / 180);
                                const endAngle = (currentAngle + angle) * (Math.PI / 180);
                                
                                const largeArcFlag = angle > 180 ? 1 : 0;
                                const x1 = Math.cos(startAngle) * (size/2 - 10);
                                const y1 = Math.sin(startAngle) * (size/2 - 10);
                                const x2 = Math.cos(endAngle) * (size/2 - 10);
                                const y2 = Math.sin(endAngle) * (size/2 - 10);
                                
                                const path = [
                                    `M 0 0`,
                                    `L ${x1} ${y1}`,
                                    `A ${size/2 - 10} ${size/2 - 10} 0 ${largeArcFlag} 1 ${x2} ${y2}`,
                                    'Z'
                                ].join(' ');
                                
                                currentAngle += angle;
                                
                                return React.createElement('path', {
                                    key: index,
                                    d: path,
                                    fill: item.color,
                                    stroke: '#fff',
                                    strokeWidth: 2
                                }, [
                                    React.createElement('title', { key: 'tooltip' }, `${item.label}: ${percentage.toFixed(1)}%`)
                                ]);
                            })
                        )
                    ]);
                };

                // Create beautiful modern chart
                const createModernChart = (data, width = 500, height = 250) => {
                    if (data.length === 0) return React.createElement('div', { 
                        className: 'flex items-center justify-center h-64 text-gray-500' 
                    }, '데이터가 없습니다');
                    
                    const maxProfit = Math.max(...data.map(d => d.profit), 0);
                    const minProfit = Math.min(...data.map(d => d.profit), 0);
                    const range = Math.max(maxProfit - minProfit, 1);
                    const padding = 60;
                    
                    const points = data.map((item, index) => ({
                        x: padding + (index / Math.max(data.length - 1, 1)) * (width - padding * 2),
                        y: padding + (1 - (item.profit - minProfit) / range) * (height - padding * 2),
                        profit: item.profit,
                        label: item.label
                    }));
                    
                    // Create smooth curve path
                    let pathData = '';
                    if (points.length === 1) {
                        pathData = `M ${points[0].x} ${points[0].y}`;
                    } else if (points.length > 1) {
                        pathData = `M ${points[0].x} ${points[0].y}`;
                        for (let i = 1; i < points.length; i++) {
                            const prev = points[i - 1];
                            const curr = points[i];
                            const cp1x = prev.x + (curr.x - prev.x) * 0.3;
                            const cp1y = prev.y;
                            const cp2x = curr.x - (curr.x - prev.x) * 0.3;
                            const cp2y = curr.y;
                            pathData += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;
                        }
                    }
                    
                    // Create gradient area
                    let areaPath = pathData + ` L ${points[points.length - 1].x} ${height - padding} L ${points[0].x} ${height - padding} Z`;
                    
                    return React.createElement('div', { className: 'relative' }, [
                        React.createElement('svg', {
                            key: 'chart',
                            width: '100%',
                            height: height,
                            viewBox: `0 0 ${width} ${height}`,
                            className: 'overflow-visible'
                        }, [
                            // Gradient definition
                            React.createElement('defs', { key: 'defs' }, [
                                React.createElement('linearGradient', {
                                    key: 'gradient',
                                    id: 'chartGradient',
                                    x1: '0%',
                                    y1: '0%',
                                    x2: '0%',
                                    y2: '100%'
                                }, [
                                    React.createElement('stop', {
                                        key: 'stop1',
                                        offset: '0%',
                                        stopColor: '#3b82f6',
                                        stopOpacity: '0.3'
                                    }),
                                    React.createElement('stop', {
                                        key: 'stop2',
                                        offset: '100%',
                                        stopColor: '#3b82f6',
                                        stopOpacity: '0.05'
                                    })
                                ])
                            ]),
                            // Grid lines
                            React.createElement('g', { key: 'grid', className: 'text-xs fill-gray-400' }, [
                                ...Array.from({ length: 4 }, (_, i) => {
                                    const y = padding + (i * (height - padding * 2)) / 3;
                                    const value = maxProfit - (i * range) / 3;
                                    return [
                                        React.createElement('line', {
                                            key: `grid-${i}`,
                                            x1: padding,
                                            y1: y,
                                            x2: width - padding,
                                            y2: y,
                                            stroke: '#e5e7eb',
                                            strokeWidth: 1,
                                            strokeDasharray: '2,2'
                                        }),
                                        React.createElement('text', {
                                            key: `grid-text-${i}`,
                                            x: padding - 10,
                                            y: y + 4,
                                            textAnchor: 'end',
                                            className: 'text-xs fill-gray-500'
                                        }, formatCurrency(value))
                                    ];
                                }).flat()
                            ]),
                            // Area fill
                            React.createElement('path', {
                                key: 'area',
                                d: areaPath,
                                fill: 'url(#chartGradient)'
                            }),
                            // Main line
                            React.createElement('path', {
                                key: 'line',
                                d: pathData,
                                fill: 'none',
                                stroke: '#3b82f6',
                                strokeWidth: 3,
                                strokeLinecap: 'round',
                                strokeLinejoin: 'round'
                            }),
                            // Data points
                            React.createElement('g', { key: 'points' }, points.map((point, index) => 
                                React.createElement('circle', {
                                    key: index,
                                    cx: point.x,
                                    cy: point.y,
                                    r: 4,
                                    fill: '#3b82f6',
                                    stroke: '#fff',
                                    strokeWidth: 2,
                                    className: 'hover:r-6 transition-all cursor-pointer'
                                }, [
                                    React.createElement('title', { key: 'tooltip' }, 
                                        `${point.label}: ${formatCurrency(point.profit)}`)
                                ])
                            )),
                            // X-axis labels
                            React.createElement('g', { key: 'x-labels', className: 'text-xs fill-gray-500' }, 
                                points.map((point, index) => 
                                    index % Math.ceil(points.length / 6) === 0 ? 
                                    React.createElement('text', {
                                        key: index,
                                        x: point.x,
                                        y: height - padding + 20,
                                        textAnchor: 'middle'
                                    }, point.label) : null
                                ).filter(Boolean)
                            )
                        ])
                    ]);
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, '분석'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, '투자 성과에 대한 종합 분석과 시각화')
                    ]),

                    // Key metrics
                    React.createElement('div', {
                        key: 'key-metrics',
                        className: 'grid grid-cols-2 lg:grid-cols-5 gap-4'
                    }, [
                        React.createElement('div', {
                            key: 'total-trades',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '총 거래'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${totalTrades}건`)
                        ]),
                        React.createElement('div', {
                            key: 'win-rate',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '승률'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: winRate >= 50 ? 'var(--accent)' : '#ef4444' }
                            }, `${winRate.toFixed(1)}%`)
                        ]),
                        React.createElement('div', {
                            key: 'max-profit',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '최대 수익'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold text-green-600'
                            }, formatCurrency(maxProfit))
                        ]),
                        React.createElement('div', {
                            key: 'max-loss',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '최대 손실'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold text-red-600'
                            }, formatCurrency(maxLoss))
                        ]),
                        React.createElement('div', {
                            key: 'profit-factor',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '손익비'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: profitFactor >= 1 ? 'var(--accent)' : '#ef4444' }
                            }, profitFactor > 0 ? profitFactor.toFixed(2) : '-')
                        ])
                    ]),

                    // Charts section
                    React.createElement('div', {
                        key: 'charts-section',
                        className: 'grid grid-cols-1 lg:grid-cols-3 gap-6'
                    }, [
                        // Win/Loss pie chart
                        React.createElement('div', {
                            key: 'pie-chart',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '승률 분석'),
                            React.createElement('div', {
                                key: 'chart-content',
                                className: 'flex items-center justify-between'
                            }, [
                                React.createElement('div', { key: 'chart' }, 
                                    createPieChart([
                                        { label: '수익 거래', value: profitTrades.length, color: '#10b981' },
                                        { label: '손실 거래', value: lossTrades.length, color: '#ef4444' },
                                        { label: '무손익', value: totalTrades - profitTrades.length - lossTrades.length, color: '#6b7280' }
                                    ])
                                ),
                                React.createElement('div', {
                                    key: 'legend',
                                    className: 'space-y-3'
                                }, [
                                    React.createElement('div', { key: 'profit', className: 'flex items-center gap-2' }, [
                                        React.createElement('div', { className: 'w-4 h-4 bg-green-500 rounded' }),
                                        React.createElement('span', { className: 'text-sm' }, `수익: ${profitTrades.length}건`)
                                    ]),
                                    React.createElement('div', { key: 'loss', className: 'flex items-center gap-2' }, [
                                        React.createElement('div', { className: 'w-4 h-4 bg-red-500 rounded' }),
                                        React.createElement('span', { className: 'text-sm' }, `손실: ${lossTrades.length}건`)
                                    ]),
                                    totalTrades - profitTrades.length - lossTrades.length > 0 && React.createElement('div', { key: 'neutral', className: 'flex items-center gap-2' }, [
                                        React.createElement('div', { className: 'w-4 h-4 bg-gray-500 rounded' }),
                                        React.createElement('span', { className: 'text-sm' }, `무손익: ${totalTrades - profitTrades.length - lossTrades.length}건`)
                                    ])
                                ])
                            ])
                        ]),

                        // Goal Achievement pie chart
                        React.createElement('div', {
                            key: 'goal-achievement-chart',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '목표 달성률'),
                            React.createElement('div', {
                                key: 'chart-content',
                                className: 'flex items-center justify-between'
                            }, [
                                React.createElement('div', { key: 'chart' }, 
                                    (() => {
                                        // Calculate overall goal achievement
                                        const overallProgress = goals.length > 0 
                                            ? goalProgress.reduce((sum, goal) => sum + Math.min(goal.progress, 100), 0) / goals.length 
                                            : 0;
                                        const remaining = Math.max(100 - overallProgress, 0);
                                        
                                        return goals.length > 0 ? createPieChart([
                                            { label: '달성', value: overallProgress, color: '#10b981' },
                                            { label: '미달성', value: remaining, color: '#e5e7eb' }
                                        ]) : React.createElement('div', {
                                            className: 'w-30 h-30 rounded-full bg-gray-200 flex items-center justify-center'
                                        }, React.createElement('span', { className: 'text-gray-500 text-sm' }, '목표 없음'));
                                    })()
                                ),
                                React.createElement('div', {
                                    key: 'legend',
                                    className: 'space-y-3'
                                }, [
                                    goals.length > 0 ? [
                                        React.createElement('div', { key: 'achieved', className: 'flex items-center gap-2' }, [
                                            React.createElement('div', { className: 'w-4 h-4 bg-green-500 rounded' }),
                                            React.createElement('span', { className: 'text-sm' }, `달성: ${goalProgress.reduce((sum, goal) => sum + Math.min(goal.progress, 100), 0) / goals.length || 0}%`)
                                        ]),
                                        React.createElement('div', { key: 'remaining', className: 'flex items-center gap-2' }, [
                                            React.createElement('div', { className: 'w-4 h-4 bg-gray-300 rounded' }),
                                            React.createElement('span', { className: 'text-sm' }, `미달성: ${Math.max(100 - (goalProgress.reduce((sum, goal) => sum + Math.min(goal.progress, 100), 0) / goals.length || 0), 0).toFixed(1)}%`)
                                        ]),
                                        React.createElement('div', { key: 'total-goals', className: 'mt-3 pt-3 border-t' }, [
                                            React.createElement('div', { className: 'text-xs text-gray-500' }, `총 목표: ${goals.length}개`),
                                            React.createElement('div', { className: 'text-xs text-gray-500' }, `현재 잔고: ${formatCurrency(currentBalance)}`)
                                        ])
                                    ] : [
                                        React.createElement('div', { key: 'no-goals', className: 'text-sm text-gray-500' }, '설정된 목표가 없습니다'),
                                        React.createElement('div', { key: 'add-goal', className: 'text-xs text-blue-500 mt-2' }, '목표설정 탭에서 목표를 추가하세요')
                                    ]
                                ])
                            ])
                        ]),

                        // Goal progress details
                        goals.length > 0 && React.createElement('div', {
                            key: 'goal-progress-details',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '개별 목표 진행률'),
                            React.createElement('div', {
                                key: 'progress-list',
                                className: 'space-y-4'
                            }, goalProgress.slice(0, 3).map((goal, index) =>
                                React.createElement('div', { key: index }, [
                                    React.createElement('div', {
                                        className: 'flex justify-between items-center mb-2'
                                    }, [
                                        React.createElement('span', { className: 'text-sm font-medium' }, goal.name.length > 15 ? goal.name.substring(0, 15) + '...' : goal.name),
                                        React.createElement('span', { 
                                            className: `text-sm font-bold ${goal.progress >= 100 ? 'text-green-600' : 'text-blue-600'}`
                                        }, `${goal.progress.toFixed(1)}%`)
                                    ]),
                                    React.createElement('div', {
                                        className: 'w-full bg-gray-200 rounded-full h-3'
                                    }, React.createElement('div', {
                                        className: 'h-3 rounded-full transition-all duration-300',
                                        style: { 
                                            width: `${Math.min(goal.progress, 100)}%`,
                                            backgroundColor: goal.progress >= 100 ? '#10b981' : 'var(--accent)'
                                        }
                                    }))
                                ])
                            )),
                            goalProgress.length > 3 && React.createElement('div', {
                                key: 'more-goals',
                                className: 'text-xs text-gray-500 text-center mt-4'
                            }, `외 ${goalProgress.length - 3}개 목표 더 있음`)
                        ])
                    ]),

                    // Charts in one row
                    (dailyTrendData.length > 0 || weeklyTrendData.length > 0) && React.createElement('div', {
                        key: 'charts-row',
                        className: 'grid grid-cols-1 lg:grid-cols-2 gap-6'
                    }, [
                        // Daily chart
                        dailyTrendData.length > 0 && React.createElement('div', {
                            key: 'daily-chart',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-base font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '일별 수익 추이'),
                            React.createElement('div', {
                                key: 'chart-container',
                                className: 'h-48 w-full'
                            }, createModernChart(dailyTrendData, 400, 200))
                        ]),

                        // Weekly chart
                        weeklyTrendData.length > 0 && React.createElement('div', {
                            key: 'weekly-chart',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-base font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, '주간 수익 추이'),
                            React.createElement('div', {
                                key: 'chart-container',
                                className: 'h-48 w-full'
                            }, createModernChart(weeklyTrendData, 400, 200))
                        ])
                    ]),

                    // Detailed statistics
                    React.createElement('div', {
                        key: 'detailed-stats',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, '상세 통계'),
                        React.createElement('div', {
                            key: 'stats-grid',
                            className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 divide-x divide-gray-200'
                        }, [
                            React.createElement('div', {
                                key: 'profit-stats',
                                className: 'space-y-3 pr-6'
                            }, [
                                React.createElement('h4', { className: 'font-medium text-green-600' }, '수익 분석'),
                                React.createElement('div', { className: 'space-y-2 text-sm' }, [
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '평균 수익 거래'),
                                        React.createElement('span', { className: 'font-semibold' }, formatCurrency(avgProfitTrade))
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '수익 거래 비율'),
                                        React.createElement('span', { className: 'font-semibold' }, `${((profitTrades.length / totalTrades) * 100).toFixed(1)}%`)
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '총 수익 거래 수'),
                                        React.createElement('span', { className: 'font-semibold' }, `${profitTrades.length}건`)
                                    ])
                                ])
                            ]),
                            React.createElement('div', {
                                key: 'loss-stats',
                                className: 'space-y-3 px-6'
                            }, [
                                React.createElement('h4', { className: 'font-medium text-red-600' }, '손실 분석'),
                                React.createElement('div', { className: 'space-y-2 text-sm' }, [
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '평균 손실 거래'),
                                        React.createElement('span', { className: 'font-semibold' }, formatCurrency(avgLossTrade))
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '손실 거래 비율'),
                                        React.createElement('span', { className: 'font-semibold' }, `${((lossTrades.length / totalTrades) * 100).toFixed(1)}%`)
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '총 손실 거래 수'),
                                        React.createElement('span', { className: 'font-semibold' }, `${lossTrades.length}건`)
                                    ])
                                ])
                            ]),
                            React.createElement('div', {
                                key: 'performance-stats',
                                className: 'space-y-3 pl-6'
                            }, [
                                React.createElement('h4', { className: 'font-medium text-blue-600' }, '성과 지표'),
                                React.createElement('div', { className: 'space-y-2 text-sm' }, [
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '총 수익률'),
                                        React.createElement('span', { 
                                            className: `font-semibold ${totalProfit >= 0 ? 'text-green-600' : 'text-red-600'}`
                                        }, `${((totalProfit / 1000000) * 100).toFixed(2)}%`)
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '거래당 평균 수익'),
                                        React.createElement('span', { className: 'font-semibold' }, formatCurrency(avgProfit))
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', {}, '샤프 비율'),
                                        React.createElement('span', { className: 'font-semibold' }, profitFactor > 0 ? (profitFactor * 0.1).toFixed(2) : '-')
                                    ])
                                ])
                            ])
                        ])
                    ])
                ]);
            };

            // Trades component
            const Trades = () => {
                const [showForm, setShowForm] = useState(false);
                const [formData, setFormData] = useState({
                    date: new Date().toISOString().split('T')[0],
                    entry: '', withdrawal: '', balance: '', memo: ''
                });

                const handleSubmit = () => {
                    if (!formData.balance) {
                        alert('잔고를 입력해주세요');
                        return;
                    }

                    const prevBalance = trades.length > 0 ? trades[trades.length - 1].balance : 0;
                    const entry = parseFloat(formData.entry) || 0;
                    const withdrawal = parseFloat(formData.withdrawal) || 0;
                    const balance = parseFloat(formData.balance);
                    const profit = balance - prevBalance - entry + withdrawal;

                    const newTrade = {
                        id: Date.now(),
                        date: formData.date,
                        entry, withdrawal, balance,
                        profit: parseFloat(profit.toFixed(2)),
                        memo: formData.memo
                    };

                    setTrades(prev => [...prev, newTrade].sort((a, b) => new Date(a.date) - new Date(b.date)));
                    setFormData({
                        date: new Date().toISOString().split('T')[0],
                        entry: '', withdrawal: '', balance: '', memo: ''
                    });
                    setShowForm(false);
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '거래내역'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '모든 거래 기록을 관리하세요')
                        ]),
                        React.createElement('button', {
                            key: 'add',
                            onClick: () => setShowForm(true),
                            className: 'btn-primary'
                        }, '+ 새 거래')
                    ]),

                    React.createElement('div', {
                        key: 'table',
                        className: 'metric-card overflow-hidden'
                    }, [
                        React.createElement('div', {
                            key: 'table-header',
                            className: 'px-6 py-4 border-b border-gray-200 bg-gray-50'
                        }, React.createElement('h3', {
                            className: 'text-lg font-semibold'
                        }, `총 ${trades.length}건의 거래`)),
                        
                        trades.length === 0 
                            ? React.createElement('div', {
                                key: 'empty',
                                className: 'p-8 text-center text-gray-500'
                            }, '거래 내역이 없습니다. 새 거래를 추가해보세요!')
                            : React.createElement('div', {
                                key: 'table-body',
                                className: 'overflow-x-auto'
                            }, React.createElement('table', {
                                className: 'w-full'
                            }, [
                                React.createElement('thead', {
                                    key: 'thead',
                                    className: 'bg-gray-50'
                                }, React.createElement('tr', {}, [
                                    React.createElement('th', { key: 'date', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '날짜'),
                                    React.createElement('th', { key: 'entry', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '입금'),
                                    React.createElement('th', { key: 'withdrawal', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '출금'),
                                    React.createElement('th', { key: 'balance', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '잔고'),
                                    React.createElement('th', { key: 'profit', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '수익'),
                                    React.createElement('th', { key: 'memo', className: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase' }, '메모')
                                ])),
                                React.createElement('tbody', {
                                    key: 'tbody',
                                    className: 'divide-y divide-gray-200'
                                }, trades.map(trade =>
                                    React.createElement('tr', {
                                        key: trade.id,
                                        className: 'hover:bg-gray-50'
                                    }, [
                                        React.createElement('td', { key: 'date', className: 'px-6 py-4 text-sm' }, trade.date),
                                        React.createElement('td', { key: 'entry', className: 'px-6 py-4 text-sm' }, trade.entry ? formatCurrency(trade.entry) : '-'),
                                        React.createElement('td', { key: 'withdrawal', className: 'px-6 py-4 text-sm' }, trade.withdrawal ? formatCurrency(trade.withdrawal) : '-'),
                                        React.createElement('td', { key: 'balance', className: 'px-6 py-4 text-sm font-semibold' }, formatCurrency(trade.balance)),
                                        React.createElement('td', { 
                                            key: 'profit', 
                                            className: `px-6 py-4 text-sm font-semibold ${trade.profit >= 0 ? 'text-green-600' : 'text-red-600'}`
                                        }, `${trade.profit >= 0 ? '+' : ''}${formatCurrency(trade.profit)}`),
                                        React.createElement('td', { key: 'memo', className: 'px-6 py-4 text-sm text-gray-500' }, trade.memo || '-')
                                    ])
                                ))
                            ]))
                    ]),

                    // Form Modal
                    showForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-md'
                    }, [
                        React.createElement('h2', { key: 'title', className: 'text-xl font-bold mb-4' }, '새 거래'),
                        React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'date' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '날짜'),
                                React.createElement('input', {
                                    type: 'date',
                                    value: formData.date,
                                    onChange: (e) => setFormData({...formData, date: e.target.value}),
                                    className: 'w-full p-2 border rounded'
                                })
                            ]),
                            React.createElement('div', { key: 'entry' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '입금'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: formData.entry,
                                    onChange: (e) => setFormData({...formData, entry: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '0'
                                })
                            ]),
                            React.createElement('div', { key: 'withdrawal' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '출금'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: formData.withdrawal,
                                    onChange: (e) => setFormData({...formData, withdrawal: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '0'
                                })
                            ]),
                            React.createElement('div', { key: 'balance' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '잔고'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: formData.balance,
                                    onChange: (e) => setFormData({...formData, balance: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '현재 잔고'
                                })
                            ]),
                            React.createElement('div', { key: 'memo' }, [
                                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, '메모'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: formData.memo,
                                    onChange: (e) => setFormData({...formData, memo: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '거래 내용'
                                })
                            ])
                        ]),
                        React.createElement('div', { key: 'actions', className: 'flex justify-end gap-3 mt-6' }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => setShowForm(false),
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSubmit,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            // Journal component with calendar
            const Journal = () => {
                const [currentMonth, setCurrentMonth] = useState(new Date());
                const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
                const [journalEntry, setJournalEntry] = useState('');
                const [showForm, setShowForm] = useState(false);

                const handleSaveEntry = () => {
                    if (!journalEntry.trim()) {
                        alert('일지 내용을 입력해주세요');
                        return;
                    }

                    const newEntry = {
                        id: Date.now(),
                        date: selectedDate,
                        content: journalEntry,
                        timestamp: new Date().toISOString()
                    };

                    setJournals(prev => {
                        const filtered = prev.filter(j => j.date !== selectedDate);
                        return [...filtered, newEntry].sort((a, b) => new Date(b.date) - new Date(a.date));
                    });

                    setJournalEntry('');
                    setShowForm(false);
                };

                const currentEntry = journals.find(j => j.date === selectedDate);

                // Calendar functions
                const getDaysInMonth = (date) => {
                    const year = date.getFullYear();
                    const month = date.getMonth();
                    const firstDay = new Date(year, month, 1);
                    const lastDay = new Date(year, month + 1, 0);
                    const daysInMonth = lastDay.getDate();
                    const startingDayOfWeek = firstDay.getDay();

                    const days = [];
                    
                    // Add empty cells for days before the first day of the month
                    for (let i = 0; i < startingDayOfWeek; i++) {
                        days.push(null);
                    }
                    
                    // Add days of the month
                    for (let day = 1; day <= daysInMonth; day++) {
                        days.push(new Date(year, month, day));
                    }
                    
                    return days;
                };

                const formatDateForInput = (date) => {
                    if (!date) return '';
                    return date.toISOString().split('T')[0];
                };

                const hasJournalEntry = (date) => {
                    if (!date) return false;
                    const dateStr = formatDateForInput(date);
                    return journals.some(j => j.date === dateStr);
                };

                const navigateMonth = (direction) => {
                    const newMonth = new Date(currentMonth);
                    newMonth.setMonth(currentMonth.getMonth() + direction);
                    setCurrentMonth(newMonth);
                };

                const days = getDaysInMonth(currentMonth);
                const monthYear = currentMonth.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long' });

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, '매매일지'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, '캘린더에서 날짜를 선택하여 일지를 작성하세요')
                    ]),

                    // Calendar
                    React.createElement('div', {
                        key: 'calendar',
                        className: 'metric-card p-6'
                    }, [
                        // Calendar header
                        React.createElement('div', {
                            key: 'calendar-header',
                            className: 'flex items-center justify-between mb-6'
                        }, [
                            React.createElement('button', {
                                key: 'prev',
                                onClick: () => navigateMonth(-1),
                                className: 'p-2 hover:bg-gray-100 rounded-lg'
                            }, '‹'),
                            React.createElement('h2', {
                                key: 'month-year',
                                className: 'text-xl font-semibold',
                                style: { color: 'var(--foreground)' }
                            }, monthYear),
                            React.createElement('button', {
                                key: 'next',
                                onClick: () => navigateMonth(1),
                                className: 'p-2 hover:bg-gray-100 rounded-lg'
                            }, '›')
                        ]),

                        // Days of week header
                        React.createElement('div', {
                            key: 'weekdays',
                            className: 'grid grid-cols-7 gap-1 mb-2'
                        }, ['일', '월', '화', '수', '목', '금', '토'].map(day =>
                            React.createElement('div', {
                                key: day,
                                className: 'p-2 text-center text-sm font-medium text-gray-500'
                            }, day)
                        )),

                        // Calendar days
                        React.createElement('div', {
                            key: 'calendar-days',
                            className: 'grid grid-cols-7 gap-1'
                        }, days.map((day, index) => {
                            if (!day) {
                                return React.createElement('div', { key: `empty-${index}`, className: 'p-2' });
                            }

                            const dateStr = formatDateForInput(day);
                            const isSelected = dateStr === selectedDate;
                            const hasEntry = hasJournalEntry(day);
                            const isToday = dateStr === new Date().toISOString().split('T')[0];

                            return React.createElement('button', {
                                key: dateStr,
                                onClick: () => setSelectedDate(dateStr),
                                className: `p-2 text-sm rounded-lg relative transition-colors ${
                                    isSelected 
                                        ? 'bg-blue-500 text-white' 
                                        : isToday 
                                            ? 'bg-blue-100 text-blue-800' 
                                            : 'hover:bg-gray-100'
                                }`
                            }, [
                                React.createElement('span', { key: 'day' }, day.getDate()),
                                hasEntry && React.createElement('div', {
                                    key: 'indicator',
                                    className: 'absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full'
                                })
                            ]);
                        }))
                    ]),

                    // Selected date entry
                    React.createElement('div', {
                        key: 'selected-entry',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('div', {
                            key: 'entry-header',
                            className: 'flex items-center justify-between mb-4'
                        }, [
                            React.createElement('h3', {
                                className: 'text-lg font-semibold',
                                style: { color: 'var(--foreground)' }
                            }, `${selectedDate} 일지`),
                            React.createElement('button', {
                                key: 'edit-button',
                                onClick: () => {
                                    setJournalEntry(currentEntry?.content || '');
                                    setShowForm(true);
                                },
                                className: 'btn-primary'
                            }, currentEntry ? '일지 수정' : '+ 새 일지')
                        ]),

                        currentEntry ? React.createElement('div', {
                            key: 'entry-content',
                            className: 'bg-gray-50 p-4 rounded-lg'
                        }, [
                            React.createElement('div', {
                                key: 'timestamp',
                                className: 'text-xs text-gray-500 mb-2'
                            }, `작성: ${new Date(currentEntry.timestamp).toLocaleString('ko-KR')}`),
                            React.createElement('div', {
                                key: 'content',
                                className: 'whitespace-pre-wrap text-gray-700'
                            }, currentEntry.content)
                        ]) : React.createElement('div', {
                            key: 'no-entry',
                            className: 'text-center py-8 text-gray-500'
                        }, '선택한 날짜에 작성된 일지가 없습니다.')
                    ]),

                    // Recent entries
                    journals.length > 0 && React.createElement('div', {
                        key: 'recent-entries',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, '최근 일지'),
                        React.createElement('div', {
                            key: 'entries-list',
                            className: 'space-y-3'
                        }, journals.slice(0, 5).map(entry =>
                            React.createElement('div', {
                                key: entry.id,
                                className: 'border-l-4 pl-4 py-2 cursor-pointer hover:bg-gray-50 rounded',
                                style: { borderColor: 'var(--accent)' },
                                onClick: () => setSelectedDate(entry.date)
                            }, [
                                React.createElement('div', {
                                    key: 'date',
                                    className: 'font-medium text-sm',
                                    style: { color: 'var(--foreground)' }
                                }, entry.date),
                                React.createElement('div', {
                                    key: 'preview',
                                    className: 'text-xs text-gray-600 mt-1'
                                }, entry.content.substring(0, 80) + (entry.content.length > 80 ? '...' : ''))
                            ])
                        ))
                    ]),

                    // Journal Form Modal
                    showForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto'
                    }, [
                        React.createElement('h2', { 
                            key: 'title', 
                            className: 'text-xl font-bold mb-4' 
                        }, `${selectedDate} 매매일지`),
                        React.createElement('textarea', {
                            key: 'content',
                            value: journalEntry,
                            onChange: (e) => setJournalEntry(e.target.value),
                            className: 'w-full h-64 p-4 border rounded-lg resize-none',
                            placeholder: '오늘의 매매 결과, 감정, 배운 점 등을 자유롭게 기록하세요...\n\n예시:\n- 오늘 BTC 3% 상승으로 50만원 수익\n- 너무 성급하게 매도했음, 다음엔 더 기다려보자\n- 시장 심리가 긍정적으로 변하는 것 같음'
                        }),
                        React.createElement('div', { 
                            key: 'actions', 
                            className: 'flex justify-end gap-3 mt-6' 
                        }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => setShowForm(false),
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSaveEntry,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            // Strategy component
            const Strategy = () => {
                const [showForm, setShowForm] = useState(false);
                const [formData, setFormData] = useState({
                    name: '', description: '', rules: '', riskLevel: 'medium'
                });

                const handleSubmit = () => {
                    if (!formData.name.trim()) {
                        alert('전략명을 입력해주세요');
                        return;
                    }

                    const newStrategy = {
                        id: Date.now(),
                        ...formData,
                        createdAt: new Date().toISOString()
                    };

                    setStrategies(prev => [...prev, newStrategy]);
                    setFormData({ name: '', description: '', rules: '', riskLevel: 'medium' });
                    setShowForm(false);
                };

                const handleDelete = (id) => {
                    if (confirm('정말 삭제하시겠습니까?')) {
                        setStrategies(prev => prev.filter(s => s.id !== id));
                    }
                };

                const getRiskColor = (level) => {
                    switch (level) {
                        case 'low': return '#10b981';
                        case 'medium': return '#f59e0b';
                        case 'high': return '#ef4444';
                        default: return '#6b7280';
                    }
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '매매전략'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '체계적인 투자 전략을 관리하세요')
                        ]),
                        React.createElement('button', {
                            key: 'add',
                            onClick: () => setShowForm(true),
                            className: 'btn-primary'
                        }, '+ 새 전략')
                    ]),

                    strategies.length === 0 
                        ? React.createElement('div', {
                            key: 'empty',
                            className: 'metric-card p-8 text-center'
                        }, [
                            React.createElement('div', { key: 'icon', className: 'text-6xl mb-4' }, '🎯'),
                            React.createElement('h3', { 
                                key: 'title',
                                className: 'text-xl font-semibold mb-2' 
                            }, '매매전략이 없습니다'),
                            React.createElement('p', { 
                                key: 'desc',
                                className: 'text-gray-600' 
                            }, '첫 번째 매매전략을 추가해보세요!')
                        ])
                        : React.createElement('div', {
                            key: 'strategies-grid',
                            className: 'grid gap-6 md:grid-cols-2'
                        }, strategies.map(strategy =>
                            React.createElement('div', {
                                key: strategy.id,
                                className: 'metric-card p-6'
                            }, [
                                React.createElement('div', {
                                    key: 'header',
                                    className: 'flex items-start justify-between mb-4'
                                }, [
                                    React.createElement('div', { key: 'info' }, [
                                        React.createElement('h3', {
                                            className: 'text-lg font-semibold mb-2'
                                        }, strategy.name),
                                        React.createElement('span', {
                                            className: 'px-2 py-1 text-xs font-medium rounded-full',
                                            style: { 
                                                backgroundColor: getRiskColor(strategy.riskLevel) + '20',
                                                color: getRiskColor(strategy.riskLevel)
                                            }
                                        }, `${strategy.riskLevel} 위험`)
                                    ]),
                                    React.createElement('button', {
                                        key: 'delete',
                                        onClick: () => handleDelete(strategy.id),
                                        className: 'text-red-600 hover:text-red-800 text-sm'
                                    }, '삭제')
                                ]),
                                React.createElement('div', {
                                    key: 'content',
                                    className: 'space-y-3'
                                }, [
                                    React.createElement('div', { key: 'description' }, [
                                        React.createElement('h4', {
                                            className: 'text-sm font-medium text-gray-500 mb-1'
                                        }, '설명'),
                                        React.createElement('p', {
                                            className: 'text-sm text-gray-700'
                                        }, strategy.description || '설명 없음')
                                    ]),
                                    React.createElement('div', { key: 'rules' }, [
                                        React.createElement('h4', {
                                            className: 'text-sm font-medium text-gray-500 mb-1'
                                        }, '매매 규칙'),
                                        React.createElement('p', {
                                            className: 'text-sm text-gray-700 whitespace-pre-wrap'
                                        }, strategy.rules || '규칙 없음')
                                    ])
                                ])
                            ])
                        )),

                    // Strategy Form Modal
                    showForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-2xl'
                    }, [
                        React.createElement('h2', { 
                            key: 'title', 
                            className: 'text-xl font-bold mb-4' 
                        }, '새 전략'),
                        React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'name' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '전략명'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: formData.name,
                                    onChange: (e) => setFormData({...formData, name: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '전략명을 입력하세요'
                                })
                            ]),
                            React.createElement('div', { key: 'risk' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '위험도'),
                                React.createElement('select', {
                                    value: formData.riskLevel,
                                    onChange: (e) => setFormData({...formData, riskLevel: e.target.value}),
                                    className: 'w-full p-2 border rounded'
                                }, [
                                    React.createElement('option', { key: 'low', value: 'low' }, '낮음'),
                                    React.createElement('option', { key: 'medium', value: 'medium' }, '보통'),
                                    React.createElement('option', { key: 'high', value: 'high' }, '높음')
                                ])
                            ]),
                            React.createElement('div', { key: 'description' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '설명'),
                                React.createElement('textarea', {
                                    value: formData.description,
                                    onChange: (e) => setFormData({...formData, description: e.target.value}),
                                    className: 'w-full p-2 border rounded h-20 resize-none',
                                    placeholder: '전략에 대한 간단한 설명'
                                })
                            ]),
                            React.createElement('div', { key: 'rules' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '매매 규칙'),
                                React.createElement('textarea', {
                                    value: formData.rules,
                                    onChange: (e) => setFormData({...formData, rules: e.target.value}),
                                    className: 'w-full p-2 border rounded h-32 resize-none',
                                    placeholder: '구체적인 매매 규칙을 작성하세요...'
                                })
                            ])
                        ]),
                        React.createElement('div', { 
                            key: 'actions', 
                            className: 'flex justify-end gap-3 mt-6' 
                        }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => setShowForm(false),
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSubmit,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            // Goals component
            const Goals = () => {
                const [showForm, setShowForm] = useState(false);
                const [formData, setFormData] = useState({
                    title: '', targetAmount: '', targetWinRate: '', deadline: '', description: ''
                });

                const handleSubmit = () => {
                    if (!formData.title.trim() || !formData.targetAmount) {
                        alert('목표명과 목표금액을 입력해주세요');
                        return;
                    }

                    const newGoal = {
                        id: Date.now(),
                        title: formData.title,
                        targetAmount: parseFloat(formData.targetAmount),
                        targetWinRate: parseFloat(formData.targetWinRate) || 0,
                        deadline: formData.deadline,
                        description: formData.description,
                        createdAt: new Date().toISOString()
                    };

                    setGoals(prev => [...prev, newGoal]);
                    setFormData({ title: '', targetAmount: '', targetWinRate: '', deadline: '', description: '' });
                    setShowForm(false);
                };

                const handleDelete = (id) => {
                    if (confirm('정말 삭제하시겠습니까?')) {
                        setGoals(prev => prev.filter(g => g.id !== id));
                    }
                };

                const calculateProgress = (goal) => {
                    const currentBalance = stats.currentBalance;
                    const currentWinRate = stats.winRate;
                    
                    const amountProgress = Math.min((currentBalance / goal.targetAmount) * 100, 100);
                    const winRateProgress = goal.targetWinRate > 0 ? Math.min((currentWinRate / goal.targetWinRate) * 100, 100) : 100;
                    
                    return { amountProgress, winRateProgress };
                };

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex items-center justify-between' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, '목표설정'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, '투자 목표를 설정하고 진행상황을 추적하세요')
                        ]),
                        React.createElement('button', {
                            key: 'add',
                            onClick: () => setShowForm(true),
                            className: 'btn-primary'
                        }, '+ 새 목표')
                    ]),

                    // Current Status Summary
                    React.createElement('div', {
                        key: 'status-summary',
                        className: 'grid grid-cols-1 md:grid-cols-3 gap-4'
                    }, [
                        React.createElement('div', {
                            key: 'current-balance',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '현재 잔고'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, formatCurrency(stats.currentBalance))
                        ]),
                        React.createElement('div', {
                            key: 'current-winrate',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '현재 승률'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--accent)' }
                            }, `${stats.winRate.toFixed(1)}%`)
                        ]),
                        React.createElement('div', {
                            key: 'active-goals',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, '활성 목표'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${goals.length}개`)
                        ])
                    ]),

                    goals.length === 0 
                        ? React.createElement('div', {
                            key: 'empty',
                            className: 'metric-card p-8 text-center'
                        }, [
                            React.createElement('div', { key: 'icon', className: 'text-6xl mb-4' }, '🏆'),
                            React.createElement('h3', { 
                                key: 'title',
                                className: 'text-xl font-semibold mb-2' 
                            }, '목표가 없습니다'),
                            React.createElement('p', { 
                                key: 'desc',
                                className: 'text-gray-600' 
                            }, '첫 번째 투자 목표를 설정해보세요!')
                        ])
                        : React.createElement('div', {
                            key: 'goals-list',
                            className: 'space-y-4'
                        }, goals.map(goal => {
                            const { amountProgress, winRateProgress } = calculateProgress(goal);
                            const isExpired = goal.deadline && new Date(goal.deadline) < new Date();
                            
                            return React.createElement('div', {
                                key: goal.id,
                                className: `metric-card p-6 ${isExpired ? 'border-red-200' : ''}`
                            }, [
                                React.createElement('div', {
                                    key: 'header',
                                    className: 'flex items-start justify-between mb-4'
                                }, [
                                    React.createElement('div', { key: 'info' }, [
                                        React.createElement('h3', {
                                            className: 'text-lg font-semibold mb-1'
                                        }, goal.title),
                                        goal.deadline && React.createElement('p', {
                                            key: 'deadline',
                                            className: `text-sm ${isExpired ? 'text-red-600' : 'text-gray-500'}`
                                        }, `목표일: ${goal.deadline} ${isExpired ? '(만료됨)' : ''}`)
                                    ]),
                                    React.createElement('button', {
                                        key: 'delete',
                                        onClick: () => handleDelete(goal.id),
                                        className: 'text-red-600 hover:text-red-800 text-sm'
                                    }, '삭제')
                                ]),
                                
                                React.createElement('div', {
                                    key: 'progress',
                                    className: 'space-y-4'
                                }, [
                                    // Amount Progress
                                    React.createElement('div', { key: 'amount' }, [
                                        React.createElement('div', {
                                            className: 'flex justify-between items-center mb-2'
                                        }, [
                                            React.createElement('span', { className: 'text-sm font-medium' }, '목표 금액'),
                                            React.createElement('span', { className: 'text-sm' }, 
                                                `${formatCurrency(stats.currentBalance)} / ${formatCurrency(goal.targetAmount)}`
                                            )
                                        ]),
                                        React.createElement('div', {
                                            className: 'w-full bg-gray-200 rounded-full h-3'
                                        }, React.createElement('div', {
                                            className: 'h-3 rounded-full transition-all duration-300',
                                            style: { 
                                                width: `${amountProgress}%`,
                                                backgroundColor: amountProgress >= 100 ? '#10b981' : 'var(--accent)'
                                            }
                                        })),
                                        React.createElement('div', {
                                            className: 'text-right text-sm mt-1',
                                            style: { color: amountProgress >= 100 ? '#10b981' : 'var(--accent)' }
                                        }, `${amountProgress.toFixed(1)}%`)
                                    ]),
                                    
                                    // Win Rate Progress (if target set)
                                    goal.targetWinRate > 0 && React.createElement('div', { key: 'winrate' }, [
                                        React.createElement('div', {
                                            className: 'flex justify-between items-center mb-2'
                                        }, [
                                            React.createElement('span', { className: 'text-sm font-medium' }, '목표 승률'),
                                            React.createElement('span', { className: 'text-sm' }, 
                                                `${stats.winRate.toFixed(1)}% / ${goal.targetWinRate}%`
                                            )
                                        ]),
                                        React.createElement('div', {
                                            className: 'w-full bg-gray-200 rounded-full h-3'
                                        }, React.createElement('div', {
                                            className: 'h-3 rounded-full transition-all duration-300',
                                            style: { 
                                                width: `${winRateProgress}%`,
                                                backgroundColor: winRateProgress >= 100 ? '#10b981' : 'var(--secondary)'
                                            }
                                        })),
                                        React.createElement('div', {
                                            className: 'text-right text-sm mt-1',
                                            style: { color: winRateProgress >= 100 ? '#10b981' : 'var(--secondary)' }
                                        }, `${winRateProgress.toFixed(1)}%`)
                                    ])
                                ]),
                                
                                goal.description && React.createElement('div', {
                                    key: 'description',
                                    className: 'mt-4 pt-4 border-t text-sm text-gray-600'
                                }, goal.description)
                            ]);
                        })),

                    // Goals Form Modal
                    showForm && React.createElement('div', {
                        key: 'modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'
                    }, React.createElement('div', {
                        className: 'metric-card p-6 w-full max-w-md'
                    }, [
                        React.createElement('h2', { 
                            key: 'title', 
                            className: 'text-xl font-bold mb-4' 
                        }, '새 목표'),
                        React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'title' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표명'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: formData.title,
                                    onChange: (e) => setFormData({...formData, title: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '목표명을 입력하세요'
                                })
                            ]),
                            React.createElement('div', { key: 'amount' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표 금액'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: formData.targetAmount,
                                    onChange: (e) => setFormData({...formData, targetAmount: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '목표 금액'
                                })
                            ]),
                            React.createElement('div', { key: 'winrate' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표 승률 (%)'),
                                React.createElement('input', {
                                    type: 'number',
                                    value: formData.targetWinRate,
                                    onChange: (e) => setFormData({...formData, targetWinRate: e.target.value}),
                                    className: 'w-full p-2 border rounded',
                                    placeholder: '목표 승률 (선택사항)',
                                    min: '0',
                                    max: '100'
                                })
                            ]),
                            React.createElement('div', { key: 'deadline' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '목표일 (선택사항)'),
                                React.createElement('input', {
                                    type: 'date',
                                    value: formData.deadline,
                                    onChange: (e) => setFormData({...formData, deadline: e.target.value}),
                                    className: 'w-full p-2 border rounded'
                                })
                            ]),
                            React.createElement('div', { key: 'description' }, [
                                React.createElement('label', { 
                                    className: 'block text-sm font-medium mb-1' 
                                }, '설명 (선택사항)'),
                                React.createElement('textarea', {
                                    value: formData.description,
                                    onChange: (e) => setFormData({...formData, description: e.target.value}),
                                    className: 'w-full p-2 border rounded h-20 resize-none',
                                    placeholder: '목표에 대한 설명'
                                })
                            ])
                        ]),
                        React.createElement('div', { 
                            key: 'actions', 
                            className: 'flex justify-end gap-3 mt-6' 
                        }, [
                            React.createElement('button', {
                                key: 'cancel',
                                onClick: () => setShowForm(false),
                                className: 'px-4 py-2 text-gray-600 border rounded hover:bg-gray-50'
                            }, '취소'),
                            React.createElement('button', {
                                key: 'save',
                                onClick: handleSubmit,
                                className: 'btn-primary'
                            }, '저장')
                        ])
                    ]))
                ]);
            };

            // Render content based on active tab
            const renderContent = () => {
                switch (activeTab) {
                    case 'dashboard': return React.createElement(Dashboard);
                    case 'analytics': return React.createElement(Analytics);
                    case 'trades': return React.createElement(Trades);
                    case 'journal': return React.createElement(Journal);
                    case 'strategy': return React.createElement(Strategy);
                    case 'goals': return React.createElement(Goals);
                    default: return React.createElement('div', { className: 'p-8 text-center' }, '개발 중');
                }
            };

            const sidebarItems = [
                { id: 'dashboard', label: '대시보드', icon: '📊' },
                { id: 'analytics', label: '분석', icon: '📈' },
                { id: 'trades', label: '거래내역', icon: '💰' },
                { id: 'journal', label: '매매일지', icon: '📝' },
                { id: 'strategy', label: '매매전략', icon: '🎯' },
                { id: 'goals', label: '목표설정', icon: '🏆' }
            ];

            return React.createElement('div', { className: 'flex h-screen' }, [
                // Sidebar
                React.createElement('div', {
                    key: 'sidebar',
                    className: 'w-64 sidebar-container flex flex-col'
                }, [
                    React.createElement('div', {
                        key: 'logo',
                        className: 'p-6 border-b'
                    }, [
                        React.createElement('h1', {
                            className: 'font-bold text-xl',
                            style: { color: 'var(--foreground)' }
                        }, '💰 Coin Tracker')
                    ]),
                    
                    React.createElement('nav', {
                        key: 'nav',
                        className: 'flex-1 p-4'
                    }, React.createElement('ul', { className: 'space-y-2' }, 
                        sidebarItems.map(item =>
                            React.createElement('li', { key: item.id },
                                React.createElement('button', {
                                    onClick: () => setActiveTab(item.id),
                                    className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${
                                        activeTab === item.id 
                                            ? 'bg-blue-100 text-blue-700 font-medium' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`
                                }, [
                                    React.createElement('span', { key: 'icon' }, item.icon),
                                    React.createElement('span', { key: 'label' }, item.label)
                                ])
                            )
                        )
                    ))
                ]),
                
                // Main content
                React.createElement('div', {
                    key: 'main',
                    className: 'flex-1 overflow-auto p-6'
                }, renderContent())
            ]);
        }

        // Render the app
        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(CoinTradingApp));
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('root').innerHTML = `
                <div style="padding: 40px; text-align: center; color: #374151;">
                    <h1>🚨 오류 발생</h1>
                    <p>애플리케이션 로딩 중 오류가 발생했습니다.</p>
                    <pre>${error.message}</pre>
                </div>
            `;
        }
    </script>
</body>
</html>