<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Trading Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.52.1/dist/umd/supabase.js" onload="console.log('Supabase script loaded')" onerror="console.error('Supabase script failed to load')"></script>
    <script>
        // ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© í™•ì¸
        window.addEventListener('load', function() {
            console.log('Recharts loaded:', !!window.Recharts);
            if (window.Recharts) {
                console.log('Available components:', Object.keys(window.Recharts));
            }
            console.log('Supabase loaded:', !!window.supabase);
        });
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
          --background: #f5f7fa;
          --foreground: #1a2238;
          --card: #e3eaf2;
          --primary: #3a5ba0;
          --secondary: #f7c873;
          --accent: #6ea3c1;
          --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        body { 
            margin: 0; 
            padding: 0; 
            background: var(--background); 
            font-family: var(--font-sans);
            color: var(--foreground);
        }
        
        .metric-card { 
            background: var(--card); 
            border-radius: 8px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            cursor: pointer;
        }
        
        .sidebar-container {
            background: var(--card);
        }
        
        .compact-stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        .stat-label-compact {
            font-size: 13px;
            color: #6b7280;
            font-weight: 400;
        }
        
        .stat-value-compact {
            font-size: 14px;
            font-weight: 600;
            color: var(--foreground);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script>
        // Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
        let supabaseClient = null;
        
        function initializeSupabase() {
            console.log('Initializing Supabase...');
            console.log('window.supabase:', !!window.supabase);
            
            if (window.supabase) {
                try {
                    // TODO: ì‹¤ì œ Supabase í”„ë¡œì íŠ¸ ì„¤ì •ê°’ìœ¼ë¡œ êµì²´ í•„ìš”
                    const SUPABASE_URL = "https://your-project.supabase.co";
                    const SUPABASE_ANON_KEY = "your-anon-key";
                    
                    supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                    window.db = supabaseClient;
                    console.log('Supabase client initialized successfully');
                    
                    // ì—°ê²° í…ŒìŠ¤íŠ¸
                    setTimeout(async () => {
                        try {
                            const { data, error } = await supabaseClient.from('users').select('count', { count: 'exact', head: true });
                            if (error && error.code !== 'PGRST116') { // í…Œì´ë¸”ì´ ì—†ì„ ìˆ˜ ìˆìŒ
                                console.log('Supabase connection test - table might not exist yet:', error.message);
                            } else {
                                console.log('Supabase connection test successful');
                            }
                        } catch (error) {
                            console.log('Supabase connection test:', error.message);
                        }
                    }, 1000);
                } catch (error) {
                    console.error('Error initializing Supabase client:', error);
                    window.db = null;
                }
            } else {
                console.warn('Supabase library not loaded, using localStorage only');
                window.db = null;
            }
        }
        
        // DOM ë¡œë“œ ì™„ë£Œ í›„ ì´ˆê¸°í™”
        window.addEventListener('load', function() {
            console.log('Window loaded, checking libraries...');
            initializeSupabase();
        });
        
        const { useState, useEffect } = React;
        
        function CoinTradingApp() {
            // ê¸°ë³¸ ìƒíƒœ
            const [activeTab, setActiveTab] = useState('dashboard');
            const [chartPeriod, setChartPeriod] = useState('daily');
            
            // ë¡œê·¸ì¸ ê´€ë ¨ (ì˜µì…˜)
            const [showLoginModal, setShowLoginModal] = useState(false);
            const [isLoggedIn, setIsLoggedIn] = useState(() => {
                const saved = localStorage.getItem('trading-diary-auth');
                if (saved) {
                    const authData = JSON.parse(saved);
                    // Supabaseì™€ ë¡œì»¬ ì¸ì¦ ëª¨ë‘ í—ˆìš©
                    return (authData.authType === 'supabase' || authData.authType === 'local') ? authData.isLoggedIn : false;
                }
                return false;
            });
            const [user, setUser] = useState(() => {
                const saved = localStorage.getItem('trading-diary-auth');
                if (saved) {
                    const authData = JSON.parse(saved);
                    // Supabaseì™€ ë¡œì»¬ ì¸ì¦ ëª¨ë‘ í—ˆìš©
                    return (authData.authType === 'supabase' || authData.authType === 'local') ? authData.user : null;
                }
                return null;
            });
            const [isSignUp, setIsSignUp] = useState(false);
            const [error, setError] = useState('');
            
            // íŒ¨í„´ ë¶„ì„ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒìˆ˜
            const TRADE_TAGS = {
                success: ['ê³„íšëŒ€ë¡œ_ì‹¤í–‰', 'ì¸ë‚´ì‹¬', 'ë¦¬ìŠ¤í¬_ê´€ë¦¬', 'ì ì ˆí•œ_ì†ì ˆ', 'ì ì ˆí•œ_ìµì ˆ', 'ì •ë³´_ë¶„ì„', 'ì‹œì¥_íƒ€ì´ë°'],
                failure: ['ì¡°ê¸‰í•¨', 'ê°ì •_ê±°ë˜', 'ì†ì ˆ_ëŠ¦ìŒ', 'ìµì ˆ_ë¹ ë¦„', 'ê³¼ë§¤ìˆ˜', 'ê³¼ë§¤ë„', 'ì •ë³´_ë¶€ì¡±', 'íƒ€ì´ë°_ì‹¤ìˆ˜']
            };
            
            const TRADE_CHECKLIST = {
                'ì†ì ˆì„ _ì„¤ì •': 'ì†ì ˆì„ ì„ ë¯¸ë¦¬ ì„¤ì •í–ˆë‚˜ìš”?',
                'í¬ì§€ì…˜_ì‚¬ì´ì¦ˆ': 'ì ì ˆí•œ í¬ì§€ì…˜ ì‚¬ì´ì¦ˆì¸ê°€ìš”?',
                'ì‹œì¥_ë¶„ì„': 'ì‹œì¥ ìƒí™©ì„ ì¶©ë¶„íˆ ë¶„ì„í–ˆë‚˜ìš”?',
                'ë‰´ìŠ¤_í™•ì¸': 'ê´€ë ¨ ë‰´ìŠ¤ë‚˜ ì´ë²¤íŠ¸ë¥¼ í™•ì¸í–ˆë‚˜ìš”?',
                'ê¸°ìˆ ì _ë¶„ì„': 'ê¸°ìˆ ì  ë¶„ì„ì„ í–ˆë‚˜ìš”?',
                'ìê¸ˆ_ê´€ë¦¬': 'ìê¸ˆ ê´€ë¦¬ ê³„íšì´ ìˆë‚˜ìš”?',
                'ê°ì •_ìƒíƒœ': 'ëƒ‰ì •í•œ ìƒíƒœì—ì„œ ê±°ë˜í•˜ë‚˜ìš”?',
                'ëª©í‘œ_ìˆ˜ìµë¥ ': 'ëª©í‘œ ìˆ˜ìµë¥ ì„ ì •í–ˆë‚˜ìš”?'
            };
            
            const EMOTION_OPTIONS = ['ë§¤ìš°_í™•ì‹ ', 'í™•ì‹ ', 'ë³´í†µ', 'ë¶ˆì•ˆ', 'ë§¤ìš°_ë¶ˆì•ˆ'];

            // ê±°ë˜ë‚´ì—­ ê´€ë ¨
            const [showTradeForm, setShowTradeForm] = useState(false);
            const [currentTrade, setCurrentTrade] = useState({
                date: new Date().toISOString().split('T')[0],
                entry: '', withdrawal: '', balance: '', memo: '',
                tags: [], // ì‹¤ìˆ˜/ì„±ê³µ íŒ¨í„´ íƒœê·¸
                checklist: {}, // ë§¤ë§¤ ì²´í¬ë¦¬ìŠ¤íŠ¸
                emotion: '', // ê±°ë˜ ì‹œ ê°ì •
                confidence: 5 // í™•ì‹ ë„ (1-10)
            });
            const [editingTrade, setEditingTrade] = useState(null);
            const [trades, setTrades] = useState(() => {
                const saved = localStorage.getItem('trading-diary-trades');
                if (saved) {
                    return JSON.parse(saved);
                }
                return [
                    { id: 1, date: '2025-07-20', entry: 1000000, withdrawal: 0, balance: 1050000, profit: 50000, memo: 'ì´ˆê¸° íˆ¬ì' },
                    { id: 2, date: '2025-07-21', entry: 0, withdrawal: 0, balance: 1080000, profit: 30000, memo: 'BTC ìƒìŠ¹' },
                    { id: 3, date: '2025-07-22', entry: 500000, withdrawal: 0, balance: 1620000, profit: 40000, memo: 'ì¶”ê°€ íˆ¬ì' },
                    { id: 4, date: '2025-07-23', entry: 0, withdrawal: 200000, balance: 1350000, profit: -70000, memo: 'ì¼ë¶€ ì¶œê¸ˆ' },
                    { id: 5, date: '2025-07-24', entry: 200000, withdrawal: 0, balance: 1580000, profit: 30000, memo: 'ì¶”ê°€ ë§¤ìˆ˜' },
                    { id: 6, date: '2025-07-25', entry: 0, withdrawal: 0, balance: 1620000, profit: 40000, memo: 'ì‹œì¥ íšŒë³µ' }
                ];
            });
            
            // ë§¤ë§¤ì¼ì§€ ê´€ë ¨
            const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
            const [journalEntry, setJournalEntry] = useState('');
            const [dailyMood, setDailyMood] = useState('');
            const [showJournalForm, setShowJournalForm] = useState(false);
            const [currentMonth, setCurrentMonth] = useState(new Date());
            const [viewMode, setViewMode] = useState('calendar');
            const [journals, setJournals] = useState(() => {
                const saved = localStorage.getItem('trading-diary-journals');
                return saved ? JSON.parse(saved) : [];
            });
            
            // ë§¤ë§¤ì „ëµ ê´€ë ¨
            const [showStrategyForm, setShowStrategyForm] = useState(false);
            const [currentStrategy, setCurrentStrategy] = useState({
                name: '', 
                description: '', 
                buyCriteria: '',
                sellCriteria: '',
                moneyManagement: '',
                stopLoss: '',
                technicalIndicators: '',
                riskLevel: 'medium',
                timeframe: '',
                targetReturn: '',
                maxDrawdown: ''
            });
            const [editingStrategy, setEditingStrategy] = useState(null);
            const [strategies, setStrategies] = useState(() => {
                const saved = localStorage.getItem('trading-diary-strategies');
                return saved ? JSON.parse(saved) : [];
            });
            
            // ëª©í‘œì„¤ì • ê´€ë ¨
            const [showGoalForm, setShowGoalForm] = useState(false);
            const [currentGoal, setCurrentGoal] = useState({
                title: '', targetAmount: '', targetWinRate: '', deadline: '', description: ''
            });
            const [editingGoal, setEditingGoal] = useState(null);
            const [goals, setGoals] = useState(() => {
                const saved = localStorage.getItem('trading-diary-goals');
                return saved ? JSON.parse(saved) : [];
            });
            
            // localStorage ìë™ ì €ì¥
            React.useEffect(() => {
                localStorage.setItem('trading-diary-trades', JSON.stringify(trades));
            }, [trades]);

            React.useEffect(() => {
                localStorage.setItem('trading-diary-journals', JSON.stringify(journals));
            }, [journals]);

            React.useEffect(() => {
                localStorage.setItem('trading-diary-strategies', JSON.stringify(strategies));
            }, [strategies]);

            React.useEffect(() => {
                localStorage.setItem('trading-diary-goals', JSON.stringify(goals));
            }, [goals]);

            // ì‚¬ìš©ìë³„ ë°ì´í„° ìë™ ì €ì¥
            React.useEffect(() => {
                if (user?.email) {
                    saveUserData(user.email);
                }
            }, [trades, journals, strategies, goals]);

            // ì„±ê³¼ ì´ëª¨í‹°ì½˜ ë§¤í•‘
            const moodEmojis = {
                excellent: 'ğŸš€', // ë§¤ìš° ì¢‹ìŒ
                good: 'ğŸ˜Š',      // ì¢‹ìŒ  
                neutral: 'ğŸ˜',   // ë³´í†µ
                bad: 'ğŸ˜”',       // ë‚˜ì¨
                terrible: 'ğŸ’€'   // ë§¤ìš° ë‚˜ì¨
            };

            const moodLabels = {
                excellent: 'ë§¤ìš° ì¢‹ìŒ',
                good: 'ì¢‹ìŒ',
                neutral: 'ë³´í†µ', 
                bad: 'ë‚˜ì¨',
                terrible: 'ë§¤ìš° ë‚˜ì¨'
            };

            // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
            const formatCurrency = (amount) => `â‚©${Number(amount).toLocaleString()}`;

            const resetAllData = () => {
                if (window.confirm('ì •ë§ë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:\nâ€¢ ëª¨ë“  ê±°ë˜ë‚´ì—­\nâ€¢ ë§¤ë§¤ì¼ì§€\nâ€¢ ë§¤ë§¤ì „ëµ\nâ€¢ ëª©í‘œì„¤ì •\n\nì‚­ì œ í›„ ìƒ˜í”Œ ë°ì´í„°ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.')) {
                    // localStorage í´ë¦¬ì–´
                    localStorage.removeItem('trading-diary-trades');
                    localStorage.removeItem('trading-diary-journals');
                    localStorage.removeItem('trading-diary-strategies');
                    localStorage.removeItem('trading-diary-goals');
                    localStorage.removeItem('trading-diary-auth');
                    
                    // ìƒíƒœë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ë¦¬ì…‹
                    setTrades([
                        { id: 1, date: '2025-07-20', entry: 1000000, withdrawal: 0, balance: 1050000, profit: 50000, memo: 'ì´ˆê¸° íˆ¬ì' },
                        { id: 2, date: '2025-07-21', entry: 0, withdrawal: 0, balance: 1080000, profit: 30000, memo: 'BTC ìƒìŠ¹' },
                        { id: 3, date: '2025-07-22', entry: 500000, withdrawal: 0, balance: 1620000, profit: 40000, memo: 'ì¶”ê°€ íˆ¬ì' },
                        { id: 4, date: '2025-07-23', entry: 0, withdrawal: 200000, balance: 1350000, profit: -70000, memo: 'ì¼ë¶€ ì¶œê¸ˆ' },
                        { id: 5, date: '2025-07-24', entry: 200000, withdrawal: 0, balance: 1580000, profit: 30000, memo: 'ì¶”ê°€ ë§¤ìˆ˜' },
                        { id: 6, date: '2025-07-25', entry: 0, withdrawal: 0, balance: 1620000, profit: 40000, memo: 'ì‹œì¥ íšŒë³µ' }
                    ]);
                    setJournals([]);
                    setStrategies([]);
                    setGoals([]);
                    
                    // ë¡œê·¸ì¸ ìƒíƒœ ì´ˆê¸°í™”
                    setIsLoggedIn(false);
                    setUser(null);
                    
                    // ëŒ€ì‹œë³´ë“œë¡œ ì´ë™
                    setActiveTab('dashboard');
                    
                    alert('ëª¨ë“  ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            };
            
            const calculateStats = () => {
                const totalProfit = trades.reduce((sum, trade) => sum + (trade.profit || 0), 0);
                const totalTrades = trades.length;
                const profitTrades = trades.filter(t => t.profit > 0).length;
                const winRate = totalTrades > 0 ? (profitTrades / totalTrades * 100) : 0;
                const currentBalance = trades.length > 0 ? trades[trades.length - 1].balance : 0;
                
                return { totalProfit, totalTrades, winRate, currentBalance };
            };
            
            const calculatePatternStats = () => {
                if (trades.length === 0) return { tagStats: {}, checklistStats: {}, emotionStats: {} };
                
                const tagStats = {};
                const checklistStats = {};
                const emotionStats = {};
                
                // íƒœê·¸ë³„ í†µê³„
                trades.forEach(trade => {
                    if (trade.tags && Array.isArray(trade.tags)) {
                        trade.tags.forEach(tag => {
                            if (!tagStats[tag]) {
                                tagStats[tag] = { count: 0, profit: 0, wins: 0 };
                            }
                            tagStats[tag].count++;
                            tagStats[tag].profit += trade.profit || 0;
                            if (trade.profit > 0) tagStats[tag].wins++;
                        });
                    }
                });
                
                // ì²´í¬ë¦¬ìŠ¤íŠ¸ë³„ í†µê³„
                trades.forEach(trade => {
                    if (trade.checklist && typeof trade.checklist === 'object') {
                        Object.entries(trade.checklist).forEach(([key, checked]) => {
                            if (!checklistStats[key]) {
                                checklistStats[key] = { checked: 0, unchecked: 0, checkedProfit: 0, uncheckedProfit: 0 };
                            }
                            if (checked) {
                                checklistStats[key].checked++;
                                checklistStats[key].checkedProfit += trade.profit || 0;
                            } else {
                                checklistStats[key].unchecked++;
                                checklistStats[key].uncheckedProfit += trade.profit || 0;
                            }
                        });
                    }
                });
                
                // ê°ì •ë³„ í†µê³„
                trades.forEach(trade => {
                    const emotion = trade.emotion || 'ë¯¸ì„¤ì •';
                    if (!emotionStats[emotion]) {
                        emotionStats[emotion] = { count: 0, profit: 0, wins: 0 };
                    }
                    emotionStats[emotion].count++;
                    emotionStats[emotion].profit += trade.profit || 0;
                    if (trade.profit > 0) emotionStats[emotion].wins++;
                });
                
                return { tagStats, checklistStats, emotionStats };
            };
            
            const generateChartData = () => {
                if (trades.length === 0) return [];
                
                const sortedTrades = [...trades].sort((a, b) => new Date(a.date) - new Date(b.date));
                const data = [];
                let cumulativeProfit = 0;
                let totalInvestment = 0; // ì´ íˆ¬ìê¸ˆ ì¶”ì 
                
                if (chartPeriod === 'daily') {
                    sortedTrades.forEach((trade) => {
                        cumulativeProfit += trade.profit || 0;
                        totalInvestment += trade.entry || 0; // ì…ê¸ˆë§Œ íˆ¬ìê¸ˆìœ¼ë¡œ ê³„ì‚°
                        const investmentBase = totalInvestment || 1000000; // íˆ¬ìê¸ˆì´ 0ì´ë©´ ì´ˆê¸°ê°’ ì‚¬ìš©
                        const profitRate = ((cumulativeProfit / investmentBase) * 100);
                        data.push({
                            date: new Date(trade.date).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                            profitRate: parseFloat(profitRate.toFixed(2)),
                            profit: cumulativeProfit,
                            investment: totalInvestment
                        });
                    });
                } else if (chartPeriod === 'weekly') {
                    const weeklyData = {};
                    const weeklyInvestment = {};
                    
                    sortedTrades.forEach(trade => {
                        const date = new Date(trade.date);
                        const weekStart = new Date(date.setDate(date.getDate() - date.getDay()));
                        const weekKey = weekStart.toISOString().split('T')[0];
                        
                        if (!weeklyData[weekKey]) {
                            weeklyData[weekKey] = 0;
                            weeklyInvestment[weekKey] = 0;
                        }
                        weeklyData[weekKey] += trade.profit || 0;
                        weeklyInvestment[weekKey] += trade.entry || 0;
                    });
                    
                    let cumulative = 0;
                    let cumulativeInvestment = 0;
                    Object.entries(weeklyData).sort().forEach(([week, profit]) => {
                        cumulative += profit;
                        cumulativeInvestment += weeklyInvestment[week];
                        const investmentBase = cumulativeInvestment || 1000000;
                        const profitRate = ((cumulative / investmentBase) * 100);
                        data.push({
                            date: new Date(week).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' }),
                            profitRate: parseFloat(profitRate.toFixed(2)),
                            profit: cumulative,
                            investment: cumulativeInvestment
                        });
                    });
                } else {
                    const monthlyData = {};
                    const monthlyInvestment = {};
                    
                    sortedTrades.forEach(trade => {
                        const month = trade.date.substring(0, 7);
                        if (!monthlyData[month]) {
                            monthlyData[month] = 0;
                            monthlyInvestment[month] = 0;
                        }
                        monthlyData[month] += trade.profit || 0;
                        monthlyInvestment[month] += trade.entry || 0;
                    });
                    
                    let cumulative = 0;
                    let cumulativeInvestment = 0;
                    Object.entries(monthlyData).sort().forEach(([month, profit]) => {
                        cumulative += profit;
                        cumulativeInvestment += monthlyInvestment[month];
                        const investmentBase = cumulativeInvestment || 1000000;
                        const profitRate = ((cumulative / investmentBase) * 100);
                        data.push({
                            date: new Date(month + '-01').toLocaleDateString('ko-KR', { year: 'numeric', month: 'short' }),
                            profitRate: parseFloat(profitRate.toFixed(2)),
                            profit: cumulative,
                            investment: cumulativeInvestment
                        });
                    });
                }
                
                return data;
            };
            
            // ì‚¬ìš©ì ë°ì´í„° ë¡œë”© í•¨ìˆ˜ (localStorage ê¸°ë°˜)
            const loadUserData = (userEmail) => {
                const userKey = `trading-diary-${userEmail}`;
                try {
                    const savedData = localStorage.getItem(userKey);
                    if (savedData) {
                        const userData = JSON.parse(savedData);
                        setTrades(userData.trades || []);
                        setJournals(userData.journals || []);
                        setStrategies(userData.strategies || []);
                        setGoals(userData.goals || []);
                    }
                } catch (error) {
                    console.error('Error loading user data:', error);
                }
            };

            // ì‚¬ìš©ì ë°ì´í„° ì €ì¥ í•¨ìˆ˜
            const saveUserData = (userEmail) => {
                if (!userEmail) return;
                const userKey = `trading-diary-${userEmail}`;
                const userData = {
                    trades,
                    journals, 
                    strategies,
                    goals
                };
                localStorage.setItem(userKey, JSON.stringify(userData));
            };

            // Supabaseì—ì„œ ì‚¬ìš©ì ë°ì´í„° ë¡œë”©
            const loadUserDataFromSupabase = async (userId) => {
                try {
                    const [tradesResult, journalsResult, strategiesResult, goalsResult] = await Promise.all([
                        window.db.from('trades').select('*').eq('user_id', userId).order('date', { ascending: false }),
                        window.db.from('journals').select('*').eq('user_id', userId).order('date', { ascending: false }),
                        window.db.from('strategies').select('*').eq('user_id', userId).order('created_at', { ascending: false }),
                        window.db.from('goals').select('*').eq('user_id', userId).order('created_at', { ascending: false })
                    ]);
                    
                    // ë°ì´í„° í˜•ì‹ì„ ë¡œì»¬ í˜•ì‹ì— ë§ê²Œ ë³€í™˜
                    const trades = tradesResult.data?.map(trade => ({
                        id: trade.id,
                        date: trade.date,
                        entry: trade.entry,
                        withdrawal: trade.withdrawal,
                        balance: trade.balance,
                        profit: trade.profit,
                        memo: trade.memo || ''
                    })) || [];
                    
                    const journals = journalsResult.data?.map(journal => ({
                        id: journal.id,
                        date: journal.date,
                        content: journal.content,
                        mood: journal.mood
                    })) || [];
                    
                    const strategies = strategiesResult.data?.map(strategy => ({
                        id: strategy.id,
                        name: strategy.name,
                        description: strategy.description,
                        buyCriteria: strategy.buy_criteria,
                        sellCriteria: strategy.sell_criteria,
                        moneyManagement: strategy.money_management,
                        stopLoss: strategy.stop_loss,
                        technicalIndicators: strategy.technical_indicators,
                        riskLevel: strategy.risk_level,
                        timeframe: strategy.timeframe,
                        targetReturn: strategy.target_return,
                        maxDrawdown: strategy.max_drawdown
                    })) || [];
                    
                    const goals = goalsResult.data?.map(goal => ({
                        id: goal.id,
                        title: goal.title,
                        targetAmount: goal.target_amount,
                        targetWinRate: goal.target_win_rate,
                        deadline: goal.deadline,
                        description: goal.description,
                        isCompleted: goal.is_completed
                    })) || [];
                    
                    setTrades(trades);
                    setJournals(journals);
                    setStrategies(strategies);
                    setGoals(goals);
                } catch (error) {
                    console.error('Error loading user data from Supabase:', error);
                    // Supabase ì‹¤íŒ¨ì‹œ ë¡œì»¬ ë°ì´í„°ë¡œ fallback
                    if (user?.email) {
                        loadUserData(user.email);
                    }
                }
            };

            // í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë“¤
            const handleLogin = async (event) => {
                event.preventDefault();
                const formData = new FormData(event.target);
                const email = formData.get('email');
                const password = formData.get('password');
                
                if (!email || !password) {
                    setError('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                if (password.length < 6) {
                    setError('ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
                    return;
                }

                try {
                    // Supabase ì¸ì¦ ì‹œë„, ì‹¤íŒ¨ ì‹œ ë¡œì»¬ ëª¨ë“œë¡œ ëŒ€ì²´
                    if (!window.db) {
                        console.warn('Supabase not available, using local authentication mode');
                        
                        // ë¡œì»¬ ëª¨ë“œ: ê°„ë‹¨í•œ ì´ë©”ì¼ ê¸°ë°˜ ì¸ì¦
                        const localUsers = JSON.parse(localStorage.getItem('trading-diary-local-users') || '{}');
                        
                        if (localUsers[email] && localUsers[email].password === password) {
                            const userData = {
                                id: email,
                                name: localUsers[email].name,
                                email: email,
                                avatar: 'ğŸ‘¤'
                            };
                            
                            // ë¡œì»¬ ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ
                            loadUserData(email);
                            
                            setUser(userData);
                            setIsLoggedIn(true);
                            setShowLoginModal(false);
                            setError('');
                            
                            localStorage.setItem('trading-diary-auth', JSON.stringify({
                                isLoggedIn: true,
                                user: userData,
                                authType: 'local'
                            }));
                            return;
                        } else {
                            setError('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.');
                            return;
                        }
                    }
                    
                    console.log('Attempting login with Supabase for:', email);

                    const { data, error } = await window.db.auth.signInWithPassword({
                        email: email,
                        password: password
                    });
                    
                    if (error) {
                        setError('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        return;
                    }
                    
                    if (data.user) {
                        const userData = {
                            id: data.user.id,
                            name: data.user.user_metadata?.name || email.split('@')[0],
                            email: data.user.email,
                            avatar: 'ğŸ‘¤'
                        };
                        
                        // Supabaseì—ì„œ ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ
                        await loadUserDataFromSupabase(data.user.id);
                        
                        setUser(userData);
                        setIsLoggedIn(true);
                        setShowLoginModal(false);
                        setError('');
                        
                        // localStorageì— ë¡œê·¸ì¸ ìƒíƒœ ì €ì¥
                        localStorage.setItem('trading-diary-auth', JSON.stringify({
                            isLoggedIn: true,
                            user: userData,
                            authType: 'supabase'
                        }));
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    setError('ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            };
            
            const handleSignup = async (event) => {
                event.preventDefault();
                const formData = new FormData(event.target);
                const email = formData.get('email');
                const password = formData.get('password');
                const confirmPassword = formData.get('confirmPassword');
                
                if (!email || !password || !confirmPassword) {
                    setError('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                if (password !== confirmPassword) {
                    setError('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    return;
                }
                
                if (password.length < 6) {
                    setError('ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
                    return;
                }

                try {
                    // Supabase íšŒì›ê°€ì… ì‹œë„, ì‹¤íŒ¨ ì‹œ ë¡œì»¬ ëª¨ë“œë¡œ ëŒ€ì²´
                    if (!window.db) {
                        console.warn('Supabase not available, using local registration mode');
                        
                        // ë¡œì»¬ ëª¨ë“œ: localStorageì— ì‚¬ìš©ì ì €ì¥
                        const localUsers = JSON.parse(localStorage.getItem('trading-diary-local-users') || '{}');
                        
                        if (localUsers[email]) {
                            setError('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.');
                            return;
                        }
                        
                        // ìƒˆ ì‚¬ìš©ì ë“±ë¡
                        localUsers[email] = {
                            name: email.split('@')[0],
                            password: password,
                            createdAt: Date.now()
                        };
                        
                        localStorage.setItem('trading-diary-local-users', JSON.stringify(localUsers));
                        
                        const userData = {
                            id: email,
                            name: email.split('@')[0],
                            email: email,
                            avatar: 'ğŸ‘¤'
                        };
                        
                        // ìƒˆ ì‚¬ìš©ìëŠ” ë¹ˆ ë°ì´í„°ë¡œ ì‹œì‘
                        setTrades([]);
                        setJournals([]);
                        setStrategies([]);
                        setGoals([]);
                        
                        setUser(userData);
                        setIsLoggedIn(true);
                        setShowLoginModal(false);
                        setError('');
                        
                        localStorage.setItem('trading-diary-auth', JSON.stringify({
                            isLoggedIn: true,
                            user: userData,
                            authType: 'local'
                        }));
                        
                        alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! (ë¡œì»¬ ëª¨ë“œ)');
                        return;
                    }
                    
                    console.log('Attempting signup with Supabase for:', email);

                    const { data, error } = await window.db.auth.signUp({
                        email: email,
                        password: password,
                        options: {
                            data: {
                                name: email.split('@')[0]
                            }
                        }
                    });
                    
                    if (error) {
                        setError(error.message || 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                        return;
                    }
                    
                    if (data.user) {
                        const userData = {
                            id: data.user.id,
                            name: email.split('@')[0],
                            email: email,
                            avatar: 'ğŸ‘¤'
                        };
                        
                        // ìƒˆ ì‚¬ìš©ìëŠ” ë¹ˆ ë°ì´í„°ë¡œ ì‹œì‘
                        setTrades([]);
                        setJournals([]);
                        setStrategies([]);
                        setGoals([]);
                        
                        setUser(userData);
                        setIsLoggedIn(true);
                        setShowLoginModal(false);
                        setError('');
                        
                        // localStorageì— ë¡œê·¸ì¸ ìƒíƒœ ì €ì¥
                        localStorage.setItem('trading-diary-auth', JSON.stringify({
                            isLoggedIn: true,
                            user: userData,
                            authType: 'supabase'
                        }));
                        
                        alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ë©”ì¼ í™•ì¸ì„ í•´ì£¼ì„¸ìš”.');
                    }
                } catch (error) {
                    console.error('Signup error:', error);
                    setError('íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            };

            const handleLogout = () => {
                setIsLoggedIn(false);
                setUser(null);
                
                // localStorageì—ì„œ ë¡œê·¸ì¸ ì •ë³´ ì œê±°
                localStorage.removeItem('trading-diary-auth');
            };
            
            const handleSaveTrade = async () => {
                const entry = parseFloat(currentTrade.entry) || 0;
                const withdrawal = parseFloat(currentTrade.withdrawal) || 0;
                const balance = parseFloat(currentTrade.balance) || 0;
                
                if (!currentTrade.date || balance === 0) {
                    alert('ë‚ ì§œì™€ ì”ê³ ëŠ” í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.');
                    return;
                }
                
                const prevTrade = trades.find(t => new Date(t.date) < new Date(currentTrade.date));
                const prevBalance = prevTrade ? prevTrade.balance : 1000000;
                const profit = balance - prevBalance - entry + withdrawal;
                
                const newTrade = {
                    ...currentTrade,
                    id: editingTrade?.id || Date.now(),
                    entry, withdrawal, balance,
                    profit: parseFloat(profit.toFixed(2)),
                    tags: currentTrade.tags || [],
                    checklist: currentTrade.checklist || {},
                    emotion: currentTrade.emotion || '',
                    confidence: currentTrade.confidence || 5
                };
                
                // Supabase ë™ê¸°í™” ì‹œë„
                if (window.db && user?.id && user.id !== user.email) { // Supabase ì‚¬ìš©ìì¸ ê²½ìš°ë§Œ
                    try {
                        if (editingTrade) {
                            // ìˆ˜ì •ì˜ ê²½ìš°
                            const { error } = await window.db
                                .from('trades')
                                .update({
                                    date: newTrade.date,
                                    entry: newTrade.entry,
                                    withdrawal: newTrade.withdrawal,
                                    balance: newTrade.balance,
                                    profit: newTrade.profit,
                                    memo: newTrade.memo || "",
                                    updated_at: new Date().toISOString()
                                })
                                .eq('id', editingTrade.id)
                                .eq('user_id', user.id);
                            
                            if (error) throw error;
                        } else {
                            // ìƒˆ ê±°ë˜ ì¶”ê°€
                            const { error } = await window.db
                                .from('trades')
                                .insert({
                                    user_id: user.id,
                                    date: newTrade.date,
                                    entry: newTrade.entry,
                                    withdrawal: newTrade.withdrawal,
                                    balance: newTrade.balance,
                                    profit: newTrade.profit,
                                    memo: newTrade.memo || ""
                                });
                            
                            if (error) throw error;
                        }
                        console.log('Trade synced to Supabase successfully');
                    } catch (error) {
                        console.error('Error syncing trade to Supabase:', error);
                        // Supabase ì‹¤íŒ¨ ì‹œ ë¡œì»¬ë§Œ ì €ì¥í•˜ê³  ê³„ì† ì§„í–‰
                    }
                }
                
                // ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸
                if (editingTrade) {
                    setTrades(prev => prev.map(t => t.id === editingTrade.id ? newTrade : t));
                } else {
                    setTrades(prev => [...prev, newTrade].sort((a, b) => new Date(a.date) - new Date(b.date)));
                }
                
                setCurrentTrade({
                    date: new Date().toISOString().split('T')[0],
                    entry: '', withdrawal: '', balance: '', memo: '',
                    tags: [],
                    checklist: {},
                    emotion: '',
                    confidence: 5
                });
                setEditingTrade(null);
                setShowTradeForm(false);
            };
            
            const handleEditTrade = (trade) => {
                setCurrentTrade(trade);
                setEditingTrade(trade);
                setShowTradeForm(true);
            };
            
            const handleDeleteTrade = (id) => {
                if (confirm('ì´ ê±°ë˜ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    setTrades(prev => prev.filter(t => t.id !== id));
                }
            };
            
            const handleSaveJournalEntry = () => {
                if (!journalEntry.trim()) {
                    alert('ì¼ì§€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                    return;
                }
                
                const newEntry = {
                    id: Date.now(),
                    date: selectedDate,
                    content: journalEntry,
                    mood: dailyMood,
                    timestamp: new Date().toISOString()
                };
                
                setJournals(prev => {
                    const filtered = prev.filter(j => j.date !== selectedDate);
                    return [...filtered, newEntry].sort((a, b) => new Date(b.date) - new Date(a.date));
                });
                
                setJournalEntry('');
                setDailyMood('');
                setShowJournalForm(false);
            };
            
            // ë§¤ë§¤ì „ëµ í•¸ë“¤ëŸ¬
            const handleSaveStrategy = () => {
                if (!currentStrategy.name.trim()) {
                    alert('ì „ëµëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                    return;
                }
                
                const newStrategy = {
                    ...currentStrategy,
                    id: editingStrategy?.id || Date.now(),
                    createdAt: editingStrategy?.createdAt || new Date().toISOString()
                };
                
                if (editingStrategy) {
                    setStrategies(prev => prev.map(s => s.id === editingStrategy.id ? newStrategy : s));
                } else {
                    setStrategies(prev => [...prev, newStrategy]);
                }
                
                setCurrentStrategy({ 
                    name: '', 
                    description: '', 
                    buyCriteria: '',
                    sellCriteria: '',
                    moneyManagement: '',
                    stopLoss: '',
                    technicalIndicators: '',
                    riskLevel: 'medium',
                    timeframe: '',
                    targetReturn: '',
                    maxDrawdown: ''
                });
                setEditingStrategy(null);
                setShowStrategyForm(false);
            };
            
            const handleEditStrategy = (strategy) => {
                setCurrentStrategy(strategy);
                setEditingStrategy(strategy);
                setShowStrategyForm(true);
            };
            
            const handleDeleteStrategy = (id) => {
                if (confirm('ì´ ì „ëµì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    setStrategies(prev => prev.filter(s => s.id !== id));
                }
            };
            
            // ëª©í‘œì„¤ì • í•¸ë“¤ëŸ¬
            const handleSaveGoal = () => {
                if (!currentGoal.title.trim()) {
                    alert('ëª©í‘œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                    return;
                }
                
                const newGoal = {
                    ...currentGoal,
                    id: editingGoal?.id || Date.now(),
                    createdAt: editingGoal?.createdAt || new Date().toISOString(),
                    progress: editingGoal?.progress || 0
                };
                
                if (editingGoal) {
                    setGoals(prev => prev.map(g => g.id === editingGoal.id ? newGoal : g));
                } else {
                    setGoals(prev => [...prev, newGoal]);
                }
                
                setCurrentGoal({ title: '', targetAmount: '', targetWinRate: '', deadline: '', description: '' });
                setEditingGoal(null);
                setShowGoalForm(false);
            };
            
            const handleEditGoal = (goal) => {
                setCurrentGoal(goal);
                setEditingGoal(goal);
                setShowGoalForm(true);
            };
            
            const handleDeleteGoal = (id) => {
                if (confirm('ì´ ëª©í‘œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    setGoals(prev => prev.filter(g => g.id !== id));
                }
            };
            
            // ìº˜ë¦°ë” ìœ í‹¸ë¦¬í‹°
            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDayOfWeek = firstDay.getDay();
                
                const days = [];
                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(null);
                }
                for (let day = 1; day <= daysInMonth; day++) {
                    days.push(new Date(year, month, day));
                }
                
                return days;
            };
            
            const formatDateForJournal = (date) => {
                if (!date) return '';
                return date.toISOString().split('T')[0];
            };
            
            const hasJournalEntry = (date) => {
                if (!date) return false;
                const dateStr = formatDateForJournal(date);
                return journals.some(j => j.date === dateStr);
            };

            const getJournalEntry = (date) => {
                if (!date) return null;
                const dateStr = formatDateForJournal(date);
                return journals.find(j => j.date === dateStr);
            };
            
            const stats = calculateStats();
            const chartData = generateChartData();
            
            // ìƒ˜í”Œ ë°ì´í„° (ë°ì´í„°ê°€ ì—†ì„ ë•Œ)
            const sampleChartData = chartData.length > 0 ? chartData : [
                { date: '1ì›” 1ì¼', profitRate: 0, profit: 0, investment: 1000000 },
                { date: '1ì›” 15ì¼', profitRate: 2.5, profit: 25000, investment: 1000000 },
                { date: '2ì›” 1ì¼', profitRate: 1.8, profit: 18000, investment: 1000000 },
                { date: '2ì›” 15ì¼', profitRate: 3.2, profit: 32000, investment: 1000000 },
                { date: '3ì›” 1ì¼', profitRate: 4.7, profit: 47000, investment: 1000000 }
            ];
            const displayChartData = chartData.length > 0 ? chartData : sampleChartData;
            
            // ë Œë”ë§ í•¨ìˆ˜ë“¤
            const renderLoginModal = () => {
                return React.createElement('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50',
                    onClick: (e) => e.target === e.currentTarget && setShowLoginModal(false)
                }, [
                    React.createElement('div', {
                        key: 'modal',
                        className: 'bg-white rounded-2xl p-8 w-full max-w-md mx-4 relative'
                    }, [
                        React.createElement('div', {
                            key: 'header',
                            className: 'text-center mb-8'
                        }, [
                            React.createElement('h2', {
                                key: 'title',
                                className: 'text-2xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, isSignUp ? 'í´ë¼ìš°ë“œ ê³„ì • ë§Œë“¤ê¸°' : 'í´ë¼ìš°ë“œ ë™ê¸°í™”'),
                            React.createElement('p', {
                                key: 'subtitle',
                                className: 'text-gray-600'
                            }, isSignUp ? 'ì–´ë””ì„œë“  ë°ì´í„°ì— ì ‘ê·¼í•˜ë ¤ë©´ ê³„ì •ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”' : 'ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œë„ ë°ì´í„°ë¥¼ ë³´ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”')
                        ]),
                        
                        React.createElement('form', {
                            key: 'form',
                            onSubmit: isSignUp ? handleSignup : handleLogin,
                            className: 'space-y-4'
                        }, [
                            React.createElement('div', { key: 'email-field', className: 'space-y-2' }, [
                                React.createElement('label', {
                                    key: 'label',
                                    className: 'block text-sm font-medium',
                                    style: { color: 'var(--foreground)' }
                                }, 'ì´ë©”ì¼'),
                                React.createElement('input', {
                                    key: 'input',
                                    type: 'email',
                                    name: 'email',
                                    required: true,
                                    className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all',
                                    placeholder: 'your@email.com'
                                })
                            ]),
                            React.createElement('div', { key: 'password-field', className: 'space-y-2' }, [
                                React.createElement('label', {
                                    key: 'label',
                                    className: 'block text-sm font-medium',
                                    style: { color: 'var(--foreground)' }
                                }, 'ë¹„ë°€ë²ˆí˜¸'),
                                React.createElement('input', {
                                    key: 'input',
                                    type: 'password',
                                    name: 'password',
                                    required: true,
                                    className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all',
                                    placeholder: '6ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”'
                                })
                            ]),
                            isSignUp && React.createElement('div', { key: 'confirm-password-field', className: 'space-y-2' }, [
                                React.createElement('label', {
                                    key: 'label',
                                    className: 'block text-sm font-medium',
                                    style: { color: 'var(--foreground)' }
                                }, 'ë¹„ë°€ë²ˆí˜¸ í™•ì¸'),
                                React.createElement('input', {
                                    key: 'input',
                                    type: 'password',
                                    name: 'confirmPassword',
                                    required: true,
                                    className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all',
                                    placeholder: 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”'
                                })
                            ]),
                            error && React.createElement('div', {
                                key: 'error',
                                className: 'text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg'
                            }, error),
                            React.createElement('button', {
                                key: 'submit',
                                type: 'submit',
                                className: 'w-full py-3 px-4 text-white font-medium rounded-lg transition-colors',
                                style: { backgroundColor: 'var(--primary)' }
                            }, isSignUp ? 'í´ë¼ìš°ë“œ ê³„ì • ë§Œë“¤ê¸°' : 'ë™ê¸°í™” ì‹œì‘'),
                            React.createElement('div', {
                                key: 'toggle',
                                className: 'text-center pt-4'
                            }, [
                                React.createElement('span', {
                                    key: 'text',
                                    className: 'text-sm text-gray-600'
                                }, isSignUp ? 'ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ' : 'ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? '),
                                React.createElement('button', {
                                    key: 'link',
                                    type: 'button',
                                    onClick: () => {
                                        setIsSignUp(!isSignUp);
                                        setError('');
                                    },
                                    className: 'text-sm font-medium hover:underline',
                                    style: { color: 'var(--primary)' }
                                }, isSignUp ? 'ë¡œê·¸ì¸' : 'íšŒì›ê°€ì…')
                            ])
                        ]),
                        
                        React.createElement('button', {
                            key: 'close',
                            onClick: () => setShowLoginModal(false),
                            className: 'absolute top-4 right-4 w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors',
                            'aria-label': 'ëª¨ë‹¬ ë‹«ê¸°'
                        }, 'âœ•')
                    ])
                ]);
            };
            
            const renderDashboard = () => {
                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, 'ëŒ€ì‹œë³´ë“œ'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, 'íˆ¬ì í˜„í™©ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”')
                    ]),
                    
                    React.createElement('div', {
                        key: 'metrics',
                        className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6'
                    }, [
                        React.createElement('div', { 
                            key: 'profit',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ì´ ìˆ˜ìµ'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: stats.totalProfit >= 0 ? 'var(--accent)' : '#ef4444' }
                            }, formatCurrency(stats.totalProfit))
                        ]),
                        React.createElement('div', { 
                            key: 'balance',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'í˜„ì¬ ì”ê³ '),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, formatCurrency(stats.currentBalance))
                        ]),
                        React.createElement('div', { 
                            key: 'trades',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ì´ ê±°ë˜'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${stats.totalTrades}ê±´`)
                        ]),
                        React.createElement('div', { 
                            key: 'winrate',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ìŠ¹ë¥ '),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--accent)' }
                            }, `${stats.winRate.toFixed(1)}%`)
                        ])
                    ]),
                    
                    // íŒ¨í„´ ë¶„ì„ ì„¹ì…˜
                    React.createElement('div', {
                        key: 'pattern-analysis',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-xl font-bold mb-4',
                            style: { color: 'var(--foreground)' }
                        }, 'ğŸ“Š ë§¤ë§¤ íŒ¨í„´ ë¶„ì„'),
                        
                        React.createElement('div', {
                            key: 'pattern-content',
                            className: 'grid grid-cols-1 lg:grid-cols-3 gap-6'
                        }, [
                            // ê°€ì¥ ì„±ê³µì ì¸ íƒœê·¸
                            React.createElement('div', { key: 'success-tags' }, [
                                React.createElement('h4', { className: 'text-sm font-medium text-green-600 mb-2' }, 'âœ… ì„±ê³µ íŒ¨í„´'),
                                React.createElement('div', { className: 'space-y-2' },
                                    Object.entries(calculatePatternStats().tagStats)
                                        .filter(([tag]) => TRADE_TAGS.success.includes(tag))
                                        .sort((a, b) => (b[1].wins / b[1].count) - (a[1].wins / a[1].count))
                                        .slice(0, 3)
                                        .map(([tag, stats]) => {
                                            const winRate = ((stats.wins / stats.count) * 100).toFixed(1);
                                            const avgProfit = (stats.profit / stats.count).toFixed(0);
                                            return React.createElement('div', {
                                                key: tag,
                                                className: 'bg-green-50 p-3 rounded'
                                            }, [
                                                React.createElement('p', { className: 'font-medium text-sm' }, tag.replace('_', ' ')),
                                                React.createElement('p', { className: 'text-xs text-gray-600' }, 
                                                    `${stats.count}íšŒ | ìŠ¹ë¥  ${winRate}% | í‰ê·  ${formatCurrency(avgProfit)}`
                                                )
                                            ]);
                                        })
                                )
                            ]),
                            
                            // ê°€ì¥ ë¬¸ì œë˜ëŠ” íƒœê·¸
                            React.createElement('div', { key: 'failure-tags' }, [
                                React.createElement('h4', { className: 'text-sm font-medium text-red-600 mb-2' }, 'âŒ ì‹¤ìˆ˜ íŒ¨í„´'),
                                React.createElement('div', { className: 'space-y-2' },
                                    Object.entries(calculatePatternStats().tagStats)
                                        .filter(([tag]) => TRADE_TAGS.failure.includes(tag))
                                        .sort((a, b) => b[1].count - a[1].count)
                                        .slice(0, 3)
                                        .map(([tag, stats]) => {
                                            const winRate = ((stats.wins / stats.count) * 100).toFixed(1);
                                            const avgLoss = (stats.profit / stats.count).toFixed(0);
                                            return React.createElement('div', {
                                                key: tag,
                                                className: 'bg-red-50 p-3 rounded'
                                            }, [
                                                React.createElement('p', { className: 'font-medium text-sm' }, tag.replace('_', ' ')),
                                                React.createElement('p', { className: 'text-xs text-gray-600' }, 
                                                    `${stats.count}íšŒ | ìŠ¹ë¥  ${winRate}% | í‰ê·  ${formatCurrency(avgLoss)}`
                                                )
                                            ]);
                                        })
                                )
                            ]),
                            
                            // ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¤€ìˆ˜ìœ¨
                            React.createElement('div', { key: 'checklist-stats' }, [
                                React.createElement('h4', { className: 'text-sm font-medium text-blue-600 mb-2' }, 'ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ íš¨ê³¼'),
                                React.createElement('div', { className: 'space-y-2' },
                                    Object.entries(calculatePatternStats().checklistStats)
                                        .slice(0, 3)
                                        .map(([key, stats]) => {
                                            const total = stats.checked + stats.unchecked;
                                            const adherenceRate = total > 0 ? ((stats.checked / total) * 100).toFixed(1) : 0;
                                            const avgProfitWhenChecked = stats.checked > 0 ? (stats.checkedProfit / stats.checked).toFixed(0) : 0;
                                            const avgProfitWhenUnchecked = stats.unchecked > 0 ? (stats.uncheckedProfit / stats.unchecked).toFixed(0) : 0;
                                            
                                            return React.createElement('div', {
                                                key: key,
                                                className: 'bg-blue-50 p-3 rounded'
                                            }, [
                                                React.createElement('p', { className: 'font-medium text-sm' }, 
                                                    TRADE_CHECKLIST[key]?.replace(/\?$/, '') || key.replace('_', ' ')
                                                ),
                                                React.createElement('p', { className: 'text-xs text-gray-600' }, 
                                                    `ì¤€ìˆ˜ìœ¨ ${adherenceRate}%`
                                                ),
                                                React.createElement('p', { className: 'text-xs text-gray-600' }, 
                                                    `ì¤€ìˆ˜ ì‹œ: ${formatCurrency(avgProfitWhenChecked)} | ë¯¸ì¤€ìˆ˜ ì‹œ: ${formatCurrency(avgProfitWhenUnchecked)}`
                                                )
                                            ]);
                                        })
                                )
                            ])
                        ])
                    ]),
                    
                    // íˆ¬ìê¸ˆ ëŒ€ë¹„ ìˆ˜ìµë¥  ì°¨íŠ¸
                    React.createElement('div', {
                        key: 'investment-return-chart',
                        className: 'metric-card p-6 mt-6',
                        style: { width: '100%', minHeight: '400px' }
                    }, [
                        React.createElement('div', {
                            key: 'header',
                            className: 'flex items-center justify-between mb-6'
                        }, [
                            React.createElement('div', { key: 'info' }, [
                                React.createElement('h3', {
                                    className: 'text-xl font-bold mb-2',
                                    style: { color: 'var(--foreground)' }
                                }, 'íˆ¬ìê¸ˆ ëŒ€ë¹„ ìˆ˜ìµë¥ '),
                                React.createElement('p', {
                                    className: 'text-sm text-gray-600'
                                }, 'ì‹¤ì œ íˆ¬ìí•œ ê¸ˆì•¡ ëŒ€ë¹„ ìˆ˜ìµë¥  ë³€í™”ë¥¼ í™•ì¸í•˜ì„¸ìš”')
                            ]),
                            React.createElement('div', {
                                key: 'period-buttons',
                                className: 'flex rounded-lg p-1',
                                style: { backgroundColor: 'var(--card)' }
                            }, [
                                React.createElement('button', {
                                    key: 'daily',
                                    onClick: () => setChartPeriod('daily'),
                                    className: `px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${
                                        chartPeriod === 'daily' 
                                            ? 'text-white'
                                            : 'text-gray-600 hover:text-gray-900'
                                    }`,
                                    style: chartPeriod === 'daily' ? { backgroundColor: 'var(--primary)' } : {}
                                }, 'ì¼ê°„'),
                                React.createElement('button', {
                                    key: 'weekly',
                                    onClick: () => setChartPeriod('weekly'),
                                    className: `px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${
                                        chartPeriod === 'weekly' 
                                            ? 'text-white'
                                            : 'text-gray-600 hover:text-gray-900'
                                    }`,
                                    style: chartPeriod === 'weekly' ? { backgroundColor: 'var(--primary)' } : {}
                                }, 'ì£¼ê°„'),
                                React.createElement('button', {
                                    key: 'monthly',
                                    onClick: () => setChartPeriod('monthly'),
                                    className: `px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${
                                        chartPeriod === 'monthly' 
                                            ? 'text-white'
                                            : 'text-gray-600 hover:text-gray-900'
                                    }`,
                                    style: chartPeriod === 'monthly' ? { backgroundColor: 'var(--primary)' } : {}
                                }, 'ì›”ê°„')
                            ])
                        ]),
                        React.createElement('div', {
                            key: 'chart-container',
                            className: 'h-80 relative bg-white rounded-lg border p-4'
                        }, [
                            // í˜„ì¬ ìˆ˜ìµë¥  í‘œì‹œ
                            React.createElement('div', {
                                key: 'current-rate',
                                className: 'absolute top-4 left-4 z-10'
                            }, [
                                React.createElement('div', {
                                    key: 'rate-value',
                                    className: 'text-2xl font-bold text-green-600'
                                }, `${displayChartData[displayChartData.length - 1]?.profitRate || 0}%`),
                                React.createElement('div', {
                                    key: 'rate-label',
                                    className: 'text-sm text-gray-500'
                                }, 'í˜„ì¬ ìˆ˜ìµë¥ ')
                            ]),
                            
                            // SVG ì°¨íŠ¸ (ë™ì  ìŠ¤ì¼€ì¼ë§)
                            (() => {
                                // ë°ì´í„° ë²”ìœ„ ê³„ì‚°
                                const profitRates = displayChartData.map(d => d.profitRate);
                                const minRate = Math.min(...profitRates, 0);
                                const maxRate = Math.max(...profitRates, 0);
                                const padding = Math.max((maxRate - minRate) * 0.1, 1); // ìµœì†Œ 1% íŒ¨ë”©
                                const yMin = Math.floor(minRate - padding);
                                const yMax = Math.ceil(maxRate + padding);
                                const yRange = yMax - yMin;
                                
                                // Yì¶• ëˆˆê¸ˆ ê³„ì‚° (4-6ê°œ ëˆˆê¸ˆ)
                                const getYTicks = () => {
                                    const tickCount = 5;
                                    const step = Math.ceil(yRange / tickCount);
                                    const ticks = [];
                                    for (let i = 0; i <= tickCount; i++) {
                                        const value = yMin + (i * step);
                                        if (value <= yMax) ticks.push(value);
                                    }
                                    return ticks;
                                };
                                
                                const yTicks = getYTicks();
                                
                                // ì¢Œí‘œ ë³€í™˜ í•¨ìˆ˜
                                const getY = (profitRate) => {
                                    return 170 - ((profitRate - yMin) / yRange) * 120; // 120px ì°¨íŠ¸ ë†’ì´
                                };
                                
                                return React.createElement('svg', {
                                    key: 'svg-chart',
                                    width: '100%',
                                    height: '240',
                                    viewBox: '0 0 800 240',
                                    className: 'mt-12'
                                }, [
                                    // ë™ì  ê²©ìì„  (ê°€ë¡œ)
                                    ...yTicks.map((tick, index) => {
                                        const y = getY(tick);
                                        return React.createElement('line', { 
                                            key: `grid-h-${index}`, 
                                            x1: 60, 
                                            y1: y, 
                                            x2: 740, 
                                            y2: y, 
                                            stroke: tick === 0 ? '#d1d5db' : '#f3f4f6', 
                                            strokeWidth: tick === 0 ? 2 : 1 
                                        });
                                    }),
                                    
                                    // ì°¨íŠ¸ ì„ 
                                    React.createElement('polyline', {
                                        key: 'chart-line',
                                        points: displayChartData.map((item, index) => {
                                            const x = 60 + (index * (680 / Math.max(displayChartData.length - 1, 1)));
                                            const y = getY(item.profitRate);
                                            return `${x},${y}`;
                                        }).join(' '),
                                        fill: 'none',
                                        stroke: '#10b981',
                                        strokeWidth: 3,
                                        style: { filter: 'drop-shadow(0 2px 4px rgba(16, 185, 129, 0.3))' }
                                    }),
                                    
                                    // ë°ì´í„° í¬ì¸íŠ¸
                                    ...displayChartData.map((item, index) => {
                                        const x = 60 + (index * (680 / Math.max(displayChartData.length - 1, 1)));
                                        const y = getY(item.profitRate);
                                        return React.createElement('circle', {
                                            key: `point-${index}`,
                                            cx: x,
                                            cy: y,
                                            r: 4,
                                            fill: '#10b981',
                                            stroke: 'white',
                                            strokeWidth: 2
                                        });
                                    }),
                                    
                                    // Xì¶• ë¼ë²¨
                                    ...displayChartData.map((item, index) => {
                                        if (index % Math.ceil(displayChartData.length / 5) === 0) {
                                            const x = 60 + (index * (680 / Math.max(displayChartData.length - 1, 1)));
                                            return React.createElement('text', {
                                                key: `x-label-${index}`,
                                                x: x,
                                                y: 200,
                                                textAnchor: 'middle',
                                                fontSize: '11',
                                                fill: '#9ca3af'
                                            }, item.date);
                                        }
                                        return null;
                                    }).filter(Boolean),
                                    
                                    // ë™ì  Yì¶• ë¼ë²¨
                                    ...yTicks.map((tick, index) => {
                                        const y = getY(tick) + 4; // í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•œ ì˜¤í”„ì…‹
                                        return React.createElement('text', { 
                                            key: `y-${index}`, 
                                            x: 50, 
                                            y: y, 
                                            textAnchor: 'end', 
                                            fontSize: '11', 
                                            fill: tick === 0 ? '#374151' : '#9ca3af',
                                            fontWeight: tick === 0 ? 'bold' : 'normal'
                                        }, `${tick > 0 ? '+' : ''}${tick}%`);
                                    })
                                ]);
                            })()
                        ])
                    ])
                ]);
            };
            
            const renderTrades = () => {
                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex justify-between items-center' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, 'ê±°ë˜ë‚´ì—­'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, 'ëª¨ë“  ê±°ë˜ ê¸°ë¡ì„ ê´€ë¦¬í•˜ì„¸ìš”')
                        ]),
                        React.createElement('button', {
                            key: 'add-btn',
                            onClick: () => setShowTradeForm(true),
                            className: 'px-3 py-1.5 btn-primary rounded text-sm'
                        }, 'ê±°ë˜ ì¶”ê°€')
                    ]),
                    
                    React.createElement('div', {
                        key: 'trades-list',
                        className: 'metric-card overflow-hidden'
                    }, [
                        React.createElement('div', {
                            key: 'table-header',
                            className: 'hidden md:grid grid-cols-8 gap-4 p-4 bg-gray-50 border-b font-medium text-sm text-gray-700'
                        }, [
                            React.createElement('div', { key: 'date' }, 'ë‚ ì§œ'),
                            React.createElement('div', { key: 'entry' }, 'ì…ê¸ˆ'),
                            React.createElement('div', { key: 'withdrawal' }, 'ì¶œê¸ˆ'),
                            React.createElement('div', { key: 'balance' }, 'ì”ê³ '),
                            React.createElement('div', { key: 'profit' }, 'ìˆ˜ìµ'),
                            React.createElement('div', { key: 'memo' }, 'ë©”ëª¨'),
                            React.createElement('div', { key: 'tags' }, 'íƒœê·¸'),
                            React.createElement('div', { key: 'actions' }, 'ì‘ì—…')
                        ]),
                        React.createElement('div', { key: 'table-body' },
                            trades.map(trade =>
                                React.createElement('div', {
                                    key: trade.id,
                                    className: 'md:grid md:grid-cols-8 md:gap-4 p-4 border-b hover:bg-gray-50 transition-colors'
                                }, [
                                    // ëª¨ë°”ì¼ ì¹´ë“œ í˜•íƒœ
                                    React.createElement('div', { 
                                        key: 'mobile-card', 
                                        className: 'md:hidden space-y-2'
                                    }, [
                                        React.createElement('div', { className: 'flex justify-between items-center' }, [
                                            React.createElement('span', { className: 'text-sm font-medium' }, trade.date),
                                            React.createElement('div', { className: 'flex gap-1' }, [
                                                React.createElement('button', {
                                                    key: 'edit-mobile',
                                                    onClick: () => handleEditTrade(trade),
                                                    className: 'text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded'
                                                }, 'ìˆ˜ì •'),
                                                React.createElement('button', {
                                                    key: 'delete-mobile',
                                                    onClick: () => handleDeleteTrade(trade.id),
                                                    className: 'text-xs px-2 py-1 bg-red-50 text-red-600 rounded'
                                                }, 'ì‚­ì œ')
                                            ])
                                        ]),
                                        React.createElement('div', { className: 'grid grid-cols-2 gap-2 text-sm' }, [
                                            trade.entry > 0 && React.createElement('div', {}, [
                                                React.createElement('span', { className: 'text-gray-500' }, 'ì…ê¸ˆ: '),
                                                React.createElement('span', {}, formatCurrency(trade.entry))
                                            ]),
                                            trade.withdrawal > 0 && React.createElement('div', {}, [
                                                React.createElement('span', { className: 'text-gray-500' }, 'ì¶œê¸ˆ: '),
                                                React.createElement('span', {}, formatCurrency(trade.withdrawal))
                                            ]),
                                            React.createElement('div', {}, [
                                                React.createElement('span', { className: 'text-gray-500' }, 'ì”ê³ : '),
                                                React.createElement('span', { className: 'font-medium' }, formatCurrency(trade.balance))
                                            ]),
                                            React.createElement('div', {}, [
                                                React.createElement('span', { className: 'text-gray-500' }, 'ìˆ˜ìµ: '),
                                                React.createElement('span', { 
                                                    className: 'font-medium',
                                                    style: { color: trade.profit >= 0 ? 'var(--accent)' : '#ef4444' }
                                                }, formatCurrency(trade.profit))
                                            ])
                                        ]),
                                        trade.memo && React.createElement('div', { className: 'text-sm text-gray-600' }, [
                                            React.createElement('span', { className: 'text-gray-500' }, 'ë©”ëª¨: '),
                                            React.createElement('span', {}, trade.memo)
                                        ]),
                                        trade.tags && trade.tags.length > 0 && React.createElement('div', { className: 'flex flex-wrap gap-1 mt-2' },
                                            trade.tags.map(tag => 
                                                React.createElement('span', {
                                                    key: tag,
                                                    className: `text-xs px-2 py-1 rounded ${
                                                        TRADE_TAGS.success.includes(tag) 
                                                            ? 'bg-green-100 text-green-700'
                                                            : 'bg-red-100 text-red-700'
                                                    }`
                                                }, tag.replace('_', ' '))
                                            )
                                        )
                                    ]),
                                    
                                    // ë°ìŠ¤í¬í†± í…Œì´ë¸” í˜•íƒœ
                                    React.createElement('div', { key: 'date', className: 'hidden md:block text-sm' }, trade.date),
                                    React.createElement('div', { key: 'entry', className: 'hidden md:block text-sm' }, trade.entry > 0 ? formatCurrency(trade.entry) : '-'),
                                    React.createElement('div', { key: 'withdrawal', className: 'hidden md:block text-sm' }, trade.withdrawal > 0 ? formatCurrency(trade.withdrawal) : '-'),
                                    React.createElement('div', { key: 'balance', className: 'hidden md:block text-sm font-medium' }, formatCurrency(trade.balance)),
                                    React.createElement('div', { 
                                        key: 'profit', 
                                        className: 'hidden md:block text-sm font-medium',
                                        style: { color: trade.profit >= 0 ? 'var(--accent)' : '#ef4444' }
                                    }, formatCurrency(trade.profit)),
                                    React.createElement('div', { key: 'memo', className: 'hidden md:block text-sm text-gray-600 truncate' }, trade.memo || '-'),
                                    React.createElement('div', { key: 'tags', className: 'hidden md:block text-sm' }, 
                                        trade.tags && trade.tags.length > 0 
                                            ? React.createElement('div', { className: 'flex flex-wrap gap-1' },
                                                trade.tags.slice(0, 2).map(tag => 
                                                    React.createElement('span', {
                                                        key: tag,
                                                        className: `text-xs px-1 py-0.5 rounded ${
                                                            TRADE_TAGS.success.includes(tag) 
                                                                ? 'bg-green-100 text-green-700'
                                                                : 'bg-red-100 text-red-700'
                                                        }`
                                                    }, tag.replace('_', ' '))
                                                ).concat(
                                                    trade.tags.length > 2 
                                                        ? [React.createElement('span', { key: 'more', className: 'text-xs text-gray-500' }, `+${trade.tags.length - 2}`)]
                                                        : []
                                                )
                                            )
                                            : React.createElement('span', { className: 'text-gray-400' }, '-')
                                    ),
                                    React.createElement('div', { key: 'actions', className: 'hidden md:flex gap-2' }, [
                                        React.createElement('button', {
                                            key: 'edit',
                                            onClick: () => handleEditTrade(trade),
                                            className: 'text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 transition-colors'
                                        }, 'ìˆ˜ì •'),
                                        React.createElement('button', {
                                            key: 'delete',
                                            onClick: () => handleDeleteTrade(trade.id),
                                            className: 'text-xs px-2 py-1 bg-red-50 text-red-600 rounded hover:bg-red-100 transition-colors'
                                        }, 'ì‚­ì œ')
                                    ])
                                ])
                            )
                        )
                    ]),
                    
                    showTradeForm && React.createElement('div', {
                        key: 'trade-modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'
                    }, [
                        React.createElement('div', {
                            key: 'modal',
                            className: 'bg-white rounded-2xl p-6 w-full max-w-md mx-4'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, editingTrade ? 'ê±°ë˜ ìˆ˜ì •' : 'ê±°ë˜ ì¶”ê°€'),
                            React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                                React.createElement('div', { key: 'date-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ë‚ ì§œ'),
                                    React.createElement('input', {
                                        type: 'date',
                                        value: currentTrade.date,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, date: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg'
                                    })
                                ]),
                                React.createElement('div', { key: 'entry-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì…ê¸ˆ'),
                                    React.createElement('input', {
                                        type: 'number',
                                        value: currentTrade.entry,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, entry: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: '0'
                                    })
                                ]),
                                React.createElement('div', { key: 'withdrawal-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì¶œê¸ˆ'),
                                    React.createElement('input', {
                                        type: 'number',
                                        value: currentTrade.withdrawal,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, withdrawal: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: '0'
                                    })
                                ]),
                                React.createElement('div', { key: 'balance-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì”ê³ '),
                                    React.createElement('input', {
                                        type: 'number',
                                        value: currentTrade.balance,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, balance: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: 'í˜„ì¬ ì”ê³ '
                                    })
                                ]),
                                React.createElement('div', { key: 'memo-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ë©”ëª¨'),
                                    React.createElement('input', {
                                        type: 'text',
                                        value: currentTrade.memo,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, memo: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: 'ê±°ë˜ ë©”ëª¨'
                                    })
                                ]),
                                
                                // ê°ì • ìƒíƒœ
                                React.createElement('div', { key: 'emotion-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ê±°ë˜ ì‹œ ê°ì •'),
                                    React.createElement('select', {
                                        value: currentTrade.emotion,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, emotion: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg'
                                    }, [
                                        React.createElement('option', { key: 'empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                                        ...EMOTION_OPTIONS.map(emotion => 
                                            React.createElement('option', { key: emotion, value: emotion }, emotion.replace('_', ' '))
                                        )
                                    ])
                                ]),
                                
                                // í™•ì‹ ë„
                                React.createElement('div', { key: 'confidence-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, `í™•ì‹ ë„: ${currentTrade.confidence}/10`),
                                    React.createElement('input', {
                                        type: 'range',
                                        min: '1',
                                        max: '10',
                                        value: currentTrade.confidence,
                                        onChange: (e) => setCurrentTrade(prev => ({...prev, confidence: parseInt(e.target.value)})),
                                        className: 'w-full'
                                    })
                                ]),
                                
                                // ë§¤ë§¤ ì²´í¬ë¦¬ìŠ¤íŠ¸
                                React.createElement('div', { key: 'checklist-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-2' }, 'ë§¤ë§¤ ì²´í¬ë¦¬ìŠ¤íŠ¸'),
                                    React.createElement('div', { className: 'space-y-2 max-h-32 overflow-y-auto border rounded-lg p-3' },
                                        Object.entries(TRADE_CHECKLIST).map(([key, question]) =>
                                            React.createElement('label', { key: key, className: 'flex items-center text-sm' }, [
                                                React.createElement('input', {
                                                    type: 'checkbox',
                                                    checked: currentTrade.checklist[key] || false,
                                                    onChange: (e) => setCurrentTrade(prev => ({
                                                        ...prev, 
                                                        checklist: {...prev.checklist, [key]: e.target.checked}
                                                    })),
                                                    className: 'mr-2'
                                                }),
                                                question
                                            ])
                                        )
                                    )
                                ]),
                                
                                // íŒ¨í„´ íƒœê·¸
                                React.createElement('div', { key: 'tags-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-2' }, 'íŒ¨í„´ íƒœê·¸'),
                                    React.createElement('div', { className: 'space-y-2' }, [
                                        React.createElement('div', { key: 'success-tags' }, [
                                            React.createElement('p', { className: 'text-xs text-green-600 font-medium mb-1' }, 'âœ… ì„±ê³µ ìš”ì¸'),
                                            React.createElement('div', { className: 'flex flex-wrap gap-1' },
                                                TRADE_TAGS.success.map(tag => 
                                                    React.createElement('button', {
                                                        key: `success-${tag}`,
                                                        type: 'button',
                                                        onClick: () => {
                                                            const isSelected = currentTrade.tags.includes(tag);
                                                            setCurrentTrade(prev => ({
                                                                ...prev,
                                                                tags: isSelected 
                                                                    ? prev.tags.filter(t => t !== tag)
                                                                    : [...prev.tags, tag]
                                                            }));
                                                        },
                                                        className: `text-xs px-2 py-1 rounded transition-colors ${
                                                            currentTrade.tags.includes(tag) 
                                                                ? 'bg-green-100 text-green-700 border border-green-300'
                                                                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                                        }`
                                                    }, tag.replace('_', ' '))
                                                )
                                            )
                                        ]),
                                        React.createElement('div', { key: 'failure-tags' }, [
                                            React.createElement('p', { className: 'text-xs text-red-600 font-medium mb-1' }, 'âŒ ì‹¤ìˆ˜ ìš”ì¸'),
                                            React.createElement('div', { className: 'flex flex-wrap gap-1' },
                                                TRADE_TAGS.failure.map(tag => 
                                                    React.createElement('button', {
                                                        key: `failure-${tag}`,
                                                        type: 'button',
                                                        onClick: () => {
                                                            const isSelected = currentTrade.tags.includes(tag);
                                                            setCurrentTrade(prev => ({
                                                                ...prev,
                                                                tags: isSelected 
                                                                    ? prev.tags.filter(t => t !== tag)
                                                                    : [...prev.tags, tag]
                                                            }));
                                                        },
                                                        className: `text-xs px-2 py-1 rounded transition-colors ${
                                                            currentTrade.tags.includes(tag) 
                                                                ? 'bg-red-100 text-red-700 border border-red-300'
                                                                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                                        }`
                                                    }, tag.replace('_', ' '))
                                                )
                                            )
                                        ])
                                    ])
                                ])
                            ]),
                            React.createElement('div', { key: 'buttons', className: 'flex gap-3 mt-6' }, [
                                React.createElement('button', {
                                    key: 'cancel',
                                    onClick: () => {
                                        setShowTradeForm(false);
                                        setEditingTrade(null);
                                        setCurrentTrade({
                                            date: new Date().toISOString().split('T')[0],
                                            entry: '', withdrawal: '', balance: '', memo: '',
                                            tags: [],
                                            checklist: {},
                                            emotion: '',
                                            confidence: 5
                                        });
                                    },
                                    className: 'flex-1 px-3 py-1.5 border rounded text-sm hover:bg-gray-50 transition-colors'
                                }, 'ì·¨ì†Œ'),
                                React.createElement('button', {
                                    key: 'save',
                                    onClick: handleSaveTrade,
                                    className: 'flex-1 px-3 py-1.5 btn-primary rounded text-sm'
                                }, 'ì €ì¥')
                            ])
                        ])
                    ])
                ]);
            };
            
            const renderJournal = () => {
                const days = getDaysInMonth(currentMonth);
                const monthStr = currentMonth.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long' });
                
                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex justify-between items-center' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, 'ë§¤ë§¤ì¼ì§€'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, 'ì¼ë³„ ë§¤ë§¤ ê¸°ë¡ê³¼ ë¶„ì„ì„ ê´€ë¦¬í•˜ì„¸ìš”')
                        ]),
                        React.createElement('div', { key: 'controls', className: 'flex gap-3' }, [
                            React.createElement('div', { key: 'view-toggle', className: 'flex rounded-lg p-1 bg-gray-100' }, [
                                React.createElement('button', {
                                    key: 'calendar',
                                    onClick: () => setViewMode('calendar'),
                                    className: `px-3 py-1 text-sm rounded-md transition-colors ${
                                        viewMode === 'calendar' ? 'bg-white shadow-sm' : 'text-gray-600'
                                    }`
                                }, 'ìº˜ë¦°ë”'),
                                React.createElement('button', {
                                    key: 'list',
                                    onClick: () => setViewMode('list'),
                                    className: `px-3 py-1 text-sm rounded-md transition-colors ${
                                        viewMode === 'list' ? 'bg-white shadow-sm' : 'text-gray-600'
                                    }`
                                }, 'ëª©ë¡')
                            ])
                        ])
                    ]),
                    
                    viewMode === 'calendar' ? 
                    React.createElement('div', { key: 'calendar', className: 'metric-card overflow-hidden max-w-lg mx-auto' }, [
                        // ìº˜ë¦°ë” í—¤ë”
                        React.createElement('div', { 
                            key: 'calendar-header', 
                            className: 'px-6 py-4 border-b'
                        }, [
                            React.createElement('div', { key: 'month-nav', className: 'flex justify-between items-center' }, [
                                React.createElement('button', {
                                    key: 'prev',
                                    onClick: () => setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1)),
                                    className: 'p-2 hover:bg-gray-100 rounded text-base',
                                    style: { color: 'var(--foreground)' }
                                }, 'â€¹'),
                                React.createElement('h3', { 
                                    className: 'text-base font-semibold',
                                    style: { color: 'var(--foreground)' }
                                }, monthStr),
                                React.createElement('button', {
                                    key: 'next',
                                    onClick: () => setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1)),
                                    className: 'p-2 hover:bg-gray-100 rounded text-base',
                                    style: { color: 'var(--foreground)' }
                                }, 'â€º')
                            ])
                        ]),
                        // ìš”ì¼ í—¤ë”
                        React.createElement('div', { 
                            key: 'weekdays', 
                            className: 'grid grid-cols-7 border-b bg-gray-50'
                        }, ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '].map((day, index) => 
                            React.createElement('div', { 
                                key: index,
                                className: 'py-3 text-sm font-medium text-center text-gray-600'
                            }, day)
                        )),
                        // ìº˜ë¦°ë” ê·¸ë¦¬ë“œ
                        React.createElement('div', { key: 'calendar-body', className: 'p-1' }, [
                            React.createElement('div', { key: 'calendar-grid', className: 'grid grid-cols-7' },
                            days.map((date, index) => {
                                if (!date) {
                                    return React.createElement('div', { 
                                        key: index, 
                                        className: 'h-14 w-full'
                                    });
                                }
                                
                                const dateStr = formatDateForJournal(date);
                                const hasEntry = hasJournalEntry(date);
                                const isSelected = dateStr === selectedDate;
                                const isToday = dateStr === new Date().toISOString().split('T')[0];
                                const dayOfWeek = date.getDay();
                                const isPrevMonth = date.getMonth() !== currentMonth.getMonth();
                                
                                return React.createElement('button', {
                                    key: dateStr,
                                    onClick: () => {
                                        if (!isPrevMonth) {
                                            setSelectedDate(dateStr);
                                            const existingEntry = journals.find(j => j.date === dateStr);
                                            if (existingEntry) {
                                                setJournalEntry(existingEntry.content);
                                                setDailyMood(existingEntry.mood || '');
                                            } else {
                                                setJournalEntry('');
                                                setDailyMood('');
                                            }
                                            setShowJournalForm(true);
                                        }
                                    },
                                    className: `h-14 w-full text-sm transition-colors relative border-r border-b hover:bg-gray-50 flex items-center justify-center ${
                                        isPrevMonth 
                                            ? 'text-gray-300 cursor-not-allowed'
                                            : isSelected 
                                                ? 'bg-blue-50 text-blue-600 font-medium' 
                                                : isToday
                                                    ? 'bg-red-50 text-red-600 font-medium'
                                                    : hasEntry
                                                        ? 'bg-green-50 text-green-700'
                                                        : 'text-gray-700'
                                    }`,
                                    style: { color: isPrevMonth ? '#d1d5db' : undefined }
                                }, [
                                    React.createElement('div', {
                                        key: 'day-content',
                                        className: 'flex flex-col items-center'
                                    }, [
                                        React.createElement('span', { 
                                            key: 'day-number',
                                            className: 'text-xs'
                                        }, date.getDate()),
                                        
                                        (() => {
                                            if (!hasEntry || isPrevMonth) return null;
                                            const entry = getJournalEntry(date);
                                            const mood = entry?.mood;
                                            const emoji = mood ? moodEmojis[mood] : 'ğŸ“';
                                            return React.createElement('span', {
                                                key: 'mood-emoji',
                                                className: 'text-sm mt-0.5',
                                                title: mood ? moodLabels[mood] : 'ì¼ì§€ ì‘ì„±ë¨'
                                            }, emoji);
                                        })()
                                    ])
                                ]);
                            })
                            )
                        ])
                    ]) :
                    
                    React.createElement('div', { key: 'list', className: 'metric-card' }, [
                        React.createElement('div', { key: 'list-header', className: 'p-4 border-b' }, [
                            React.createElement('h3', { 
                                className: 'font-semibold',
                                style: { color: 'var(--foreground)' }
                            }, 'ì¼ì§€ ëª©ë¡')
                        ]),
                        journals.length > 0 ? React.createElement('div', { key: 'entries' },
                            journals.map(entry =>
                                React.createElement('div', {
                                    key: entry.id,
                                    className: 'p-4 border-b hover:bg-gray-50'
                                }, [
                                    React.createElement('div', { key: 'date', className: 'text-sm text-gray-500 mb-1' }, entry.date),
                                    React.createElement('p', { key: 'content', className: 'text-gray-700' }, entry.content)
                                ])
                            )
                        ) : React.createElement('div', {
                            key: 'empty',
                            className: 'p-8 text-center text-gray-500'
                        }, 'ì‘ì„±ëœ ì¼ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.')
                    ]),
                    
                    showJournalForm && React.createElement('div', {
                        key: 'journal-modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'
                    }, [
                        React.createElement('div', {
                            key: 'modal',
                            className: 'bg-white rounded-2xl p-6 w-full max-w-lg mx-4'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-xl font-bold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, `${selectedDate} ë§¤ë§¤ì¼ì§€`),
                            React.createElement('textarea', {
                                key: 'textarea',
                                value: journalEntry,
                                onChange: (e) => setJournalEntry(e.target.value),
                                className: 'w-full h-40 p-3 border rounded-lg resize-none',
                                placeholder: 'ì˜¤ëŠ˜ì˜ ë§¤ë§¤ ê¸°ë¡ê³¼ ë¶„ì„ì„ ì‘ì„±í•˜ì„¸ìš”...'
                            }),
                            React.createElement('div', { key: 'mood-section', className: 'mt-4' }, [
                                React.createElement('label', {
                                    key: 'mood-label',
                                    className: 'block text-sm font-medium mb-3',
                                    style: { color: 'var(--foreground)' }
                                }, 'ì˜¤ëŠ˜ì˜ ì„±ê³¼'),
                                React.createElement('div', {
                                    key: 'mood-options',
                                    className: 'flex gap-2 justify-center'
                                }, Object.entries(moodEmojis).map(([moodKey, emoji]) => 
                                    React.createElement('button', {
                                        key: moodKey,
                                        type: 'button',
                                        onClick: () => setDailyMood(moodKey),
                                        className: `p-3 text-2xl rounded-lg border-2 transition-all hover:scale-110 ${
                                            dailyMood === moodKey 
                                                ? 'border-blue-500 bg-blue-50 scale-110' 
                                                : 'border-gray-200 hover:border-gray-300'
                                        }`,
                                        title: moodLabels[moodKey]
                                    }, emoji)
                                ))
                            ]),
                            React.createElement('div', { key: 'buttons', className: 'flex gap-3 mt-4' }, [
                                React.createElement('button', {
                                    key: 'cancel',
                                    onClick: () => {
                                        setShowJournalForm(false);
                                        setJournalEntry('');
                                        setDailyMood('');
                                    },
                                    className: 'flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50'
                                }, 'ì·¨ì†Œ'),
                                React.createElement('button', {
                                    key: 'save',
                                    onClick: handleSaveJournalEntry,
                                    className: 'flex-1 px-4 py-2 btn-primary rounded-lg'
                                }, 'ì €ì¥')
                            ])
                        ])
                    ])
                ]);
            };
            
            const renderAnalytics = () => {
                const totalTrades = trades.length;
                const profitTrades = trades.filter(t => (t.profit || 0) > 0);
                const lossTrades = trades.filter(t => (t.profit || 0) < 0);
                const breakEvenTrades = trades.filter(t => (t.profit || 0) === 0);
                const winRate = totalTrades > 0 ? (profitTrades.length / totalTrades * 100) : 0;
                const totalProfit = trades.reduce((sum, t) => sum + (t.profit || 0), 0);
                const avgProfit = totalTrades > 0 ? totalProfit / totalTrades : 0;
                const avgProfitTrade = profitTrades.length > 0 ? profitTrades.reduce((sum, t) => sum + t.profit, 0) / profitTrades.length : 0;
                const avgLossTrade = lossTrades.length > 0 ? lossTrades.reduce((sum, t) => sum + Math.abs(t.profit), 0) / lossTrades.length : 0;

                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, 'ë¶„ì„'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, 'ìƒì„¸í•œ íŠ¸ë ˆì´ë”© ë¶„ì„ê³¼ í†µê³„')
                    ]),

                    React.createElement('div', {
                        key: 'key-metrics',
                        className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4'
                    }, [
                        React.createElement('div', {
                            key: 'total-trades',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ì´ ê±°ë˜'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, `${totalTrades}ê±´`)
                        ]),
                        React.createElement('div', {
                            key: 'win-rate',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ìŠ¹ë¥ '),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: winRate >= 50 ? 'var(--accent)' : '#ef4444' }
                            }, `${winRate.toFixed(1)}%`)
                        ]),
                        React.createElement('div', {
                            key: 'avg-profit',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'í‰ê·  ìˆ˜ìµ'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: avgProfit >= 0 ? 'var(--accent)' : '#ef4444' }
                            }, formatCurrency(avgProfit))
                        ]),
                        React.createElement('div', {
                            key: 'profit-factor',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ì†ìµë¹„'),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--foreground)' }
                            }, avgLossTrade !== 0 ? `${Math.abs(avgProfitTrade / avgLossTrade).toFixed(2)}` : '-')
                        ]),
                        React.createElement('div', {
                            key: 'goal-progress',
                            className: 'metric-card p-4'
                        }, [
                            React.createElement('h3', { className: 'text-sm font-medium text-gray-500' }, 'ëª©í‘œ ë‹¬ì„±ë¥ '),
                            React.createElement('p', { 
                                className: 'text-2xl font-bold',
                                style: { color: 'var(--accent)' }
                            }, (() => {
                                if (goals.length === 0) return '0.0%';
                                const completedGoals = goals.filter(goal => {
                                    let progress = 0;
                                    let progressCount = 0;
                                    
                                    if (goal.targetAmount) {
                                        const currentProfit = totalProfit;
                                        const targetAmount = parseFloat(goal.targetAmount);
                                        progress += Math.min((currentProfit / targetAmount) * 100, 100);
                                        progressCount++;
                                    }
                                    
                                    if (goal.targetWinRate) {
                                        const currentWinRate = winRate;
                                        const targetWinRate = parseFloat(goal.targetWinRate);
                                        progress += Math.min((currentWinRate / targetWinRate) * 100, 100);
                                        progressCount++;
                                    }
                                    
                                    const goalProgress = progressCount > 0 ? progress / progressCount : 0;
                                    return goalProgress >= 100;
                                });
                                const achievementRate = (completedGoals.length / goals.length) * 100;
                                return `${achievementRate.toFixed(1)}%`;
                            })())
                        ])
                    ]),
                    
                    window.Recharts && React.createElement('div', {
                        key: 'charts-section',
                        className: 'grid grid-cols-1 lg:grid-cols-2 gap-6'
                    }, [
                        React.createElement('div', {
                            key: 'winrate-chart',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ê±°ë˜ ê²°ê³¼ ë¶„ì„'),
                            React.createElement('div', {
                                key: 'chart-container',
                                className: 'h-64 flex items-center justify-center'
                            }, totalTrades > 0 ? React.createElement(window.Recharts.ResponsiveContainer, { width: '100%', height: '100%' },
                                React.createElement(window.Recharts.PieChart, {}, [
                                    React.createElement(window.Recharts.Pie, {
                                        key: 'pie',
                                        data: [
                                            { name: 'ìˆ˜ìµ', value: profitTrades.length, fill: '#10b981' },
                                            { name: 'ì†ì‹¤', value: lossTrades.length, fill: '#ef4444' },
                                            { name: 'ë¬´ìŠ¹ë¶€', value: breakEvenTrades.length, fill: '#9ca3af' }
                                        ],
                                        cx: '50%',
                                        cy: '50%',
                                        outerRadius: 80,
                                        dataKey: 'value',
                                        label: ({name, value}) => `${name}: ${value}`
                                    }),
                                    React.createElement(window.Recharts.Tooltip, { key: 'tooltip' })
                                ])
                            ) : React.createElement('p', { className: 'text-gray-500' }, 'ê±°ë˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤'))
                        ]),

                        React.createElement('div', {
                            key: 'monthly-chart',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ì›”ë³„ ìˆ˜ìµ í˜„í™©'),
                            React.createElement('div', {
                                key: 'chart-container',
                                className: 'h-64'
                            }, totalTrades > 0 ? (() => {
                                const monthlyProfits = {};
                                trades.forEach(trade => {
                                    const month = trade.date.substring(0, 7);
                                    if (!monthlyProfits[month]) {
                                        monthlyProfits[month] = 0;
                                    }
                                    monthlyProfits[month] += trade.profit || 0;
                                });
                                
                                const monthlyData = Object.entries(monthlyProfits).map(([month, profit]) => ({
                                    month: month,
                                    profit: profit
                                })).sort((a, b) => a.month.localeCompare(b.month));

                                return React.createElement(window.Recharts.ResponsiveContainer, { width: '100%', height: '100%' },
                                    React.createElement(window.Recharts.BarChart, { data: monthlyData }, [
                                        React.createElement(window.Recharts.CartesianGrid, {
                                            key: 'grid',
                                            strokeDasharray: '3 3',
                                            stroke: '#e0e7ff'
                                        }),
                                        React.createElement(window.Recharts.XAxis, {
                                            key: 'x',
                                            dataKey: 'month',
                                            stroke: '#6b7280'
                                        }),
                                        React.createElement(window.Recharts.YAxis, {
                                            key: 'y',
                                            stroke: '#6b7280',
                                            tickFormatter: (value) => formatCurrency(value)
                                        }),
                                        React.createElement(window.Recharts.Tooltip, {
                                            key: 'tooltip',
                                            formatter: (value) => [formatCurrency(value), 'ìˆ˜ìµ']
                                        }),
                                        React.createElement(window.Recharts.Bar, {
                                            key: 'bar',
                                            dataKey: 'profit',
                                            fill: '#3b82f6'
                                        })
                                    ])
                                );
                            })() : React.createElement('div', { className: 'flex items-center justify-center h-full' },
                                React.createElement('p', { className: 'text-gray-500' }, 'ê±°ë˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤')
                            ))
                        ])
                    ]),

                    React.createElement('div', {
                        key: 'detailed-stats',
                        className: 'metric-card p-6'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-lg font-semibold mb-6',
                            style: { color: 'var(--foreground)' }
                        }, 'ìƒì„¸ í†µê³„'),
                        React.createElement('div', { key: 'stats-content', className: 'space-y-6' }, [
                            React.createElement('div', { key: 'trade-analysis', className: 'space-y-3' }, [
                                React.createElement('h4', {
                                    className: 'font-medium text-sm text-gray-600 border-b pb-2',
                                    style: { borderColor: 'var(--accent)' }
                                }, 'ê±°ë˜ ë¶„ì„'),
                                React.createElement('div', { className: 'space-y-2' }, [
                                    React.createElement('div', { key: 'avg-profit-trade', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'í‰ê·  ìˆ˜ìµ ê±°ë˜'),
                                        React.createElement('span', { className: 'stat-value-compact' }, formatCurrency(avgProfitTrade))
                                    ]),
                                    React.createElement('div', { key: 'avg-loss-trade', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'í‰ê·  ì†ì‹¤ ê±°ë˜'),
                                        React.createElement('span', { className: 'stat-value-compact' }, formatCurrency(-avgLossTrade))
                                    ]),
                                    React.createElement('div', { key: 'max-profit', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'ìµœëŒ€ ìˆ˜ìµ'),
                                        React.createElement('span', { className: 'stat-value-compact' }, 
                                            formatCurrency(Math.max(...trades.map(t => t.profit || 0), 0))
                                        )
                                    ]),
                                    React.createElement('div', { key: 'max-loss', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'ìµœëŒ€ ì†ì‹¤'),
                                        React.createElement('span', { className: 'stat-value-compact' }, 
                                            formatCurrency(Math.min(...trades.map(t => t.profit || 0), 0))
                                        )
                                    ])
                                ])
                            ]),
                            React.createElement('div', { key: 'performance-analysis', className: 'space-y-3' }, [
                                React.createElement('h4', {
                                    className: 'font-medium text-sm text-gray-600 border-b pb-2',
                                    style: { borderColor: 'var(--accent)' }
                                }, 'ì„±ê³¼ ë¶„ì„'),
                                React.createElement('div', { className: 'space-y-2' }, [
                                    React.createElement('div', { key: 'total-return', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'ì´ ìˆ˜ìµë¥ '),
                                        React.createElement('span', { 
                                            className: 'stat-value-compact',
                                            style: { color: totalProfit >= 0 ? 'var(--accent)' : '#ef4444' }
                                        }, `${((totalProfit / 1000000) * 100).toFixed(2)}%`)
                                    ]),
                                    React.createElement('div', { key: 'win-loss-ratio', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'ìŠ¹íŒ¨ ë¹„ìœ¨'),
                                        React.createElement('span', { className: 'stat-value-compact' }, 
                                            `${profitTrades.length}ìŠ¹ ${lossTrades.length}íŒ¨`
                                        )
                                    ]),
                                    React.createElement('div', { key: 'profitable-days', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'ìˆ˜ìµ ê±°ë˜ ë¹„ì¤‘'),
                                        React.createElement('span', { className: 'stat-value-compact' }, `${winRate.toFixed(1)}%`)
                                    ]),
                                    React.createElement('div', { key: 'avg-daily', className: 'compact-stat-item' }, [
                                        React.createElement('span', { className: 'stat-label-compact' }, 'ì¼í‰ê·  ìˆ˜ìµ'),
                                        React.createElement('span', { className: 'stat-value-compact' }, formatCurrency(avgProfit))
                                    ])
                                ])
                            ])
                        ])
                    ])
                ]);
            };
            
            const renderStrategy = () => {
                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex justify-between items-center' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, 'ë§¤ë§¤ì „ëµ'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, 'ì²´ê³„ì ì¸ ë§¤ë§¤ ì „ëµì„ ìˆ˜ë¦½í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”')
                        ]),
                        React.createElement('button', {
                            key: 'add-btn',
                            onClick: () => setShowStrategyForm(true),
                            className: 'px-4 py-2 btn-primary rounded-lg'
                        }, 'ì „ëµ ì¶”ê°€')
                    ]),
                    
                    strategies.length > 0 ? React.createElement('div', {
                        key: 'strategies-grid',
                        className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'
                    }, strategies.map(strategy =>
                        React.createElement('div', {
                            key: strategy.id,
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('div', { key: 'header', className: 'flex justify-between items-start mb-4' }, [
                                React.createElement('h3', { 
                                    className: 'text-lg font-semibold',
                                    style: { color: 'var(--foreground)' }
                                }, strategy.name),
                                React.createElement('div', { key: 'actions', className: 'flex gap-2' }, [
                                    React.createElement('button', {
                                        key: 'edit',
                                        onClick: () => handleEditStrategy(strategy),
                                        className: 'text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200'
                                    }, 'ìˆ˜ì •'),
                                    React.createElement('button', {
                                        key: 'delete',
                                        onClick: () => handleDeleteStrategy(strategy.id),
                                        className: 'text-xs px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200'
                                    }, 'ì‚­ì œ')
                                ])
                            ]),
                            React.createElement('div', { key: 'risk-level', className: 'mb-3' }, [
                                React.createElement('span', { 
                                    className: `inline-block px-2 py-1 text-xs rounded-full ${
                                        strategy.riskLevel === 'high' ? 'bg-red-100 text-red-700' :
                                        strategy.riskLevel === 'medium' ? 'bg-yellow-100 text-yellow-700' :
                                        'bg-green-100 text-green-700'
                                    }`
                                }, `${strategy.riskLevel === 'high' ? 'ê³ ìœ„í—˜' : strategy.riskLevel === 'medium' ? 'ì¤‘ìœ„í—˜' : 'ì €ìœ„í—˜'}`)
                            ]),
                            React.createElement('p', { 
                                key: 'description', 
                                className: 'text-sm text-gray-600 mb-4 line-clamp-3' 
                            }, strategy.description || 'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.'),
                            strategy.rules && React.createElement('div', { key: 'rules', className: 'border-t pt-3' }, [
                                React.createElement('h4', { className: 'text-sm font-medium text-gray-700 mb-2' }, 'ë§¤ë§¤ ê·œì¹™'),
                                React.createElement('p', { className: 'text-xs text-gray-600 line-clamp-3' }, strategy.rules)
                            ]),
                            React.createElement('div', { key: 'date', className: 'mt-4 pt-3 border-t text-xs text-gray-400' }, 
                                `ìƒì„±ì¼: ${new Date(strategy.createdAt).toLocaleDateString('ko-KR')}`
                            )
                        ])
                    )) : React.createElement('div', {
                        key: 'empty',
                        className: 'metric-card p-12 text-center'
                    }, [
                        React.createElement('h3', { 
                            key: 'title',
                            className: 'text-lg font-medium text-gray-500 mb-2' 
                        }, 'ë“±ë¡ëœ ë§¤ë§¤ì „ëµì´ ì—†ìŠµë‹ˆë‹¤'),
                        React.createElement('p', { 
                            key: 'desc',
                            className: 'text-sm text-gray-400 mb-4' 
                        }, 'ì²´ê³„ì ì¸ ë§¤ë§¤ë¥¼ ìœ„í•´ ì „ëµì„ ì¶”ê°€í•´ë³´ì„¸ìš”'),
                        React.createElement('button', {
                            key: 'add-btn',
                            onClick: () => setShowStrategyForm(true),
                            className: 'px-4 py-2 btn-primary rounded-lg'
                        }, 'ì²« ë²ˆì§¸ ì „ëµ ì¶”ê°€')
                    ]),
                    
                    showStrategyForm && React.createElement('div', {
                        key: 'strategy-modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'
                    }, [
                        React.createElement('div', {
                            key: 'modal',
                            className: 'bg-white rounded-2xl p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-xl font-bold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, editingStrategy ? 'ì „ëµ ìˆ˜ì •' : 'ì „ëµ ì¶”ê°€'),
                            React.createElement('div', { key: 'form', className: 'space-y-6' }, [
                                // ê¸°ë³¸ ì •ë³´
                                React.createElement('div', { key: 'basic-info', className: 'space-y-4' }, [
                                    React.createElement('h4', { className: 'text-lg font-semibold text-gray-700 border-b pb-2' }, 'ê¸°ë³¸ ì •ë³´'),
                                    React.createElement('div', { key: 'name-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì „ëµëª… *'),
                                        React.createElement('input', {
                                            type: 'text',
                                            value: currentStrategy.name,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, name: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì˜ˆ: RSI ì—­ì „ ì „ëµ'
                                        })
                                    ]),
                                    React.createElement('div', { key: 'description-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì „ëµ ì„¤ëª…'),
                                        React.createElement('textarea', {
                                            value: currentStrategy.description,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, description: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg h-20 resize-none focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì „ëµì˜ í•µì‹¬ ì•„ì´ë””ì–´ì™€ ëª©ì ì„ ê°„ë‹¨íˆ ì„¤ëª…í•˜ì„¸ìš”'
                                        })
                                    ])
                                ]),

                                // ë§¤ìˆ˜/ë§¤ë„ ê¸°ì¤€
                                React.createElement('div', { key: 'trading-criteria', className: 'space-y-4' }, [
                                    React.createElement('h4', { className: 'text-lg font-semibold text-gray-700 border-b pb-2' }, 'ë§¤ë§¤ ê¸°ì¤€'),
                                    React.createElement('div', { key: 'buy-criteria-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ë§¤ìˆ˜ ê¸°ì¤€ *'),
                                        React.createElement('textarea', {
                                            value: currentStrategy.buyCriteria,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, buyCriteria: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg h-24 resize-none focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì˜ˆ: RSI 30 ì´í•˜ + ì´ë™í‰ê· ì„  ì§€ì§€ + ê±°ë˜ëŸ‰ ì¦ê°€'
                                        })
                                    ]),
                                    React.createElement('div', { key: 'sell-criteria-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ë§¤ë„ ê¸°ì¤€ *'),
                                        React.createElement('textarea', {
                                            value: currentStrategy.sellCriteria,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, sellCriteria: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg h-24 resize-none focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì˜ˆ: ëª©í‘œê°€ ë„ë‹¬ ì‹œ ë˜ëŠ” RSI 70 ì´ìƒ'
                                        })
                                    ])
                                ]),

                                // ë¦¬ìŠ¤í¬ ê´€ë¦¬
                                React.createElement('div', { key: 'risk-management', className: 'space-y-4' }, [
                                    React.createElement('h4', { className: 'text-lg font-semibold text-gray-700 border-b pb-2' }, 'ë¦¬ìŠ¤í¬ ê´€ë¦¬'),
                                    React.createElement('div', { key: 'grid-layout', className: 'grid grid-cols-1 md:grid-cols-2 gap-4' }, [
                                        React.createElement('div', { key: 'risk-level-field' }, [
                                            React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ìœ„í—˜ë„'),
                                            React.createElement('select', {
                                                value: currentStrategy.riskLevel,
                                                onChange: (e) => setCurrentStrategy(prev => ({...prev, riskLevel: e.target.value})),
                                                className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500'
                                            }, [
                                                React.createElement('option', { key: 'low', value: 'low' }, 'ì €ìœ„í—˜'),
                                                React.createElement('option', { key: 'medium', value: 'medium' }, 'ì¤‘ìœ„í—˜'),
                                                React.createElement('option', { key: 'high', value: 'high' }, 'ê³ ìœ„í—˜')
                                            ])
                                        ]),
                                        React.createElement('div', { key: 'timeframe-field' }, [
                                            React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'íˆ¬ì ê¸°ê°„'),
                                            React.createElement('input', {
                                                type: 'text',
                                                value: currentStrategy.timeframe,
                                                onChange: (e) => setCurrentStrategy(prev => ({...prev, timeframe: e.target.value})),
                                                className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500',
                                                placeholder: 'ì˜ˆ: ë‹¨ê¸° (1-7ì¼)'
                                            })
                                        ])
                                    ]),
                                    React.createElement('div', { key: 'stop-loss-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì†ì ˆ ê¸°ì¤€'),
                                        React.createElement('textarea', {
                                            value: currentStrategy.stopLoss,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, stopLoss: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg h-20 resize-none focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì˜ˆ: ë§¤ìˆ˜ê°€ ëŒ€ë¹„ -5% ë˜ëŠ” ì´ë™í‰ê· ì„  ì´íƒˆ ì‹œ'
                                        })
                                    ]),
                                    React.createElement('div', { key: 'grid-layout-2', className: 'grid grid-cols-1 md:grid-cols-2 gap-4' }, [
                                        React.createElement('div', { key: 'target-return-field' }, [
                                            React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ëª©í‘œ ìˆ˜ìµë¥ '),
                                            React.createElement('input', {
                                                type: 'text',
                                                value: currentStrategy.targetReturn,
                                                onChange: (e) => setCurrentStrategy(prev => ({...prev, targetReturn: e.target.value})),
                                                className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500',
                                                placeholder: 'ì˜ˆ: 10-15%'
                                            })
                                        ]),
                                        React.createElement('div', { key: 'max-drawdown-field' }, [
                                            React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ìµœëŒ€ ì†ì‹¤ í•œë„'),
                                            React.createElement('input', {
                                                type: 'text',
                                                value: currentStrategy.maxDrawdown,
                                                onChange: (e) => setCurrentStrategy(prev => ({...prev, maxDrawdown: e.target.value})),
                                                className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500',
                                                placeholder: 'ì˜ˆ: -3%'
                                            })
                                        ])
                                    ])
                                ]),

                                // ìê¸ˆ ê´€ë¦¬ ë° ê¸°ìˆ  ì§€í‘œ
                                React.createElement('div', { key: 'advanced-settings', className: 'space-y-4' }, [
                                    React.createElement('h4', { className: 'text-lg font-semibold text-gray-700 border-b pb-2' }, 'ìê¸ˆ ê´€ë¦¬ ë° ê¸°ìˆ  ì§€í‘œ'),
                                    React.createElement('div', { key: 'money-management-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ìê¸ˆ ìš´ì˜ ë°©ë²•'),
                                        React.createElement('textarea', {
                                            value: currentStrategy.moneyManagement,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, moneyManagement: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg h-20 resize-none focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì˜ˆ: ì´ ìê¸ˆì˜ 5%ì”© ë¶„í•  ë§¤ìˆ˜, í¬ì§€ì…˜ ì‚¬ì´ì¦ˆ ê´€ë¦¬ ë°©ë²•'
                                        })
                                    ]),
                                    React.createElement('div', { key: 'technical-indicators-field' }, [
                                        React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì‚¬ìš© ê¸°ìˆ ì§€í‘œ'),
                                        React.createElement('textarea', {
                                            value: currentStrategy.technicalIndicators,
                                            onChange: (e) => setCurrentStrategy(prev => ({...prev, technicalIndicators: e.target.value})),
                                            className: 'w-full px-3 py-2 border rounded-lg h-24 resize-none focus:ring-2 focus:ring-blue-500',
                                            placeholder: 'ì˜ˆ: RSI(14), MACD(12,26,9), ë³¼ë¦°ì €ë°´ë“œ(20,2), ì´ë™í‰ê· ì„ (5,20,60)'
                                        })
                                    ])
                                ])
                            ]),
                            React.createElement('div', { key: 'buttons', className: 'flex gap-3 mt-6' }, [
                                React.createElement('button', {
                                    key: 'cancel',
                                    onClick: () => {
                                        setShowStrategyForm(false);
                                        setEditingStrategy(null);
                                        setCurrentStrategy({ 
                    name: '', 
                    description: '', 
                    buyCriteria: '',
                    sellCriteria: '',
                    moneyManagement: '',
                    stopLoss: '',
                    technicalIndicators: '',
                    riskLevel: 'medium',
                    timeframe: '',
                    targetReturn: '',
                    maxDrawdown: ''
                });
                                    },
                                    className: 'flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50'
                                }, 'ì·¨ì†Œ'),
                                React.createElement('button', {
                                    key: 'save',
                                    onClick: handleSaveStrategy,
                                    className: 'flex-1 px-4 py-2 btn-primary rounded-lg'
                                }, 'ì €ì¥')
                            ])
                        ])
                    ])
                ]);
            };
            
            const renderGoals = () => {
                const calculateGoalProgress = (goal) => {
                    if (!goal.targetAmount && !goal.targetWinRate) return 0;
                    
                    let progress = 0;
                    let progressCount = 0;
                    
                    if (goal.targetAmount) {
                        const currentProfit = stats.totalProfit;
                        const targetAmount = parseFloat(goal.targetAmount);
                        progress += Math.min((currentProfit / targetAmount) * 100, 100);
                        progressCount++;
                    }
                    
                    if (goal.targetWinRate) {
                        const currentWinRate = stats.winRate;
                        const targetWinRate = parseFloat(goal.targetWinRate);
                        progress += Math.min((currentWinRate / targetWinRate) * 100, 100);
                        progressCount++;
                    }
                    
                    return progressCount > 0 ? progress / progressCount : 0;
                };
                
                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header', className: 'flex justify-between items-center' }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', { 
                                className: 'text-3xl font-bold mb-2',
                                style: { color: 'var(--foreground)' }
                            }, 'ëª©í‘œì„¤ì •'),
                            React.createElement('p', { 
                                className: 'text-gray-600'
                            }, 'íˆ¬ì ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ë‹¬ì„±ë„ë¥¼ ì¶”ì í•˜ì„¸ìš”')
                        ]),
                        React.createElement('button', {
                            key: 'add-btn',
                            onClick: () => setShowGoalForm(true),
                            className: 'px-4 py-2 btn-primary rounded-lg'
                        }, 'ëª©í‘œ ì¶”ê°€')
                    ]),
                    
                    goals.length > 0 ? React.createElement('div', {
                        key: 'goals-grid',
                        className: 'grid grid-cols-1 md:grid-cols-2 gap-6'
                    }, goals.map(goal => {
                        const progress = calculateGoalProgress(goal);
                        const isCompleted = progress >= 100;
                        const isOverdue = goal.deadline && new Date(goal.deadline) < new Date();
                        
                        return React.createElement('div', {
                            key: goal.id,
                            className: `metric-card p-6 ${isCompleted ? 'ring-2 ring-green-200' : isOverdue ? 'ring-2 ring-red-200' : ''}`
                        }, [
                            React.createElement('div', { key: 'header', className: 'flex justify-between items-start mb-4' }, [
                                React.createElement('h3', { 
                                    className: 'text-lg font-semibold',
                                    style: { color: 'var(--foreground)' }
                                }, goal.title),
                                React.createElement('div', { key: 'actions', className: 'flex gap-2' }, [
                                    React.createElement('button', {
                                        key: 'edit',
                                        onClick: () => handleEditGoal(goal),
                                        className: 'text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200'
                                    }, 'ìˆ˜ì •'),
                                    React.createElement('button', {
                                        key: 'delete',
                                        onClick: () => handleDeleteGoal(goal.id),
                                        className: 'text-xs px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200'
                                    }, 'ì‚­ì œ')
                                ])
                            ]),
                            
                            React.createElement('div', { key: 'progress', className: 'mb-4' }, [
                                React.createElement('div', { className: 'flex justify-between items-center mb-2' }, [
                                    React.createElement('span', { className: 'text-sm font-medium text-gray-700' }, 'ì§„í–‰ë¥ '),
                                    React.createElement('span', { 
                                        className: `text-sm font-bold ${isCompleted ? 'text-green-600' : 'text-gray-700'}`
                                    }, `${progress.toFixed(1)}%`)
                                ]),
                                React.createElement('div', { className: 'w-full bg-gray-200 rounded-full h-3' }, [
                                    React.createElement('div', {
                                        className: `h-3 rounded-full transition-all duration-300 ${
                                            isCompleted ? 'bg-green-500' : 'bg-blue-500'
                                        }`,
                                        style: { width: `${Math.min(progress, 100)}%` }
                                    })
                                ])
                            ]),
                            
                            React.createElement('div', { key: 'targets', className: 'space-y-2 mb-4' }, [
                                goal.targetAmount && React.createElement('div', { key: 'amount', className: 'flex justify-between text-sm' }, [
                                    React.createElement('span', { className: 'text-gray-600' }, 'ëª©í‘œ ìˆ˜ìµ'),
                                    React.createElement('span', { className: 'font-medium' }, formatCurrency(goal.targetAmount))
                                ]),
                                goal.targetWinRate && React.createElement('div', { key: 'winrate', className: 'flex justify-between text-sm' }, [
                                    React.createElement('span', { className: 'text-gray-600' }, 'ëª©í‘œ ìŠ¹ë¥ '),
                                    React.createElement('span', { className: 'font-medium' }, `${goal.targetWinRate}%`)
                                ]),
                                goal.deadline && React.createElement('div', { key: 'deadline', className: 'flex justify-between text-sm' }, [
                                    React.createElement('span', { className: 'text-gray-600' }, 'ëª©í‘œ ë‚ ì§œ'),
                                    React.createElement('span', { 
                                        className: `font-medium ${isOverdue ? 'text-red-600' : ''}`
                                    }, new Date(goal.deadline).toLocaleDateString('ko-KR'))
                                ])
                            ]),
                            
                            goal.description && React.createElement('p', { 
                                key: 'description', 
                                className: 'text-sm text-gray-600 mb-4 line-clamp-2' 
                            }, goal.description),
                            
                            React.createElement('div', { key: 'status', className: 'flex items-center justify-between pt-3 border-t' }, [
                                React.createElement('span', { 
                                    className: `inline-block px-2 py-1 text-xs rounded-full ${
                                        isCompleted ? 'bg-green-100 text-green-700' :
                                        isOverdue ? 'bg-red-100 text-red-700' :
                                        'bg-blue-100 text-blue-700'
                                    }`
                                }, isCompleted ? 'ë‹¬ì„±ì™„ë£Œ' : isOverdue ? 'ê¸°í•œë§Œë£Œ' : 'ì§„í–‰ì¤‘'),
                                React.createElement('span', { className: 'text-xs text-gray-400' }, 
                                    `ìƒì„±ì¼: ${new Date(goal.createdAt).toLocaleDateString('ko-KR')}`
                                )
                            ])
                        ]);
                    })) : React.createElement('div', {
                        key: 'empty',
                        className: 'metric-card p-12 text-center'
                    }, [
                        React.createElement('h3', { 
                            key: 'title',
                            className: 'text-lg font-medium text-gray-500 mb-2' 
                        }, 'ì„¤ì •ëœ ëª©í‘œê°€ ì—†ìŠµë‹ˆë‹¤'),
                        React.createElement('p', { 
                            key: 'desc',
                            className: 'text-sm text-gray-400 mb-4' 
                        }, 'ì²´ê³„ì ì¸ íˆ¬ìë¥¼ ìœ„í•´ ëª©í‘œë¥¼ ì„¤ì •í•´ë³´ì„¸ìš”'),
                        React.createElement('button', {
                            key: 'add-btn',
                            onClick: () => setShowGoalForm(true),
                            className: 'px-4 py-2 btn-primary rounded-lg'
                        }, 'ì²« ë²ˆì§¸ ëª©í‘œ ì¶”ê°€')
                    ]),
                    
                    showGoalForm && React.createElement('div', {
                        key: 'goal-modal',
                        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'
                    }, [
                        React.createElement('div', {
                            key: 'modal',
                            className: 'bg-white rounded-2xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto'
                        }, [
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-xl font-bold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, editingGoal ? 'ëª©í‘œ ìˆ˜ì •' : 'ëª©í‘œ ì¶”ê°€'),
                            React.createElement('div', { key: 'form', className: 'space-y-4' }, [
                                React.createElement('div', { key: 'title-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ëª©í‘œëª…'),
                                    React.createElement('input', {
                                        type: 'text',
                                        value: currentGoal.title,
                                        onChange: (e) => setCurrentGoal(prev => ({...prev, title: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: 'ëª©í‘œëª…ì„ ì…ë ¥í•˜ì„¸ìš”'
                                    })
                                ]),
                                React.createElement('div', { key: 'amount-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ëª©í‘œ ìˆ˜ìµ (ì›)'),
                                    React.createElement('input', {
                                        type: 'number',
                                        value: currentGoal.targetAmount,
                                        onChange: (e) => setCurrentGoal(prev => ({...prev, targetAmount: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: '1000000'
                                    })
                                ]),
                                React.createElement('div', { key: 'winrate-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ëª©í‘œ ìŠ¹ë¥  (%)'),
                                    React.createElement('input', {
                                        type: 'number',
                                        value: currentGoal.targetWinRate,
                                        onChange: (e) => setCurrentGoal(prev => ({...prev, targetWinRate: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg',
                                        placeholder: '70',
                                        min: '0',
                                        max: '100'
                                    })
                                ]),
                                React.createElement('div', { key: 'deadline-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ëª©í‘œ ë‚ ì§œ'),
                                    React.createElement('input', {
                                        type: 'date',
                                        value: currentGoal.deadline,
                                        onChange: (e) => setCurrentGoal(prev => ({...prev, deadline: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg'
                                    })
                                ]),
                                React.createElement('div', { key: 'description-field' }, [
                                    React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'ì„¤ëª…'),
                                    React.createElement('textarea', {
                                        value: currentGoal.description,
                                        onChange: (e) => setCurrentGoal(prev => ({...prev, description: e.target.value})),
                                        className: 'w-full px-3 py-2 border rounded-lg h-24 resize-none',
                                        placeholder: 'ëª©í‘œì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”'
                                    })
                                ])
                            ]),
                            React.createElement('div', { key: 'buttons', className: 'flex gap-3 mt-6' }, [
                                React.createElement('button', {
                                    key: 'cancel',
                                    onClick: () => {
                                        setShowGoalForm(false);
                                        setEditingGoal(null);
                                        setCurrentGoal({ title: '', targetAmount: '', targetWinRate: '', deadline: '', description: '' });
                                    },
                                    className: 'flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50'
                                }, 'ì·¨ì†Œ'),
                                React.createElement('button', {
                                    key: 'save',
                                    onClick: handleSaveGoal,
                                    className: 'flex-1 px-4 py-2 btn-primary rounded-lg'
                                }, 'ì €ì¥')
                            ])
                        ])
                    ])
                ]);
            };
            
            const renderHelp = () => {
                return React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement('div', { key: 'header' }, [
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold mb-2',
                            style: { color: 'var(--foreground)' }
                        }, 'ë„ì›€ë§'),
                        React.createElement('p', { 
                            className: 'text-gray-600'
                        }, 'ì½”ì¸ ë§¤ë§¤ì¼ì§€ ì‚¬ìš©ë²•ì„ í™•ì¸í•˜ì„¸ìš”')
                    ]),

                    React.createElement('div', {
                        key: 'help-sections',
                        className: 'grid gap-6'
                    }, [
                        React.createElement('div', {
                            key: 'getting-started',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h2', {
                                className: 'text-xl font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ğŸ“š ì‹œì‘í•˜ê¸°'),
                            React.createElement('div', { className: 'space-y-3 text-sm text-gray-600' }, [
                                React.createElement('p', { key: 'p1' }, '1. ëŒ€ì‹œë³´ë“œì—ì„œ ì „ì²´ ê±°ë˜ í˜„í™©ì„ í™•ì¸í•˜ì„¸ìš”'),
                                React.createElement('p', { key: 'p2' }, '2. ê±°ë˜ë‚´ì—­ì—ì„œ ìƒˆë¡œìš´ ê±°ë˜ë¥¼ ì¶”ê°€í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”'),
                                React.createElement('p', { key: 'p3' }, '3. ë§¤ë§¤ì¼ì§€ì—ì„œ ê±°ë˜ ê¸°ë¡ê³¼ ë©”ëª¨ë¥¼ ì‘ì„±í•˜ì„¸ìš”'),
                                React.createElement('p', { key: 'p4' }, '4. ë¶„ì„ í˜ì´ì§€ì—ì„œ ìƒì„¸í•œ í†µê³„ë¥¼ í™•ì¸í•˜ì„¸ìš”')
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'features',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h2', {
                                className: 'text-xl font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ğŸ”§ ì£¼ìš” ê¸°ëŠ¥'),
                            React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' }, [
                                React.createElement('div', { key: 'feature1', className: 'space-y-2' }, [
                                    React.createElement('h3', { className: 'font-medium' }, 'ğŸ“Š ëŒ€ì‹œë³´ë“œ'),
                                    React.createElement('p', { className: 'text-sm text-gray-600' }, 'ì´ ìˆ˜ìµ, ìŠ¹ë¥ , ìµœê·¼ ê±°ë˜ ë“± í•µì‹¬ ì§€í‘œë¥¼ í•œëˆˆì— í™•ì¸')
                                ]),
                                React.createElement('div', { key: 'feature2', className: 'space-y-2' }, [
                                    React.createElement('h3', { className: 'font-medium' }, 'ğŸ’° ê±°ë˜ë‚´ì—­'),
                                    React.createElement('p', { className: 'text-sm text-gray-600' }, 'ê±°ë˜ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ë° ìƒì„¸ ì •ë³´ ê´€ë¦¬')
                                ]),
                                React.createElement('div', { key: 'feature3', className: 'space-y-2' }, [
                                    React.createElement('h3', { className: 'font-medium' }, 'ğŸ“ ë§¤ë§¤ì¼ì§€'),
                                    React.createElement('p', { className: 'text-sm text-gray-600' }, 'ë‹¬ë ¥ í˜•íƒœë¡œ ê±°ë˜ ê¸°ë¡ê³¼ ë©”ëª¨ ì‘ì„±')
                                ]),
                                React.createElement('div', { key: 'feature4', className: 'space-y-2' }, [
                                    React.createElement('h3', { className: 'font-medium' }, 'ğŸ“ˆ ë¶„ì„'),
                                    React.createElement('p', { className: 'text-sm text-gray-600' }, 'ìŠ¹ë¥ , ìˆ˜ìµë¥ , ì›”ë³„ í˜„í™© ë“± ìƒì„¸ í†µê³„')
                                ])
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'tips',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h2', {
                                className: 'text-xl font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ğŸ’¡ ì‚¬ìš© íŒ'),
                            React.createElement('div', { className: 'space-y-3 text-sm text-gray-600' }, [
                                React.createElement('p', { key: 'tip1' }, 'â€¢ ê±°ë˜ ì¶”ê°€ ì‹œ ì •í™•í•œ ìˆ˜ìˆ˜ë£Œì™€ ê°€ê²©ì„ ì…ë ¥í•˜ì—¬ ì •í™•í•œ ìˆ˜ìµë¥ ì„ í™•ì¸í•˜ì„¸ìš”'),
                                React.createElement('p', { key: 'tip2' }, 'â€¢ ë§¤ë§¤ì¼ì§€ì— ê±°ë˜ ì´ìœ ì™€ ê²°ê³¼ë¥¼ ìƒì„¸íˆ ê¸°ë¡í•˜ì—¬ íŒ¨í„´ì„ ë¶„ì„í•˜ì„¸ìš”'),
                                React.createElement('p', { key: 'tip3' }, 'â€¢ ëª©í‘œì„¤ì • ë©”ë‰´ì—ì„œ ì›”ë³„/ì—°ê°„ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  ì§„í–‰ìƒí™©ì„ ì¶”ì í•˜ì„¸ìš”'),
                                React.createElement('p', { key: 'tip4' }, 'â€¢ ì •ê¸°ì ìœ¼ë¡œ ë¶„ì„ í˜ì´ì§€ë¥¼ í™•ì¸í•˜ì—¬ ë§¤ë§¤ ì„±ê³¼ë¥¼ ì ê²€í•˜ì„¸ìš”')
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'usage-guide',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h2', {
                                className: 'text-xl font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ğŸ’¡ ì‚¬ìš©ë²• ì•ˆë‚´'),
                            React.createElement('div', { className: 'space-y-4 text-sm' }, [
                                React.createElement('div', { key: 'local-usage' }, [
                                    React.createElement('h3', { className: 'font-medium text-green-600' }, 'ğŸ  ë¡œì»¬ ì‚¬ìš© (ê¸°ë³¸)'),
                                    React.createElement('p', { className: 'text-gray-600' }, 'â€¢ ë¡œê·¸ì¸ ì—†ì´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤'),
                                    React.createElement('p', { className: 'text-gray-600' }, 'â€¢ ëª¨ë“  ë°ì´í„°ëŠ” í˜„ì¬ ë¸Œë¼ìš°ì €ì— ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤'),
                                    React.createElement('p', { className: 'text-gray-600' }, 'â€¢ ê°œì¸ì •ë³´ ê±±ì • ì—†ì´ ì™„ì „íˆ í”„ë¼ì´ë¹—í•˜ê²Œ ì‚¬ìš©')
                                ]),
                                React.createElement('div', { key: 'cloud-sync' }, [
                                    React.createElement('h3', { className: 'font-medium text-blue-600' }, 'â˜ï¸ í´ë¼ìš°ë“œ ë™ê¸°í™” (ì„ íƒ)'),
                                    React.createElement('p', { className: 'text-gray-600' }, 'â€¢ ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œë„ ë°ì´í„°ë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´ ê³„ì •ì„ ë§Œë“œì„¸ìš”'),
                                    React.createElement('p', { className: 'text-gray-600' }, 'â€¢ íœ´ëŒ€í°, íƒœë¸”ë¦¿, ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œ ë™ì¼í•œ ë°ì´í„° ì ‘ê·¼'),
                                    React.createElement('p', { className: 'text-gray-600' }, 'â€¢ ë°ì´í„° ë°±ì—… ë° ë³µêµ¬ ê¸°ëŠ¥')
                                ])
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'contact',
                            className: 'metric-card p-6'
                        }, [
                            React.createElement('h2', {
                                className: 'text-xl font-semibold mb-4',
                                style: { color: 'var(--foreground)' }
                            }, 'ğŸ“ ë¬¸ì˜ì‚¬í•­'),
                            React.createElement('p', { 
                                className: 'text-sm text-gray-600 mb-4'
                            }, 'ê¸°ëŠ¥ ê°œì„  ìš”ì²­ì´ë‚˜ ë²„ê·¸ ì‹ ê³ ê°€ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ì—°ë½ì£¼ì„¸ìš”.'),
                            React.createElement('div', { className: 'text-sm' }, [
                                React.createElement('p', { key: 'version', className: 'text-gray-500' }, 'ë²„ì „: 1.0.0'),
                                React.createElement('p', { key: 'updated', className: 'text-gray-500' }, 'ìµœì¢… ì—…ë°ì´íŠ¸: 2025ë…„ 1ì›”')
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'reset-data',
                            className: 'metric-card p-6 border-red-200'
                        }, [
                            React.createElement('h2', {
                                className: 'text-xl font-semibold mb-4 text-red-600'
                            }, 'ğŸ—‘ï¸ ë°ì´í„° ì´ˆê¸°í™”'),
                            React.createElement('p', { 
                                className: 'text-sm text-gray-600 mb-4'
                            }, 'ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì²˜ìŒë¶€í„° ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'),
                            React.createElement('button', {
                                onClick: resetAllData,
                                className: 'w-full px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors'
                            }, 'ëª¨ë“  ë°ì´í„° ì‚­ì œ')
                        ])
                    ])
                ]);
            };
            
            const renderContent = () => {
                switch (activeTab) {
                    case 'dashboard': return renderDashboard();
                    case 'trades': return renderTrades();
                    case 'journal': return renderJournal();
                    case 'analytics': return renderAnalytics();
                    case 'strategy': return renderStrategy();
                    case 'goals': return renderGoals();
                    case 'help': return renderHelp();
                    default: return React.createElement('div', { className: 'p-8 text-center' }, [
                        React.createElement('h2', { key: 'title', className: 'text-2xl font-bold mb-4' }, 'ê°œë°œ ì¤‘'),
                        React.createElement('p', { key: 'desc' }, 'ì´ ê¸°ëŠ¥ì€ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤.')
                    ]);
                }
            };
            
            const sidebarItems = [
                { id: 'dashboard', label: 'ëŒ€ì‹œë³´ë“œ', icon: 'ğŸ“Š' },
                { id: 'analytics', label: 'ë¶„ì„', icon: 'ğŸ“ˆ' },
                { id: 'trades', label: 'ê±°ë˜ë‚´ì—­', icon: 'ğŸ’°' },
                { id: 'journal', label: 'ë§¤ë§¤ì¼ì§€', icon: 'ğŸ“' },
                { id: 'strategy', label: 'ë§¤ë§¤ì „ëµ', icon: 'ğŸ¯' },
                { id: 'goals', label: 'ëª©í‘œì„¤ì •', icon: 'ğŸ†' },
                { id: 'help', label: 'ë„ì›€ë§', icon: 'â“' }
            ];
            
            return React.createElement('div', { className: 'flex h-screen flex-col md:flex-row' }, [
                React.createElement('div', {
                    key: 'sidebar',
                    className: 'w-full md:w-56 h-20 md:h-full sidebar-container flex flex-col md:flex-col order-2 md:order-1'
                }, [
                    React.createElement('div', {
                        key: 'logo',
                        className: 'hidden md:block p-4 border-b'
                    }, [
                        React.createElement('h1', {
                            className: 'font-bold text-lg',
                            style: { color: 'var(--foreground)' }
                        }, 'Coin Tracker')
                    ]),
                    
                    React.createElement('nav', {
                        key: 'nav',
                        className: 'flex-1 p-2 md:p-4'
                    }, React.createElement('ul', { className: 'flex md:flex-col space-x-1 md:space-x-0 md:space-y-1 overflow-x-auto md:overflow-x-visible pb-2 md:pb-0' }, 
                        sidebarItems.map(item =>
                            React.createElement('li', { key: item.id, className: 'flex-shrink-0 md:flex-shrink' },
                                React.createElement('button', {
                                    onClick: () => setActiveTab(item.id),
                                    className: `w-16 md:w-full flex flex-col md:flex-row items-center md:gap-2.5 px-2 py-2 md:px-3 md:py-2.5 rounded-lg text-center md:text-left text-xs md:text-sm transition-colors ${
                                        activeTab === item.id 
                                            ? 'bg-blue-100 text-blue-700 font-medium' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`
                                }, [
                                    React.createElement('span', { 
                                        key: 'icon', 
                                        className: 'text-base md:text-base flex-shrink-0 mb-1 md:mb-0'
                                    }, item.icon),
                                    React.createElement('span', { 
                                        key: 'label', 
                                        className: 'text-xs md:text-sm leading-tight'
                                    }, item.label)
                                ])
                            )
                        )
                    )),
                    
                    React.createElement('div', {
                        key: 'login-section',
                        className: 'hidden md:block p-4 border-t'
                    }, isLoggedIn ? 
                        React.createElement('div', {
                            className: 'space-y-3'
                        }, [
                            React.createElement('div', {
                                key: 'user-info',
                                className: 'p-3 bg-blue-50 rounded-lg'
                            }, [
                                React.createElement('p', { 
                                    key: 'name', 
                                    className: 'font-medium text-sm',
                                    style: { color: 'var(--foreground)' }
                                }, user?.name || 'ì‚¬ìš©ì'),
                                React.createElement('p', { 
                                    key: 'email', 
                                    className: 'text-xs text-gray-500' 
                                }, user?.email || '')
                            ]),
                            React.createElement('button', {
                                key: 'logout',
                                onClick: handleLogout,
                                className: 'w-full px-3 py-2 text-sm text-gray-600 hover:text-gray-800 border rounded-lg hover:bg-gray-50 transition-colors'
                            }, 'ë¡œê·¸ì•„ì›ƒ')
                        ]) :
                        React.createElement('div', { key: 'cloud-sync', className: 'space-y-2' }, [
                            React.createElement('button', {
                                key: 'sync-btn',
                                onClick: () => setShowLoginModal(true),
                                className: 'w-full btn-primary text-sm'
                            }, 'â˜ï¸ í´ë¼ìš°ë“œ ë™ê¸°í™”'),
                            React.createElement('p', {
                                key: 'local-info',
                                className: 'text-xs text-gray-500 text-center'
                            }, 'ë¡œê·¸ì¸ ì—†ì´ë„ ì‚¬ìš© ê°€ëŠ¥\n(ë°ì´í„°ëŠ” í˜„ì¬ ë¸Œë¼ìš°ì €ì— ì €ì¥)')
                        ])
                    )
                ]),
                
                React.createElement('div', {
                    key: 'main',
                    className: 'flex-1 overflow-auto p-3 md:p-6 order-1 md:order-2'
                }, renderContent()),
                
                showLoginModal && renderLoginModal()
            ]);
        }
        
        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(CoinTradingApp));
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('root').innerHTML = `
                <div style="padding: 40px; text-align: center; color: #374151;">
                    <h1>ğŸš¨ ì˜¤ë¥˜ ë°œìƒ</h1>
                    <p>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
                    <pre>${error.message}</pre>
                </div>
            `;
        }
    </script>
</body>
</html>